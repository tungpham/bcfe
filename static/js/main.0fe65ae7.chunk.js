(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){},358:function(e,t,a){},468:function(e,t,a){e.exports=a(839)},469:function(e,t,a){},611:function(e,t){},757:function(e,t,a){},770:function(e,t,a){},798:function(e,t,a){},799:function(e,t,a){},800:function(e,t,a){},839:function(e,t,a){"use strict";a.r(t);a(469);var n=a(0),r=a.n(n),o=a(33),c=a.n(o),s=a(18),l=a(29),i=a(381),u=a.n(i),p=a(329),d=a(209),m=Object(d.a)({palette:{primary:{main:"#4a148c",dark:"#5a5a5a"},secondary:{light:"#c7a4ff",main:"#9575cd",contrastText:"#000000"}},typography:{useNextVariants:!0},overrides:{MuiAppBar:{colorPrimary:{}},MuiDrawer:{paper:{height:"100vh"}},MuiBadge:{colorSecondary:{backgroundColor:"#f50057",color:"#fff"}},MuiTableHead:{root:{backgroundColor:"#4a148c"}},MuiCircularProgress:{root:{position:"relative",left:"calc(50% - 16px)",top:"calc(50% - 16px)",zIndex:"2000"}},MuiTabs:{root:{minHeight:"36px"}},MuiTab:{root:{textTransform:"capitalize"},labelIcon:{minHeight:0,paddingTop:"3px"}},MuiBottomNavigation:{root:{justifyContent:"flex-start"}},MuiSvgIcon:{colorSecondary:{color:"#0000008a"}},MuiIconButton:{root:{padding:"6px 8px"}},MuiTablePagination:{toolbar:{minHeight:"48px",height:"48px"}},MuiContainer:{root:{padding:0}},MuiTreeItem:{root:{paddingTop:8}},MuiExpansionPanel:{root:{"&.Mui-expanded":{margin:0}}},MuiExpansionPanelSummary:{content:{"&.Mui-expanded":{margin:"8px 0"}}}}}),g=a(3),h=a.n(g),f=a(8),b=a(12),v=a(11),E=a(13),y=a(14),x=a(15),j=a(116),w=a(294),O=a(7),S=a(928),C=a(397),k=a.n(C),P=a(878),N=a(880),D=a(931),B=a(9),A=Object(B.a)(function(e){return{toolbarstyle:{backgroundColor:e.palette.background.paper,color:e.palette.primary.dark},curTabPos:{},rootIcon:{marginBottom:"0 !important"}}})(function(e){var t=e.classes,a=e.tabs,n=e.init,o=void 0===n?0:n;return r.a.createElement(P.a,{position:"static",className:t.toolbarstyle},r.a.createElement(D.a,{value:o,variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary"},a.map(function(e,a){return r.a.createElement(N.a,{key:a,component:l.b,to:e.href,label:e.label,icon:e.icon&&r.a.createElement(e.icon,{className:t.rootIcon})})})))}),M=a(382),T=a(10),_=a.n(T),R=new(function(){function e(){var t=this;Object(b.a)(this,e),this.getUserInfo=function(){return new Promise(function(e){t.auth0.client.userInfo(t.accessToken,function(a,n){var r=n["https://tungcb:auth0:com/user_id"],o={Authorization:"Bearer ".concat(t.accessToken),"Content-type":"application/json"};_.a.get("https://tungcb.auth0.com/api/v2/users/"+r,{headers:o}).then(function(a){t.userProfile=a.data,e(a.data)})})})},this.getAccessToken=function(){return t.accessToken},this.getIdToken=function(){return t.idToken},this.isAuthenticated=function(){return(new Date).getTime()<t.expiresAt},this.signIn=function(){t.auth0.authorize(),t.auth0.crossOriginAuthenticationCallback()},this.signOut=function(){t.auth0.logout({returnTo:"http://bcfe.s3-website.us-east-2.amazonaws.com",clientID:"Q3WdOgiwATl3idTKhB1R1AazJ7YAJFnK"})},this.setSession=function(e){t.accessToken=e.accessToken,t.idToken=e.idToken,t.profile=e.idTokenPayload,t.expiresAt=1e3*e.idTokenPayload.exp},this.handleAuthentication=function(){return new Promise(function(e,a){t.auth0.parseHash(function(n,r){return n?a(n):r&&r.idToken&&r.accessToken?(t.setSession(r),void e()):a(n)})})};this.auth0=new M.a.WebAuth({domain:"tungcb.auth0.com",clientID:"Q3WdOgiwATl3idTKhB1R1AazJ7YAJFnK",responseType:"token id_token",redirectUri:"http://bcfe.s3-website.us-east-2.amazonaws.com/callback",audience:"https://tungcb.auth0.com/api/v2/",scope:"openid profile email read:current_user read:user_idp_tokens read:users read:roles update:users update:roles update:users_app_metadata update:current_user_metadata"})}return Object(v.a)(e,[{key:"updateSet",value:function(e){var t=this.userProfile.user_id,a={Authorization:"Bearer ".concat(this.getAccessToken())};_.a.patch("https://tungcb.auth0.com/api/v2/users/"+t,e,{headers:a}).then(function(e){return e.data})}},{key:"updateProfile",value:function(e){var t=this.userProfile.user_id,a={Authorization:"Bearer ".concat(this.getAccessToken())};return _.a.patch("https://tungcb.auth0.com/api/v2/users/"+t,e,{headers:a}).then(function(e){return e.data})}},{key:"silentAuth",value:function(){var e=this;return new Promise(function(t,a){e.auth0.checkSession({},function(n,r){if(n)return a(n);e.setSession(r),t()})})}}]),e}()),L=function(e){return R.isAuthenticated()?r.a.createElement(j.b,e):(R.signIn(),r.a.createElement("div",null," Please Sign In"))},I=a(23),F=a(448),W=a(158),z=a(331),U=a(895),H=a(150),V=a.n(H),G=a(4),q=a(896),J=a(897),Y=a(900),$=a(898),K=a(938),X=a(899),Q=a(83),Z=a(27),ee=a(384),te=a.n(ee),ae=a(6),ne=a(17),re=a.n(ne),oe=a(383),ce=a.n(oe),se=a(447);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ue,pe,de,me=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],c=e[4]+e[5];return parseInt(r,16)+", "+parseInt(o,16)+", "+parseInt(c,16)},ge=["#4a148c","#ab47bc","#8e24aa","#af2cc5","#7b1fa2"],he=["#ff9800","#ffa726","#fb8c00","#ffa21a","#f57c00","#faf2cc","#fcf8e3"],fe=["#f44336","#ef5350","#e53935","#f55a4e","#d32f2f","#ebcccc","#f2dede"],be=["#4caf50","#66bb6a","#43a047","#5cb860","#388e3c","#d0e9c6","#dff0d8"],ve=["#00acc1","#26c6da","#00acc1","#00d3ee","#0097a7","#c4e3f3","#d9edf7"],Ee=["#e91e63","#ec407a","#d81b60","#eb3573","#c2185b"],ye=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#555555","#333","#eee","#ccc","#e4e4e4","#E5E5E5","#f9f9f9","#f5f5f5","#495057","#e7e7e7","#212121","#c8c8c8","#505050"],xe=(me("#000"),me("#000"),me("#000"),{boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(ge[0])+",.4)"}),je={boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(ve[0])+",.4)"},we={boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(be[0])+",.4)"},Oe={boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(he[0])+",.4)"},Se={boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(fe[0])+",.4)"},Ce={boxShadow:"0 4px 20px 0 rgba("+me("#000")+",.14), 0 7px 10px -5px rgba("+me(Ee[0])+",.4)"},ke=(ie({background:"linear-gradient(60deg, "+he[1]+", "+he[2]+")"},Oe),ie({background:"linear-gradient(60deg, "+be[1]+", "+be[2]+")"},we),ie({background:"linear-gradient(60deg, "+fe[1]+", "+fe[2]+")"},Se),ie({background:"linear-gradient(60deg, "+ve[1]+", "+ve[2]+")"},je),ie({background:"linear-gradient(60deg, "+ge[1]+", "+ge[2]+")"},xe),ie({background:"linear-gradient(60deg, "+Ee[1]+", "+Ee[2]+")"},Ce),me("#000"),me("#000"),ie({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+ye[8],height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),me("#000"),me("#000"),me("#000"),me(ye[6]),me("#000"),me("#000"),me("#000"),{color:ye[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:ye[1],fontSize:"65%",fontWeight:"400",lineHeight:"1"}}),Pe=(ie({},ke,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":ie({},ke,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{button:{minHeight:"auto",minWidth:"auto",backgroundColor:ye[0],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me(ye[0])+", 0.14), 0 3px 1px -2px rgba("+me(ye[0])+", 0.2), 0 1px 5px 0 rgba("+me(ye[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:ye[0],boxShadow:"0 14px 26px -12px rgba("+me(ye[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(ye[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},fullWidth:{width:"100%"},primary:{backgroundColor:ge[0],boxShadow:"0 2px 2px 0 rgba("+me(ge[0])+", 0.14), 0 3px 1px -2px rgba("+me(ge[0])+", 0.2), 0 1px 5px 0 rgba("+me(ge[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ge[0],boxShadow:"0 14px 26px -12px rgba("+me(ge[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(ge[0])+", 0.2)"}},info:{backgroundColor:ve[0],boxShadow:"0 2px 2px 0 rgba("+me(ve[0])+", 0.14), 0 3px 1px -2px rgba("+me(ve[0])+", 0.2), 0 1px 5px 0 rgba("+me(ve[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ve[0],boxShadow:"0 14px 26px -12px rgba("+me(ve[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(ve[0])+", 0.2)"}},success:{backgroundColor:be[0],boxShadow:"0 2px 2px 0 rgba("+me(be[0])+", 0.14), 0 3px 1px -2px rgba("+me(be[0])+", 0.2), 0 1px 5px 0 rgba("+me(be[0])+", 0.12)","&:hover,&:focus":{backgroundColor:be[0],boxShadow:"0 14px 26px -12px rgba("+me(be[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(be[0])+", 0.2)"}},warning:{backgroundColor:he[0],boxShadow:"0 2px 2px 0 rgba("+me(he[0])+", 0.14), 0 3px 1px -2px rgba("+me(he[0])+", 0.2), 0 1px 5px 0 rgba("+me(he[0])+", 0.12)","&:hover,&:focus":{backgroundColor:he[0],boxShadow:"0 14px 26px -12px rgba("+me(he[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(he[0])+", 0.2)"}},danger:{backgroundColor:fe[0],boxShadow:"0 2px 2px 0 rgba("+me(fe[0])+", 0.14), 0 3px 1px -2px rgba("+me(fe[0])+", 0.2), 0 1px 5px 0 rgba("+me(fe[0])+", 0.12)","&:hover,&:focus":{backgroundColor:fe[0],boxShadow:"0 14px 26px -12px rgba("+me(fe[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(fe[0])+", 0.2)"}},rose:{backgroundColor:Ee[0],boxShadow:"0 2px 2px 0 rgba("+me(Ee[0])+", 0.14), 0 3px 1px -2px rgba("+me(Ee[0])+", 0.2), 0 1px 5px 0 rgba("+me(Ee[0])+", 0.12)","&:hover,&:focus":{backgroundColor:Ee[0],boxShadow:"0 14px 26px -12px rgba("+me(Ee[0])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(Ee[0])+", 0.2)"}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:ye[0]}},twitter:{backgroundColor:"#55acee",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#55acee")+", 0.14), 0 3px 1px -2px rgba("+me("#55acee")+", 0.2), 0 1px 5px 0 rgba("+me("#55acee")+", 0.12)","&:hover,&:focus,&:visited":{backgroundColor:"#55acee",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#55acee")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#55acee")+", 0.2)"}},facebook:{backgroundColor:"#3b5998",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#3b5998")+", 0.14), 0 3px 1px -2px rgba("+me("#3b5998")+", 0.2), 0 1px 5px 0 rgba("+me("#3b5998")+", 0.12)","&:hover,&:focus":{backgroundColor:"#3b5998",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#3b5998")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#3b5998")+", 0.2)"}},google:{backgroundColor:"#dd4b39",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#dd4b39")+", 0.14), 0 3px 1px -2px rgba("+me("#dd4b39")+", 0.2), 0 1px 5px 0 rgba("+me("#dd4b39")+", 0.12)","&:hover,&:focus":{backgroundColor:"#dd4b39",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#dd4b39")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#dd4b39")+", 0.2)"}},linkedin:{backgroundColor:"#0976b4",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#0976b4")+", 0.14), 0 3px 1px -2px rgba("+me("#0976b4")+", 0.2), 0 1px 5px 0 rgba("+me("#0976b4")+", 0.12)","&:hover,&:focus":{backgroundColor:"#0976b4",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#0976b4")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#0976b4")+", 0.2)"}},pinterest:{backgroundColor:"#cc2127",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#cc2127")+", 0.14), 0 3px 1px -2px rgba("+me("#cc2127")+", 0.2), 0 1px 5px 0 rgba("+me("#cc2127")+", 0.12)","&:hover,&:focus":{backgroundColor:"#cc2127",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#cc2127")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#cc2127")+", 0.2)"}},youtube:{backgroundColor:"#e52d27",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#e52d27")+", 0.14), 0 3px 1px -2px rgba("+me("#e52d27")+", 0.2), 0 1px 5px 0 rgba("+me("#e52d27")+", 0.12)","&:hover,&:focus":{backgroundColor:"#e52d27",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#e52d27")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#e52d27")+", 0.2)"}},tumblr:{backgroundColor:"#35465c",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#35465c")+", 0.14), 0 3px 1px -2px rgba("+me("#35465c")+", 0.2), 0 1px 5px 0 rgba("+me("#35465c")+", 0.12)","&:hover,&:focus":{backgroundColor:"#35465c",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#35465c")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#35465c")+", 0.2)"}},github:{backgroundColor:ye[7],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me(ye[6])+", 0.14), 0 3px 1px -2px rgba("+me(ye[6])+", 0.2), 0 1px 5px 0 rgba("+me(ye[6])+", 0.12)","&:hover,&:focus":{backgroundColor:ye[7],color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me(ye[6])+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me(ye[6])+", 0.2)"}},behance:{backgroundColor:"#1769ff",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#1769ff")+", 0.14), 0 3px 1px -2px rgba("+me("#1769ff")+", 0.2), 0 1px 5px 0 rgba("+me("#1769ff")+", 0.12)","&:hover,&:focus":{backgroundColor:"#1769ff",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#1769ff")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#1769ff")+", 0.2)"}},dribbble:{backgroundColor:"#ea4c89",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#ea4c89")+", 0.14), 0 3px 1px -2px rgba("+me("#ea4c89")+", 0.2), 0 1px 5px 0 rgba("+me("#ea4c89")+", 0.12)","&:hover,&:focus":{backgroundColor:"#ea4c89",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#ea4c89")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#ea4c89")+", 0.2)"}},reddit:{backgroundColor:"#ff4500",color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+me("#ff4500")+", 0.14), 0 3px 1px -2px rgba("+me("#ff4500")+", 0.2), 0 1px 5px 0 rgba("+me("#ff4500")+", 0.12)","&:hover,&:focus":{backgroundColor:"#ff4500",color:"#FFF",boxShadow:"0 14px 26px -12px rgba("+me("#ff4500")+", 0.42), 0 4px 23px 0px rgba("+me("#000")+", 0.12), 0 8px 10px -5px rgba("+me("#ff4500")+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFF",background:"transparent",boxShadow:"none"},"&$primary":{"&,&:focus,&:hover,&:visited":{color:ge[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:ve[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:be[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:he[0]}},"&$rose":{"&,&:focus,&:hover,&:visited":{color:Ee[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:fe[0]}},"&$twitter":{"&,&:focus,&:hover,&:visited":{color:"#55acee"}},"&$facebook":{"&,&:focus,&:hover,&:visited":{color:"#3b5998"}},"&$google":{"&,&:focus,&:hover,&:visited":{color:"#dd4b39"}},"&$linkedin":{"&,&:focus,&:hover,&:visited":{color:"#0976b4"}},"&$pinterest":{"&,&:focus,&:hover,&:visited":{color:"#cc2127"}},"&$youtube":{"&,&:focus,&:hover,&:visited":{color:"#e52d27"}},"&$tumblr":{"&,&:focus,&:hover,&:visited":{color:"#35465c"}},"&$github":{"&,&:focus,&:hover,&:visited":{color:ye[7]}},"&$behance":{"&,&:focus,&:hover,&:visited":{color:"#1769ff"}},"&$dribbble":{"&,&:focus,&:hover,&:visited":{color:"#ea4c89"}},"&$reddit":{"&,&:focus,&:hover,&:visited":{color:"#ff4500"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginTop:"-4px"}},padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginTop:"1px"}},padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:ye[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}}),Ne=r.a.forwardRef(function(e,t){var a,n=e.classes,o=e.color,c=e.round,s=e.children,l=e.fullWidth,i=e.disabled,u=e.simple,p=e.size,d=e.block,m=e.link,g=e.justIcon,h=e.className,f=e.muiClasses,b=Object(ae.a)(e,["classes","color","round","children","fullWidth","disabled","simple","size","block","link","justIcon","className","muiClasses"]),v=re()((a={},Object(G.a)(a,n.button,!0),Object(G.a)(a,n[p],p),Object(G.a)(a,n[o],o),Object(G.a)(a,n.round,c),Object(G.a)(a,n.fullWidth,l),Object(G.a)(a,n.disabled,i),Object(G.a)(a,n.simple,u),Object(G.a)(a,n.block,d),Object(G.a)(a,n.link,m),Object(G.a)(a,n.justIcon,g),Object(G.a)(a,h,h),a));return r.a.createElement(se.a,Object.assign({},b,{ref:t,classes:f,className:v}),s)}),De=ce()(Pe)(Ne),Be=a(881),Ae=Object(B.a)(function(e){return{head:{color:e.palette.common.white}}})(Be.a),Me=a(5),Te=a(449),_e=a(856),Re=a(844),Le=a(882),Ie=a(883),Fe=a(884),We=a(885),ze=a(888),Ue=a(886),He=a(887),Ve=a(176),Ge={success:Le.a,warning:Ie.a,error:Fe.a,info:We.a},qe=Object(Ve.a)(function(e){return{success:{backgroundColor:Ue.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:He.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),Je=function(e){var t=qe({}),a=e.className,n=e.message,o=e.onClose,c=e.variant,s=Ge[c];return r.a.createElement(Re.a,{className:Object(Me.default)(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:Object(Me.default)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(F.a,{key:"close","aria-label":"Close",color:"inherit",onClick:o},r.a.createElement(ze.a,{className:t.icon}))]})},Ye=Object(Ve.a)(function(e){return{margin:{margin:e.spacing(1)}}}),$e=function(e){var t=Ye({}),a=e.open,n=e.variant,o=e.message,c=e.handleClose;return r.a.createElement(_e.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:a,autoHideDuration:4e3,TransitionComponent:Te.a,onClose:c},r.a.createElement(Je,{onClose:c,variant:n,message:o,className:t.margin}))},Ke=a(22),Xe=a(933),Qe=a(330),Ze=a(890),et=a(940),tt=a(893),at=a(889),nt=a(894),rt=a(932),ot=a(934),ct=Object(Qe.a)(function(e){return{control:{width:"100%"}}}),st={PaperProps:{style:{maxHeight:224}}},lt=(Object(B.a)({root:{"& .MuiInputBase-input":{paddingTop:"1.1875em"},"& .MuiInputLabel-formControl":{paddingTop:"0.75em"}}})(Xe.a),function(e){var t=ct({}),a=e.placeholder,n=e.selectChange,o=e.values,c=e.suggestions,s=e.className,l=r.a.useState(!1),i=Object(O.a)(l,2),u=i[0],p=i[1];return r.a.createElement(at.a,{className:s||t.control,margin:"dense"},r.a.createElement(et.a,{htmlFor:"select-multiple-checkbox"},a),r.a.createElement(rt.a,{multiple:!0,open:u,onOpen:function(){return p(!0)},onClose:function(){return p(!1)},value:o,onChange:function(e){n(e.target.value),p(!1)},input:r.a.createElement(Ze.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return r.a.createElement(S.a,null,e.join(", "))},MenuProps:st},c.map(function(e){return r.a.createElement(tt.a,{key:e.id,value:e.name},r.a.createElement(ot.a,{checked:o.indexOf(e.name)>-1}),r.a.createElement(nt.a,{primary:e.name}))})))}),it=a(315),ut=a(941),pt=Object(Qe.a)(function(e){return{root:{display:"block"},textField:{width:"100%"},select:{width:"100%"},control:{padding:e.spacing(0,1)},button:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)}}}),dt=function(e){var t=pt({}),a=e.suggestions,r=e.search,o=n.useState([]),c=Object(O.a)(o,2),s=c[0],l=c[1],i=n.useState(""),u=Object(O.a)(i,2),p=u[0],d=u[1],m=n.useState(""),g=Object(O.a)(m,2),h=g[0],f=g[1];return n.createElement(S.a,{className:t.root},n.createElement(it.a,{container:!0},n.createElement(it.a,{item:!0,xs:6,md:3,className:t.control},n.createElement(Xe.a,{id:"name",label:"Name",className:t.textField,value:p,onChange:function(e){d(e.target.value)},margin:"normal"})),n.createElement(it.a,{item:!0,xs:6,md:3,className:t.control},n.createElement(Xe.a,{id:"city",label:"City",className:t.textField,value:h,onChange:function(e){f(e.target.value)},margin:"normal"})),n.createElement(it.a,{item:!0,xs:8,md:4,className:t.control},n.createElement(lt,{className:t.select,placeholder:"Select multiple specialties",suggestions:a,values:s,selectChange:function(e){l(e)}})),n.createElement(it.a,{item:!0,xs:4,md:2,style:{display:"flex",alignItems:"flex-end",flexDirection:"row"}},n.createElement(se.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){r(p,h,s)}},"Search")),n.createElement(it.a,{item:!0,xs:12,className:t.control,style:{display:"flex"}},s.map(function(e,a){return n.createElement(ut.a,{key:a,label:e,className:t.chip,onDelete:function(){return function(e){var t=s.indexOf(e);t>=0&&l([].concat(Object(Ke.a)(s.slice(0,t)),Object(Ke.a)(s.slice(t+1))))}(e)}})}))))},mt=a(929),gt="CLEAR_SELECTED_CATEGORY",ht="CLEAR_SELECTED_OPTION",ft="https://bcbe-service.herokuapp.com/contractors/",bt={createContractor:function(e){return _.a.post(ft,e)},selectContractor:function(e){return _.a.get(ft+e).then(function(e){return e.data})},deleteContractor:function(e){return _.a.delete(ft+e)},approve:function(e,t){return _.a.post(ft+e,t)},getContractors:function(e,t){return _.a.get(ft,{params:{page:e,size:t}}).then(function(e){return e.data})},search:function(e,t,a){return _.a.post(ft+"search",{name:e,city:t,specialties:a}).then(function(e){return e.data})},getContractorById:function(e){return _.a.get(ft+e).then(function(e){return e.data})},update:function(e,t,a,n){return _.a.post(ft+e,{email:t,updatedBy:a,address:n}).then(function(e){return e.data})},getReviews:function(e){return _.a.get(ft+e+"/get_reviews").then(function(e){return e.data})},requestReview:function(e,t){return _.a.post(ft+e+"/request_reviews",t).then(function(e){return e.data})},uploadLicense:function(e,t,a,n,r){var o=new FormData;return o.append("file",t),o.append("note","".concat(a,"__").concat(n,"__").concat(r)),_.a.post(ft+e+"/files/upload/document",o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},getLicenses:function(e){return _.a.get(ft+e+"/files/document").then(function(e){return e.data})},uploadPastProject:function(e,t,a,n,r,o,c){return _.a.post(ft+e+"/projects/past",{project:{title:t,description:a,budget:n,year:r,duration:o},specialtyId:c},{headers:{"Content-Type":"application/json"}}).then(function(e){return e.data})},getPastProjects:function(e){return _.a.get(ft+e+"/projects/past").then(function(e){return e.data})},uploadAvatar:function(e,t){var a=new FormData;return a.append("file",t),_.a.post(ft+e+"/files/upload/avatar",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},getAvatar:function(e){return ft+e+"/avatar"},uploadPhoto:function(e,t){var a=new FormData;return a.append("file",t),_.a.post(ft+e+"/files/upload/photo",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},updateTitle:function(e,t){return _.a.post(ft+"files/"+e+"/note",{note:t}).then(function(e){return e.data})},getPhotos:function(e){return _.a.get(ft+e+"/photos").then(function(e){return e.data})},addLink:function(e,t,a){return _.a.post(ft+e+"/link",{},{params:{url:t,type:a}}).then(function(e){return e.data})},getLinks:function(e){return _.a.get(ft+e+"/link").then(function(e){return e.data})},uploadFiles:function(e,t){var a=new FormData;return t.forEach(function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.append("file",t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_.a.post(ft+e+"/files/upload/multiple",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},deleteFile:function(e,t){return _.a.delete(ft+e+"/files/"+t)},addSpecialty:function(e,t){return _.a.post(ft+e+"/specialties/"+t)},deleteSpecialty:function(e,t){return _.a.delete(ft+e+"/specialties/"+t)},addProject:function(e,t){return _.a.post(ft+e+"/projects",t).then(function(e){return e.data})},getProjects:function(e,t,a,n){return _.a.get(ft+e+"/projects",{params:{page:t,size:a,status:n}}).then(function(e){return e.data})},getProposals:function(e,t,a,n){return _.a.get(ft+e+"/proposals",{params:{page:t,size:a,status:n}}).then(function(e){return e.data})},getInvitedProjects:function(e,t,a){return _.a.get("https://bcbe-service.herokuapp.com/projects/invites/"+e,{params:{page:t,size:a}}).then(function(e){return e.data})}},vt="https://bcbe-service.herokuapp.com/specialties/",Et=function(e,t){return _.a.get(vt,{params:{page:e,size:t}}).then(function(e){return e.data})},yt=function(e){return _.a.get(vt+e).then(function(e){return e.data})},xt=function(e){return _.a.put(vt+e.id,e).then(function(e){return e.data})},jt=function(e){return _.a.delete(vt+e)},wt=function(e){return _.a.post(vt,e)},Ot=Object(mt.a)((ue={},Object(G.a)(ue,"ALL_CONTRACTORS_LOADED",function(e){return e}),Object(G.a)(ue,"CLEAR_ALL_CONTRACTORS",function(){return null}),Object(G.a)(ue,"CLEAR_SELECTED_CONTRACTOR",function(){return null}),Object(G.a)(ue,ht,function(){return null}),Object(G.a)(ue,"CLEAR_SPECIALTIES",function(){return null}),Object(G.a)(ue,"CONTRACTOR_DETAIL_LOADED",function(e){return e}),Object(G.a)(ue,"SET_SELECTED_CONTRACTOR",function(e){return e}),Object(G.a)(ue,"SPECIALTIES_LOADED",function(e){return e}),Object(G.a)(ue,"PAST_PROJECTS_LOADED",function(e){return e}),ue)),St=Ot.allContractorsLoaded,Ct=Ot.clearAllContractors,kt=(Ot.clearSelectedContractor,Ot.clearSelectedOption,Ot.clearSpecialties,Ot.contractorDetailLoaded),Pt=Ot.setSelectedContractor,Nt=Ot.specialtiesLoaded,Dt=Ot.pastProjectsLoaded,Bt=function(e){return function(t){return bt.selectContractor(e).then(function(e){return t(Pt(e)),e})}},At=function(e){return function(t){return bt.getPastProjects(e).then(function(e){t(Dt(e))})}},Mt=function(e,t){return function(a){return a(Ct()),bt.getContractors(e,t).then(function(e){a(St(e))})}},Tt=function(e){return function(t){return bt.getPhotos(e).then(function(e){t(function(e){return{type:"PROFILE_PHOTOS_LOADED",payload:e}}(e))})}},_t=function(e){return function(t){return bt.getLinks(e).then(function(e){t(function(e){return{type:"PROFILE_LINKS_LOADED",payload:e}}(e))})}},Rt=function(e){return function(t){return bt.getLicenses(e).then(function(e){t(function(e){return{type:"PROFILE_LICENSE_LOADED",payload:e}}(e))})}},Lt=function(e,t){return function(a){return Et(e,t).then(function(e){a(Nt(e))})}},It=function(e,t,a){return function(n){return bt.search(e,t,a).then(function(e){n(St(e))})}},Ft="https://bcbe-service.herokuapp.com/projects/",Wt="https://bcbe-service.herokuapp.com/levels/",zt="https://bcbe-service.herokuapp.com/rooms/",Ut="https://bcbe-service.herokuapp.com/selections/",Ht={addFiles:function(e,t){var a=new FormData;return t.forEach(function(e){a.append("file",e)}),_.a.post(Ft+e+"/files/upload/multiple",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},deleteFile:function(e,t){return _.a.delete(Ft+e+"/files/"+t).then(function(e){return e.data})},getFiles:function(e){return _.a.get(Ft+e+"/files/").then(function(e){return e.data})},delete:function(e){return _.a.delete(Ft+e).then(function(e){return e.data})},getInfo:function(e){return _.a.get(Ft+e).then(function(e){return e.data})},archive:function(e){return _.a.put(Ft+e+"/archive").then(function(e){return e.data})},update:function(e,t){return _.a.put(Ft+e,t).then(function(e){return e.data})},getAll:function(e,t){return _.a.get(Ft,{params:{page:e,size:t}}).then(function(e){return e.data})},invite:function(e,t){return _.a.post(Ft+e+"/invite/"+t).then(function(e){return e.data})},getInvites:function(e,t,a){return _.a.get(Ft+e+"/invites",{params:{page:t,size:a}}).then(function(e){return e.data})},getProposals:function(e,t,a){return _.a.get(Ft+e+"/proposals",{params:{page:t,size:a}}).then(function(e){return e.data})},addTemplate:function(e,t){return _.a.post(Ft+e+"/templates/"+t).then(function(e){return e.data})},deleteTemplate:function(e,t){return _.a.delete(Ft+e+"/templates/"+t).then(function(e){return e.data})},createLevel:function(e,t){return _.a.post(Ft+e+"/levels",{number:t.number,name:t.name,description:t.description}).then(function(e){return e.data})},updateLevel:function(e,t){return _.a.put(Wt+e,t).then(function(e){return e.data})},deleteLevel:function(e){return _.a.delete(Wt+e).then(function(e){return e.data})},getLevel:function(e){return _.a.get(Wt+e).then(function(e){return e.data})},createRoom:function(e,t){return _.a.post(Wt+e+"/rooms",{number:t.number,type:t.type,name:t.name,description:t.description,w:t.w,h:t.h,l:t.l}).then(function(e){return e.data})},updateRoom:function(e,t){return _.a.put(zt+e,{name:t.name,description:t.description,w:t.w,h:t.h,l:t.l}).then(function(e){return e.data})},deleteRoom:function(e){return _.a.delete(zt+e).then(function(e){return e.data})},getRoom:function(e){return _.a.get(zt+e).then(function(e){return e.data})},getLevels:function(e){return _.a.get(Ft+e+"/levels").then(function(e){return e.data})},createSelection:function(e,t,a,n,r){return _.a.post(zt+e+"/categories/".concat(t,"/selections/").concat(a),{option:n,breadcrumb:r}).then(function(e){return e.data})},deleteSelection:function(e){return _.a.delete(Ut+e).then(function(e){return e.data})},updateSelection:function(e,t){return _.a.put(Ut+e,{option:t}).then(function(e){return e.data})},getSelection:function(e){return _.a.get(Ut+e).then(function(e){return e.data})}},Vt="https://bcbe-service.herokuapp.com/proposals/",Gt="https://bcbe-service.herokuapp.com/messages/",qt=function(e){return _.a.put(Vt+e,{status:"AWARDED"}).then(function(e){return e.data})},Jt=function(e,t,a){return _.a.post("https://bcbe-service.herokuapp.com/contractors/"+e+"/projects/"+t+"/proposals",a).then(function(e){return e.data})},Yt=function(e){return _.a.delete(Vt+e).then(function(e){return e.data})},$t=function(e,t){return _.a.put(Vt+e,t,{headers:{"Content-Type":"application/json"}}).then(function(e){return e.data})},Kt=function(e){return _.a.get(Vt+e+"/temCatOptionDetail").then(function(e){return e.data})},Xt=function(e,t){var a=new FormData;return t.forEach(function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.append("file",t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_.a.post(Vt+e+"/files/upload/multiple",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},Qt=function(e,t){return _.a.delete(Vt+e+"/files/"+t).then(function(e){return e.data})},Zt=function(e,t,a){return _.a.post(Vt+e+"/categories/"+t+"/options",a).then(function(e){return e.data})},ea=function(e,t){return _.a.put(Vt+"options/"+e,t).then(function(e){return e.data})},ta=function(e){return _.a.delete(Vt+"options/"+e).then(function(e){return e.data})},aa=function(e,t,a){return _.a.get(Gt+"/proposals/"+e,{params:{page:t,size:a}}).then(function(e){return e.data})},na=function(e,t,a){return _.a.post(Gt+"/proposals/"+e+("s_cont"===a)?"/togencon":"tosubcon",t).then(function(e){return e.data})},ra=function(e,t){var a=new FormData;return t.forEach(function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.append("file",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),_.a.post(Gt+e+"/files/upload/multiple",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})},oa=Object(mt.a)((pe={},Object(G.a)(pe,"CLEAR_PROJECTS",function(){return null}),Object(G.a)(pe,"CLEAR_TEMPLATES",function(){return null}),pe)),ca=(oa.clearProjects,oa.clearTemplates,Object(mt.a)((de={},Object(G.a)(de,"ALL_PROJECT_LOADED",function(e){return e}),Object(G.a)(de,"CLEAR_ALL_PROJECTS",function(){return null}),Object(G.a)(de,"PROJECT_LOADED",function(e){return e}),Object(G.a)(de,"LEVELS_LOADED",function(e){return e}),de))),sa=ca.allProjectLoaded,la=ca.clearAllProjects,ia=ca.projectLoaded,ua=ca.levelsLoaded,pa=function(e,t){return function(a){return Ht.addFiles(e,t)}},da=function(e){return function(t){return Ht.delete(e)}},ma=function(e){return function(t){return qt(e)}},ga=function(e,t){return function(a){return Ht.createLevel(e,t)}},ha=function(e,t){return function(a){return Ht.updateLevel(e,t)}},fa=function(e){return function(t){return Ht.deleteLevel(e)}},ba=function(e,t){return function(a){return Ht.createRoom(e,t)}},va=function(e,t){return function(a){return Ht.updateRoom(e,t)}},Ea=function(e){return function(t){return Ht.deleteRoom(e)}},ya=function(e){return function(t){return Ht.getLevels(e).then(function(e){t(ua(e))})}};function xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ja(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xa(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xa(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var wa,Oa,Sa=Object(z.a)(function(e){return{root:{padding:e.spacing(1),minHeight:"calc(100vh - 64px - 56px - 48px - 8px)"},tableWrap:{overflow:"auto"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},title:{padding:"16px",fontSize:"20px",color:e.palette.primary.dark},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,margin:e.spacing(1),alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(2,1)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},button:{margin:e.spacing(1)},card:{width:"100%",marginBottom:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:"lightgrey"}}}),Ca=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleSearch=function(e,t,n){a.props.searchContractors(e,t,n)},a.handleChangePage=function(e,t){var n=a.props.project;a.setState({currentPage:t}),a.props.getInvitedBidders(n.id,t,a.state.rowsPerPage)},a.handleChangePage1=function(e,t){a.setState({currentPage1:t}),a.props.getContrators0(t,a.state.rowsPerPage1)},a.handleChangeRowsPerPage=function(e){},a.handleChangeRowsPerPage1=function(e){var t=a.state.contractors,n=e.target.value,r=n>=t.totalElements?0:a.state.currentPage1;a.setState({rowsPerPage1:n,currentPage1:r}),a.props.getContrators0(r,n)},a.isInvited=function(e){return a.props.invited.some(function(t){return t.id===e})},a.gotoContractor=function(e){var t=a.props.match;t.url.includes("gen-contractor")?a.props.history.push("/gen-contractor/contractor_detail/".concat(e)):t.url.includes("s_cont")?a.props.history.push("/s_cont/contractor_detail/".concat(e)):t.url.includes("/projects")&&a.props.history.push("/projects/contractor_detail/".concat(e))},a.invite=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.project,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.inviteContractor(n.id,t);case 5:return e.next=7,a.props.getContrators0(a.state.currentPage1,a.state.rowsPerPage1);case 7:return e.next=9,a.props.getInvitedBidders(n.id,a.state.currentPage,a.state.rowsPerPage);case 9:a.setState({isBusy:!1,showMessage:!0,message:"Invite success",variant:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ProjectBidders.invite: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Invite failed",variant:"error"});case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.state={rowsPerPage:20,currentPage:0,rowsPerPage1:20,currentPage1:0,isBusy:!1,openCategoryForm:!1,name:"",description:"",order:"desc",invited:void 0,contractors:void 0,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.project,this.setState({isBusy:!0}),e.next=4,this.props.getContrators0(0,20);case 4:return e.next=6,this.props.getInvitedBidders(t.id,0,20);case 6:return e.next=8,this.props.getSpecialties(0,20);case 8:this.setState({isBusy:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){var t=e.invited,a=e.contractors,n=e.searchResult;this.setState({invited:t,contractors:a}),n&&this.setState({contractors:ja({},a,{content:n})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=this.state,c=o.contractors,s=o.invited,l=n&&n.content||[];return s&&c?r.a.createElement("div",{className:a.root},r.a.createElement(q.a,{className:a.card},r.a.createElement(Q.a,{className:a.title},"Invited Bidders"),r.a.createElement("div",{className:a.tableWrap},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"Logo"),r.a.createElement(Ae,{align:"center"},"Bidder Name"),r.a.createElement(Ae,null," Bidder Email "),r.a.createElement(Ae,{align:"center"},"Rating"),r.a.createElement(Ae,{align:"center"},"Other"))),r.a.createElement(Y.a,null,s.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{onClick:function(){return e.gotoContractor(t.id)}}),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoContractor(t.id)}},t.address?t.address.name:"N/A"),r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.gotoContractor(t.id)}},t.email?t.email:"N/A"),r.a.createElement(Ae,{onClick:function(){return e.gotoContractor(t.id)}}),r.a.createElement(Ae,{onClick:function(){return e.gotoContractor(t.id)}}))})))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:s.length,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),r.a.createElement(q.a,{className:a.card},r.a.createElement(Q.a,{className:a.title,style:{paddingBottom:0}},"Search Field"),r.a.createElement(dt,{search:this.handleSearch,suggestions:l}),r.a.createElement(Q.a,{className:a.title},"Search result"),r.a.createElement("div",{className:a.tableWrap},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Logo "),r.a.createElement(Ae,{align:"center"},"Name"),r.a.createElement(Ae,{align:"center"},"Specialty"),r.a.createElement(Ae,{align:"center"},"Rating"),r.a.createElement(Ae,{align:"center"},"Action"))),r.a.createElement(Y.a,null,c.content.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.gotoContractor(t.id)}}),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoContractor(t.id)}},t.address?t.address.name:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoContractor(t.id)}}),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoContractor(t.id)}}),r.a.createElement(Ae,{align:"center"},e.isInvited(t.id)?r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary"},r.a.createElement(te.a,null)):r.a.createElement(De,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.invite(t.id)}},"Invite")))})))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:c.numberOfElements,rowsPerPage:this.state.rowsPerPage1,page:this.state.currentPage1,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage1,onChangeRowsPerPage:this.handleChangeRowsPerPage1}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}))):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),ka={getInvitedBidders:function(e,t,a){return function(n){return Ht.getInvites(e,t,a).then(function(e){n({type:"PROJECT_INVITED_LOADED",payload:e})})}},selectContractor:Bt,getSpecialties:Lt,searchContractors:It,getContrators0:Mt,inviteContractor:function(e,t){return Ht.invite(e,t)}},Pa=Object(I.d)(Object(B.a)(Sa,{withTheme:!0}),Object(s.b)(function(e){return{invited:e.gen_data.invited,project:e.global_data.project,searchResult:e.global_data.searchResult,specialties:e.cont_data.specialties,contractors:e.cont_data.contractors}},ka))(Ca),Na=a(35),Da=a.n(Na),Ba=a(79),Aa=a.n(Ba),Ma=a(113),Ta=Object(mt.a)((wa={},Object(G.a)(wa,"CLEAR_PROPOSALS",function(){return null}),Object(G.a)(wa,"INVITED_PROJECT_LOADED",function(e){return e}),wa)),_a=Ta.clearProposals,Ra=Ta.invitedProjectLoaded,La=function(e){return function(t){return Yt(e)}},Ia=function(e,t,a,n){return function(r){return bt.getProposals(e,t,a,n).then(function(e){r(Ua(e))})}},Fa=Object(mt.a)((Oa={},Object(G.a)(Oa,"CLEAR_PROPOSAL_MESSAGES",function(){return null}),Object(G.a)(Oa,"CLEAR_SELECTED_PROJECT",function(){return null}),Object(G.a)(Oa,"CLEAR_SELECTED_PROPOSAL",function(){return null}),Object(G.a)(Oa,"PROJECT_DETAIL_LOADED",function(e){return e}),Object(G.a)(Oa,"PROPOSALS_LOADED",function(e){return e}),Object(G.a)(Oa,"SET_CURRENT_PROJECT",function(e){return e}),Object(G.a)(Oa,"SET_DETAIL_PROPOSAL",function(e){return e}),Object(G.a)(Oa,"SET_PROPOSALS_COMPARE",function(e){return e}),Object(G.a)(Oa,"SET_SELECTED_PROPOSAL",function(e){return e}),Object(G.a)(Oa,"SET_USER_PROFILE",function(e){return e}),Object(G.a)(Oa,"SET_HISTORY_ITEM",function(e){return e}),Oa)),Wa=Fa.clearProposalMessages,za=(Fa.clearSelectedProject,Fa.clearSelectedProposal,Fa.projectDetailLoaded),Ua=Fa.proposalsLoaded,Ha=Fa.setCurrentProject,Va=Fa.setDetailProposal,Ga=Fa.setProposalsCompare,qa=(Fa.setSelectedProposal,Fa.setUserProfile),Ja=Fa.setHistoryItem,Ya=function(e){return function(t){return Ht.getInfo(e).then(function(e){t(za(e))})}},$a=function(e){return function(t){return Kt(e).then(function(e){return t(Va(e)),e})}},Ka=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),Xa=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleUploadFiles=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.project,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.addFiles(n.id,t);case 5:return e.next=7,a.props.getProjectData(n.id);case 7:a.setState({isBusy:!1,showMessage:!0,message:"File Upload Success",variant:"success",openForm:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),a.setState({isBusy:!1,showMessage:!0,message:"File Upload Failed",variant:"error",openForm:!1});case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteFile=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.project,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.deleteFile(n.id,t);case 5:return a.setState({isBusy:!1,showMessage:!0,message:"Delete file succeeded",variant:"success"}),e.next=8,a.props.getProjectData(n.id);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Delete file failed",variant:"error"});case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state={isBusy:!1,showMessage:!1,variant:"success",message:"",handleClose:a.closeMessage,openForm:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.project,o=t.location,c=n.projectFiles,s=o.pathname.includes("/projects"),l="https://bcbe-service.herokuapp.com//projects/"+n.id+"/files/";return r.a.createElement(S.a,{className:a.root},r.a.createElement(J.a,{className:a.table,size:"small"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"Name"),!s&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{style:{color:"#fff"},onClick:function(){return e.setState({openForm:!0})}},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,c.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},r.a.createElement("a",{download:t.name,href:l+t.name},t.name)),!s&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDeleteFile(t.name)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(Ma.a,{open:this.state.openForm,onSave:this.handleUploadFiles,maxFileSize:52428800,showPreviews:!1,showPreviewsInDropzone:!0,acceptedFiles:["text/*,image/*,video/*,audio/*,application/*,font/*,message/*,model/*,multipart/*"],filesLimit:100,onClose:function(){return e.setState({openForm:!1})}}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy}))}}]),t}(r.a.Component),Qa={addFiles:pa,getProjectData:Ya,deleteFile:function(e,t){return function(a){return Ht.deleteFile(e,t)}}},Za=Object(I.d)(Object(B.a)(Ka),Object(s.b)(function(e){return{project:e.global_data.project}},Qa))(Xa),en=a(892),tn=a(301),an=a(902),nn=Object(Qe.a)(function(e){return{root:{height:"calc(100% - 16px)",border:"1px solid #EEE",margin:e.spacing(1)},title:{fontSize:"18px",fontWeight:600,textAlign:"left",marginTop:0,marginBottom:0,lineHeight:2,color:"#111"},bottomLine:{borderBottom:"1px solid #dedede"},desc:{color:"#222",marginTop:0,textDecoration:"none"},info:{display:"inline-block",fontWeight:500,color:"#222",fontSize:"16px"},status:{display:"inline-block",fontWeight:500,color:e.palette.primary.dark,fontSize:"16px"}}}),rn=function(e){var t=nn({}),a=e.contractor,n=e.onClick,o="N/A";return a.address&&(a.address.street&&(o=a.address.street),a.address.city&&(a.address.street&&(o+=", "),o+=a.address.city)),r.a.createElement(q.a,{className:t.root,style:{cursor:"pointer"},onClick:n},r.a.createElement(en.a,null,r.a.createElement(tn.a,{button:!1},r.a.createElement(Q.a,{variant:"subtitle1",className:t.title},"Contractor Information")),r.a.createElement(an.a,null),r.a.createElement(tn.a,{button:!1,style:{paddingTop:12,paddingBottom:2}},r.a.createElement(Q.a,{className:t.info},"Name: ",a.address&&a.address.name||"N/A")),r.a.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:2}},r.a.createElement(Q.a,{className:t.info},"Email: ",a.email)),r.a.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:2}},r.a.createElement(Q.a,{className:t.info},"Address: ",o)),r.a.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:12}},r.a.createElement(Q.a,{className:t.status},"Status: ",a.status))))},on=a(148),cn=a.n(on),sn=Object(Qe.a)(function(e){return{root:{height:"calc(100% - 16px)",border:"1px solid #EEE",margin:e.spacing(1)},title:{fontSize:"1.8em",fontWeight:600,textAlign:"left",color:"#111",padding:e.spacing(1.5,0)},subtitle:{fontSize:"1.2em",textAlign:"left",color:"#333",marginTop:0,marginBottom:"4px",fontWeight:"bold"},bottomLine:{borderBottom:"1px solid #dedede"},template:{display:"inline",fontSize:"1em",textAlign:"left",color:"#444",marginTop:0},brief:{width:"100%",display:"block"},desc:{color:"#222",marginTop:0,"& > p":{margin:e.spacing(1,0)}},budget:{display:"inline-block",fontSize:"1em",textAlign:"left",fontWeight:500,color:"#222",float:"left"},posttime:{display:"inline-block",fontSize:"1em",textAlign:"left",fontWeight:"normal",color:"#666",float:"right"},status:{display:"inline-block",fontSize:"1em",textAlign:"left",float:"right",fontWeight:500,color:e.palette.primary.dark},busy:{position:"absolute",left:"calc(50% - 10px)",top:"calc(50%-10px)"},editBtn:{float:"right",border:"1px solid #4a148c",color:e.palette.primary.light,paddingTop:e.spacing(1),paddingBottom:e.spacing(1),backgroundColor:"#FFF",fontSize:"14px","&:hover":{backgroundColor:e.palette.primary.light},"&:disabled":{backgroundColor:"#CCC"}}}}),ln=function(e){var t=e.project,a=e.setEdit,n=void 0===a?void 0:a,o=e.showFiles,c=void 0===o||o,s=sn({}),l=t.updatedAt,i=new Date(l),u=t.description.replace(/\n/g,"\n\n"),p="https://bcbe-service.herokuapp.com//projects/"+t.id+"/files/";return r.a.createElement(q.a,{className:s.root},r.a.createElement(en.a,{"aria-label":"project-view",style:{padding:0}},r.a.createElement(tn.a,{button:!1},r.a.createElement(Q.a,{variant:"h1",className:s.title},t.title)),r.a.createElement(an.a,null),r.a.createElement(tn.a,{button:!1,style:{paddingTop:12,paddingBottom:2}},r.a.createElement(S.a,{className:s.brief},r.a.createElement(Q.a,{className:s.budget},"Budget: ",t.budget),r.a.createElement(Q.a,{className:s.posttime},"Posted: ",i.toDateString()))),t.status&&t.due&&r.a.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:12}},r.a.createElement(S.a,{className:s.brief},t.status&&r.a.createElement(Q.a,{className:s.budget},"Due Date: ",t.due.slice(0,10)),t.due&&r.a.createElement(Q.a,{className:s.status},"Status: ",t.status.toUpperCase()))),r.a.createElement(an.a,null),r.a.createElement(tn.a,{button:!1},r.a.createElement(cn.a,{source:u,className:s.desc})),c&&t.projectFiles&&t.projectFiles.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,null),r.a.createElement(tn.a,{button:!1},r.a.createElement(S.a,{className:s.brief},r.a.createElement(Q.a,{style:{fontWeight:700}}," Files "),r.a.createElement("ul",null,t.projectFiles.map(function(e){return r.a.createElement("li",{key:e.id,style:{listStyleType:"disc",padding:"4px 0"}},r.a.createElement("a",{download:e.name,href:p+e.name},e.name))}))))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(an.a,null),r.a.createElement(tn.a,{button:!1,style:{textAlign:"right"}},r.a.createElement(S.a,{className:s.brief},r.a.createElement(De,{color:"primary",className:s.editBtn,onClick:function(){return n(!0)}},"Edit"))))))},un=(a(166),a(87)),pn=a.n(un),dn=a(175),mn=a(387),gn=a(926),hn=Object(Qe.a)(function(e){var t;return{root:{border:"1px solid #EEE",margin:e.spacing(1),padding:e.spacing(1)},container:{display:"flex",justifyContent:"left"},textFieldHalf:(t={width:"120px",paddingRight:e.spacing(2)},Object(G.a)(t,e.breakpoints.up("sm"),{width:"150px"}),Object(G.a)(t,e.breakpoints.up("md"),{width:"200px"}),t),doneContainer:{display:"block",textAlign:"right"},doneBtn:{border:"1px solid #4a148c",borderRadius:0,color:e.palette.primary.light,backgroundColor:"#FFF",padding:e.spacing(1),marginLeft:e.spacing(2),width:"160px",fontSize:"14px",bottom:0,"&:hover":{backgroundColor:e.palette.primary.light},"&:disabled":{backgroundColor:"#CCC"}}}}),fn=function(e){var t=e.title,a=e.price,r=e.dueDate,o=e.description,c=e.handleDone,s=e.handleTitleChange,l=e.handlePriceChange,i=e.handleDateChange,u=e.handleDescChange,p=hn({});return n.createElement(q.a,{className:p.root},n.createElement(Xe.a,{label:"Title",margin:"normal",fullWidth:!0,value:t,onChange:function(e){return s(e.target.value)}}),n.createElement(S.a,{className:p.container},n.createElement(Xe.a,{className:p.textFieldHalf,label:"Price",margin:"normal",type:"number",value:a,onChange:function(e){return l(parseInt(e.target.value))}}),n.createElement(mn.b,{utils:dn.a},n.createElement(gn.a,{className:p.textFieldHalf,margin:"normal",id:"mui-pickers-date",label:"Due Date",value:r,onChange:i}))),n.createElement(pn.a,{value:o,onChange:u,options:{placeholder:"Description here"}}),c&&n.createElement(S.a,{className:p.doneContainer},n.createElement(De,{color:"primary",className:p.doneBtn,onClick:function(){return c(!0)}},"Done"),n.createElement(De,{color:"primary",className:p.doneBtn,onClick:function(){return c(!1)}},"Cancel")))},bn=Object(z.a)(function(e){return{root:{position:"relative"},title:{fontSize:"20px",fontWeight:"600",color:"#333"},status:{fontSize:"16px",textAlign:"left",fontWeight:"600",color:e.palette.primary.light,textDecoration:"none"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),vn=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.setEdit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o=arguments;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],!t){e.next=5;break}a.setState({editing:t,title:a.props.project.title,price:a.props.project.budget,dueDate:new Date(a.props.project.due),description:a.props.project.description}),e.next=23;break;case 5:if(!n){e.next=22;break}return a.setState({isBusy:!0}),e.prev=7,r={title:a.state.title,budget:a.state.price,due:a.state.dueDate,description:a.state.description},e.next=11,a.props.updateProject(a.props.project.id,r);case 11:return e.next=13,a.props.getProjectData(a.props.project.id);case 13:a.setState({editing:!1,showMessage:!0,variant:"success",message:"Update Project Success",isBusy:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),a.setState({showMessage:!0,variant:"error",message:"Update Project failed",isBusy:!1}),console.log(e.t0);case 20:e.next=23;break;case 22:a.setState({editing:!1});case 23:case"end":return e.stop()}},e,null,[[7,16]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDateChange=function(e){a.setState({dueDate:e})},a.handleDescChange=function(e){a.setState({description:e})},a.handleTitleChange=function(e){a.setState({title:e})},a.handlePriceChange=function(e){a.setState({price:e})},a.gotoContractor=function(e){var t=a.props.match;t.url.includes("gen-contractor/")&&a.props.history.push("/gen-contractor/contractor_detail/".concat(e)),t.url.includes("s_cont/")&&a.props.history.push("/s_cont/contractor_detail/".concat(e)),t.url.includes("projects/")&&a.props.history.push("/projects/contractor_detail/".concat(e))},a.state={editing:!1,title:"",price:0,dueDate:new Date,description:"",showMessage:!1,variant:"success",message:"",handleClose:a.closeMessage,isBusy:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.project,o=t.match,c=this.state,s=c.editing,l=c.showMessage,i=c.variant,u=c.message;if(!n)return r.a.createElement(S.a,null,"No project is selected");var p=o.url.includes("gen-contractor")?this.setEdit:void 0;return r.a.createElement(S.a,{className:a.root},r.a.createElement(it.a,{container:!0},r.a.createElement(it.a,{item:!0,xs:12,md:9},!s&&r.a.createElement(ln,{project:n,setEdit:p,showFiles:!1}),s&&r.a.createElement(fn,{title:this.state.title,price:this.state.price,dueDate:this.state.dueDate,description:this.state.description,handleDone:function(t){return e.setEdit(!1,t)},handleTitleChange:this.handleTitleChange,handlePriceChange:this.handlePriceChange,handleDateChange:this.handleDateChange,handleDescChange:this.handleDescChange})),r.a.createElement(it.a,{item:!0,xs:12,md:3},r.a.createElement(rn,{contractor:n.genContractor,onClick:function(){return e.gotoContractor(n.genContractor.id)}}))),r.a.createElement($e,{open:l,variant:i,message:u,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy}))}}]),t}(r.a.Component),En={updateProject:function(e,t){return function(a){return Ht.update(e,t)}},getProjectData:Ya},yn=Object(I.d)(Object(B.a)(bn),Object(s.b)(function(e){return{project:e.global_data.project}},En))(vn),xn=a(390),jn=a.n(xn),wn=a(59),On=a.n(wn),Sn=a(849),Cn=a(853),kn=a(852),Pn=a(904),Nn=a(851),Dn=Object(Ve.a)(function(e){return{relative:{position:"relative",left:"0px",top:"0px"},busy:{position:"absolute",left:"calc(50% - 16px)",top:"calc(50% - 16px)"}}}),Bn=function(e){var t=Dn({}),a=e.open,n=e.busy,o=e.onYes,c=e.onCancel,s=e.title,l=e.message;return r.a.createElement(Sn.a,{open:a,onClose:c,"aria-labelledby":"alert-dialog-title"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},s),r.a.createElement(kn.a,{className:t.relative},n&&r.a.createElement(U.a,{size:32,thickness:4,className:t.busy}),r.a.createElement(Pn.a,{id:"alert-dialog-description"},l)),r.a.createElement(Cn.a,null,c&&r.a.createElement(De,{onClick:c,autoFocus:!0},"Cancel"),r.a.createElement(De,{onClick:o,color:"primary"},c?"Yes":"OK")))};Bn.defaultProps={busy:!1,title:"Confirm"};var An,Mn=Bn,Tn=3,_n=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},tableWrap:{overflowX:"hidden",maxHeight:"calc(100vh - 64px - 100px - 48px - 16px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},button:{padding:"6px"},submitBtn:{borderRadius:0,backgroundColor:e.palette.primary.light,color:"#4a148c",margin:e.spacing(1),"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}}}}),Rn=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(e,t){var n=a.props.project;a.setState({currentPage:t}),a.props.getProposalsByProjectId(n.id,t,a.state.rowsPerPage)},a.handleChangeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.proposals,o=n.project,c=t.target.value,s=c>=r.totalElements?0:a.state.currentPage,a.setState({isBusy:!0}),e.prev=4,e.next=7,a.props.getProposalsByProjectId(o.id,s,c);case 7:a.setState({rowsPerPage:c,currentPage:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("ProjectProposals.handleChangeRowsPerPage: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleCompare=function(){var e=a.state.compares,t=a.props,n=t.match,r=t.history;e.length<2||e.length>3?a.setState({showConfirm:!0,message:"You have to select 2 ~ 3 proposals."}):(a.props.setProposals4Compare(e),r.push(n.url.slice(0,n.url.lastIndexOf("/"))+"/compare"))},a.handleRowSelected=function(e){var t=a.props,n=t.match,r=t.history;console.log("ProjectProposal: ",n.url),n.url.includes("/gen-contractor")?r.push("/gen-contractor/proposal_detail/"+e):n.url.includes("/projects")&&r.push("/projects/proposal_detail/"+e)},a.handleChecked=function(e){var t=Object(Ke.a)(a.state.compares),n=t.indexOf(e);if(n>=0)t.splice(n,1);else{if(t.length===Tn)return void a.setState({showConfirm:!0,message:"You can't select more than 3 proposals"});t.push(e)}a.setState({compares:t})},a.handleConfirm=function(){a.setState({showConfirm:!1})},a.handleSubmit=function(){a.props.setProposalDetail(null),a.props.history.push("/projects/proposal_detail/-1")},a.closeMessage=function(){a.setState({showMessage:!1})},a.state={rowsPerPage:20,currentPage:0,isBusy:!1,compares:[],showConfirm:!1,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getProposalsByProjectId(this.props.project.id,0,20)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.proposals,o=t.match,c=this.state.compares,s=o.url.includes("/projects");return n?r.a.createElement(S.a,{className:a.root},r.a.createElement(S.a,{className:a.tableWrap},s&&r.a.createElement(De,{color:"primary",onClick:this.handleSubmit},"Submit Proposal"),r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,o.url.includes("/gen-contractor")&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,onClick:this.handleCompare,style:{color:"#4a148c"},size:"small"},r.a.createElement(jn.a,null))),r.a.createElement(Ae,{align:"center"},"Bidder Name"),r.a.createElement(Ae,{align:"center"},"Price($)"),r.a.createElement(Ae,{align:"center"},"Duration"),r.a.createElement(Ae,{align:"center"},"Status"),r.a.createElement(Ae,{align:"center"},"Description"))),r.a.createElement(Y.a,null,n.content.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},o.url.includes("/gen-contractor")&&r.a.createElement(Ae,{align:"center"},r.a.createElement(ot.a,{onChange:function(){return e.handleChecked(t.id)},checked:c.includes(t.id),inputProps:{"aria-label":"Select proposals"}})),r.a.createElement(Ae,{onClick:function(){return e.handleRowSelected(t.id)},component:"th",align:"center"},t.subContractor.email),r.a.createElement(Ae,{onClick:function(){return e.handleRowSelected(t.id)},align:"center"},t.budget),r.a.createElement(Ae,{onClick:function(){return e.handleRowSelected(t.id)},align:"center"},t.duration),r.a.createElement(Ae,{onClick:function(){return e.handleRowSelected(t.id)},align:"center"},t.status),r.a.createElement(Ae,{onClick:function(){return e.handleRowSelected(t.id)},align:"center"},On()(t.description)))})))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:n.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Mn,{open:this.state.showConfirm,message:this.state.message,onYes:this.handleConfirm}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose})):r.a.createElement(S.a,{className:a.root},r.a.createElement(U.a,{className:a.waitingSpin}))}}]),t}(r.a.Component),Ln={getProposalsByProjectId:function(e,t,a){return function(n){return n(_a()),Ht.getProposals(e,t,a).then(function(e){n(Ua(e))})}},setProposals4Compare:Ga,setProposalDetail:Va},In=Object(I.d)(Object(B.a)(_n),Object(s.b)(function(e){return{proposals:e.global_data.proposals,project:e.global_data.project}},Ln))(Rn),Fn=a(848),Wn=a(63),zn=a.n(Wn),Un="https://bcbe-service.herokuapp.com/templates/",Hn="https://bcbe-service.herokuapp.com/categories/",Vn="https://bcbe-service.herokuapp.com/options/",Gn={get:function(e,t){return _.a.get(Un,{params:{page:e,size:t}}).then(function(e){return e.data})},getById:function(e){return _.a.get(Un+e).then(function(e){return e.data})},getCatById:function(e){return _.a.get(Hn+e).then(function(e){return e.data})},getOptById:function(e){return _.a.get(Vn+e).then(function(e){return e.data})},create:function(e){return _.a.post(Un,e).then(function(e){return e.data})},addCat:function(e,t){return _.a.post(Un+e+"/categories",t).then(function(e){return e})},addOpt:function(e,t){return _.a.post(Hn+e+"/options",t).then(function(e){return e})},editTemplate:function(e,t){return _.a.put(Un+e,t).then(function(e){return e.data})},editCategory:function(e,t){return _.a.put(Hn+e,t).then(function(e){return e.data})},editOption:function(e,t){return _.a.put(Vn+e,t).then(function(e){return e.data})},delete:function(e){return _.a.delete(Un+e).then(function(e){return e.data})},deleteCategory:function(e){return _.a.delete(Hn+e).then(function(e){return e.data})},deleteOption:function(e){return _.a.delete(Vn+e).then(function(e){return e.data})},createRoot:function(e,t,a,n){return _.a.post(Un+"nodes",{name:e,type:t,value:a,description:n}).then(function(e){return e.data})},createNode:function(e,t,a,n,r){return _.a.post(Un+"nodes/"+e,{name:t,type:a,value:n,description:r}).then(function(e){return e.data})},getNode:function(e){return _.a.get(Un+"nodes/"+e).then(function(e){return e.data})},updateNode:function(e,t,a,n,r){return _.a.put(Un+"nodes/"+e,{name:t,type:a,value:n,description:r})},deleteNode:function(e){return _.a.delete(Un+"nodes/"+e)},getRoots:function(){return _.a.get(Un+"nodes").then(function(e){return e.data})}},qn="ALL_TEMPLATES_LOADED",Jn="SET_SELECTED_TEMPLATE",Yn="CLEAR_ALL_TEMPLATES",$n="SET_SELECTED_CATEGORY",Kn="SET_SELECTED_OPTION",Xn="CLEAR_SELECTED_TEMPLATE",Qn="TEMPL_ROOTS_LOADED",Zn="TEMPL_SELECT_NODE",er="TEMPL_CLEAR_ROOTS",tr="TEMPL_TREE_APPEND",ar="TEMPL_TREE_SELECT",nr="TEMPL_TREE_CLEAR",rr=Object(mt.a)((An={},Object(G.a)(An,qn,function(e){return e}),Object(G.a)(An,$n,function(e){return e}),Object(G.a)(An,Kn,function(e){return e}),Object(G.a)(An,Jn,function(e){return e}),Object(G.a)(An,Xn,function(){return null}),An)),or=rr.allTemplatesLoaded,cr=(rr.setSelectedCategory,rr.setSelectedOption,rr.setSelectedTemplate),sr=rr.clearSelectedTemplate,lr=function(){return{type:er}},ir=function(e,t){return{type:tr,payload:{name:e,id:t}}},ur=function(e){return{type:ar,payload:e}},pr=function(){return{type:nr}},dr=function(){return function(e){return e(lr),Gn.getRoots().then(function(t){e(function(e){return{type:Qn,payload:e}}(t)),e(pr())})}},mr=function(e){return function(t){return Gn.getNode(e).then(function(e){return t({type:Zn,payload:e}),e})}},gr=function(e){return function(t){return Gn.deleteNode(e)}},hr=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},select:{width:"180px"},waitingSpin:{position:"relative",left:"calc(50% - 20px)",top:"calc(40vh)"},successAlert:{marginBottom:e.spacing(1)},editField:{lineHeight:"1.5rem"},template:{padding:e.spacing(1)},fab:{width:"40px",height:"40px",marginLeft:"20px"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),fr=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleChangePage=function(e,t){a.setState({currentPage:t}),a.props.getTemplates(t,a.state.rowsPerPage)},a.handleChangeRowsPerPage=function(e){var t=a.props.project,n=e.target.value,r=n>=t.projectTemplates.length?0:a.state.currentPage;a.setState({rowsPerPage:n,currentPage:r}),a.props.getTemplates(r,n)},a.addTemplateToProject=Object(f.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.project,n=a.state.template,a.setState({isBusy:!0}),e.prev=3,e.next=6,a.props.addTemplate(t.id,n);case 6:return e.next=8,a.props.getProjectData(t.id);case 8:a.setState({template:"",showMessage:!0,message:"Add Template success",variant:"success",isBusy:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("ProjectTemplates.addTemplateToProject: ",e.t0),a.setState({template:"",showMessage:!0,message:"Add Template failed",variant:"error",isBusy:!1});case 15:case"end":return e.stop()}},e,null,[[3,11]])})),a.handleChange=function(e){a.setState({template:e.target.value})},a.handleDelete=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.project,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.deleteTemplate(n.id,t);case 5:return e.next=7,a.props.getProjectData(n.id);case 7:return r=a.state.currentPage,a.state.rowsPerPage*a.state.currentPage>=n.projectTemplates.length-1&&r--,e.next=11,a.props.getTemplates(r,a.state.rowsPerPage);case 11:a.setState({showMessage:!0,message:"Delete Template success",variant:"success",currentPage:r,isBusy:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),a.setState({showMessage:!0,variant:"error",message:"Delete Template failed",isBusy:!1});case 18:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.state={rowsPerPage:20,currentPage:0,isBusy:!1,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage,template:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getTemplates(0,20)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.templates,o=t.project,c=t.match,s=this.state.template,l=c.url.includes("/gen-contractor");return o?r.a.createElement(S.a,{className:a.root},l&&r.a.createElement(S.a,{className:a.template},r.a.createElement(rt.a,{className:a.select,value:s,onChange:this.handleChange,name:"templates"},r.a.createElement(tt.a,{disabled:!0,value:""},r.a.createElement("em",null,"Select a template")),n&&n.content.map(function(e){return r.a.createElement(tt.a,{value:e.id,key:e.id},e.name)})),r.a.createElement(Fn.a,{color:"primary","aria-label":"Add",className:a.fab,onClick:this.addTemplateToProject},r.a.createElement(zn.a,null)),n?n.content.map(function(e){return e.id===s?r.a.createElement("ul",{key:e.id},r.a.createElement("li",null,"Name: ",e.name),r.a.createElement("li",null,"Description: ",e.description)):null}):null),r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Template Name "),r.a.createElement(Ae,{align:"center"},"Template Desc"),r.a.createElement(Ae,{align:"center"},"Template Value"),l&&r.a.createElement(Ae,{align:"center"},"Action"))),r.a.createElement(Y.a,null,o.projectTemplates.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row"},t.template.name?t.template.name:"N/A"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Q.a,{className:"nowrap"},t.template.description?On()(t.template.description):"N/A")),r.a.createElement(Ae,{align:"center"},t.template.value?t.template.value:"N/A"),l&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDelete(t.template.id)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:o.projectTemplates.length,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),br={getTemplates:function(e,t){return function(a){return Gn.get(e,t).then(function(e){a(or(e))})}},addTemplate:function(e,t){return function(a){return Ht.addTemplate(e,t)}},deleteTemplate:function(e,t){return function(a){return Ht.deleteTemplate(e,t)}},getProjectData:Ya},vr=Object(I.d)(Object(B.a)(hr),Object(s.b)(function(e){return{templates:e.tem_data.templates,project:e.global_data.project,userProfile:e.global_data.userProfile}},br))(fr),Er=a(935),yr=Object(z.a)(function(e){return{root:{position:"relative",width:"100%",overflow:"auto",padding:e.spacing(1),minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},table:{border:"1px solid #CCC"},title:{color:e.palette.primary.dark,margin:e.spacing(0,1,1,1),textAlign:"center",fontSize:"28px",fontWeight:"700"},button:{padding:"6px"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},header:{fontSize:"20px",color:"#FFF",fontWeight:"400",padding:"8px 16px"},template:{fontSize:"16px",color:"#FFF",backgroundColor:"#1c0168"},span:{fontSize:"18px",fontWeight:"500",backgroundColor:"#EEE",border:"1px solid, #CCC"}}}),xr=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).createDetails=function(e){var t=a.props.project,n=[];t.projectTemplates.forEach(function(e,t){var a=e.template.categoryList;n[t]={},n[t].id=e.template.id,n[t].name=e.template.name,n[t].budget=0,n[t].duration=0,a.forEach(function(e){n[t][e.id]={},n[t][e.id].id=e.id,n[t][e.id].type=e.type,n[t][e.id].name=e.name,n[t][e.id].value=e.value,n[t][e.id].description=e.description,n[t][e.id].options=[]})});var r=0,o=0;return e.temCatOptionDetail&&e.temCatOptionDetail.forEach(function(e){for(var t in e)for(var a=0,c=n;a<c.length;a++){var s=c[a];if(s.id===t){s.budget=0,s.duration=0;var l=e[t],i=!0,u=!1,p=void 0;try{for(var d,m=l[Symbol.iterator]();!(i=(d=m.next()).done);i=!0){var g=d.value;for(var h in g)s[h].options=g[h]||[],s[h].selected=s[h].options[0]&&s[h].options[0].id,s[h].selected&&(s.budget+=s[h].options[0].budget,s.duration+=s[h].options[0].duration)}}catch(f){u=!0,p=f}finally{try{i||null==m.return||m.return()}finally{if(u)throw p}}r+=s.budget,o+=s.duration;break}}}),{mail:e.proposal.subContractor.email,budget:r,duration:o,proposal:[].concat(n)}},a.handleOptChanged=function(e,t,n,r){var o=a.state.data,c=a.props.project;if(c&&c.projectTemplates){var s=o[e].proposal;if(s){var l=!0,i=!1,u=void 0;try{for(var p,d=s[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;m.id===t&&(m[n]&&(m[n].selected=r))}}catch(H){i=!0,u=H}finally{try{l||null==d.return||d.return()}finally{if(i)throw u}}var g=0,h=0,f=!0,b=!1,v=void 0;try{for(var E,y=s[Symbol.iterator]();!(f=(E=y.next()).done);f=!0){var x=E.value;x.budget=0,x.duration=0;var j=!0,w=!1,O=void 0;try{for(var S,C=c.projectTemplates[Symbol.iterator]();!(j=(S=C.next()).done);j=!0){var k=S.value;if(k.template.id===x.id){var P=k.template.categoryList,N=!0,D=!1,B=void 0;try{for(var A,M=P[Symbol.iterator]();!(N=(A=M.next()).done);N=!0){var T=A.value;if(x[T.id]&&x[T.id].selected){var _=x[T.id].selected,R=x[T.id].options;if(R){var L=!0,I=!1,F=void 0;try{for(var W,z=R[Symbol.iterator]();!(L=(W=z.next()).done);L=!0){var U=W.value;if(U.id===_){x.budget+=U.budget,x.duration+=U.duration;break}}}catch(H){I=!0,F=H}finally{try{L||null==z.return||z.return()}finally{if(I)throw F}}}}}}catch(H){D=!0,B=H}finally{try{N||null==M.return||M.return()}finally{if(D)throw B}}break}}}catch(H){w=!0,O=H}finally{try{j||null==C.return||C.return()}finally{if(w)throw O}}g+=x.budget,h+=x.duration}}catch(H){b=!0,v=H}finally{try{f||null==y.return||y.return()}finally{if(b)throw v}}o[e].budget=g,o[e].duration=h,a.setState({data:Object(Ke.a)(o)})}}},a.isChecked=function(e,t,n,r){var o=a.state.data[e].proposal;if(!o)return!1;var c=!0,s=!1,l=void 0;try{for(var i,u=o[Symbol.iterator]();!(c=(i=u.next()).done);c=!0){var p=i.value;if(p.id===t&&p[n])return p[n].selected===r}}catch(d){s=!0,l=d}finally{try{c||null==u.return||u.return()}finally{if(s)throw l}}return!1},a.state={loading:!0,data:null},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,o,c=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.proposals,a=[],n=[],t&&t.forEach(function(e,t){n[t]=c.props.getProposalDetails(e)}),r=0;case 5:if(!(r<n.length)){e.next=13;break}return e.next=8,n[r];case 8:o=e.sent,a[r]=this.createDetails(o);case 10:r++,e.next=5;break;case 13:this.setState({loading:!1,data:a});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.proposals,o=t.project,c=this.state,s=c.loading,l=c.data;return o?!n||n.length<2?r.a.createElement(S.a,null,"No Proposals selected"):s||!l?r.a.createElement(S.a,{className:a.root},r.a.createElement(U.a,{className:a.busy})):r.a.createElement(S.a,{className:a.root},r.a.createElement(Q.a,{className:a.title,gutterBottom:!0},"Project: ",o.title),r.a.createElement(S.a,{className:a.table},r.a.createElement(J.a,{size:"small"},2===l.length&&r.a.createElement("colgroup",null,r.a.createElement("col",{width:"20%"}),r.a.createElement("col",{width:"5%"}),r.a.createElement("col",{width:"35%"}),r.a.createElement("col",{width:"5%"}),r.a.createElement("col",{width:"35%"})),3===l.length&&r.a.createElement("colgroup",null,r.a.createElement("col",{width:"16%"}),r.a.createElement("col",{width:"4%"}),r.a.createElement("col",{width:"24%"}),r.a.createElement("col",{width:"4%"}),r.a.createElement("col",{width:"24%"}),r.a.createElement("col",{width:"4%"}),r.a.createElement("col",{width:"24%"})),r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:a.header},"Categories"),l&&l.map(function(e,t){return r.a.createElement(Ae,{key:t,colSpan:2,className:a.header},e.mail)}))),r.a.createElement(Y.a,null,o&&o.projectTemplates&&o.projectTemplates.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:t.id+n},r.a.createElement(X.a,{className:a.row},r.a.createElement(Ae,{colSpan:2*l.length+1,className:a.template},"Template: ",t.template.name)),t.template.categoryList&&t.template.categoryList.map(function(n,o){var c=0,s=!0,i=!1,u=void 0;try{for(var p,d=l[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value,g=!0,h=!1,f=void 0;try{for(var b,v=m.proposal[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){var E=b.value;if(E.id===t.template.id){var y=E[n.id]?E[n.id].options.length:0;c<y&&(c=y);break}}}catch(w){h=!0,f=w}finally{try{g||null==v.return||v.return()}finally{if(h)throw f}}}}catch(w){i=!0,u=w}finally{try{s||null==d.return||d.return()}finally{if(i)throw u}}for(var x=[],j=0;j<c;j++)x.push(j);return r.a.createElement(r.a.Fragment,{key:n.id+o},x.map(function(o){return r.a.createElement(X.a,{className:a.row,key:o},0===o&&r.a.createElement(Ae,{className:a.span,rowSpan:c},n.name),l.map(function(a,c){var s=!0,l=!1,i=void 0;try{for(var u,p=a.proposal[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;if(d.id===t.template.id){var m=function(){var a=d[n.id]&&d[n.id].options&&d[n.id].options[o];return a?{v:r.a.createElement(r.a.Fragment,{key:c},r.a.createElement(Ae,null,r.a.createElement(Er.a,{onChange:function(){return e.handleOptChanged(c,t.template.id,n.id,a.id)},value:a.id,checked:e.isChecked(c,t.template.id,n.id,a.id),inputProps:{"aria-label":a.id}})),r.a.createElement(Ae,null,"Name: ",a.name," ",r.a.createElement("br",null),"Value: ",a.value," ",r.a.createElement("br",null),a.budget," $ in"," ",a.duration," days"))}:{v:r.a.createElement(r.a.Fragment,{key:c},r.a.createElement(Ae,null),r.a.createElement(Ae,null,"None"))}}();if("object"===typeof m)return m.v}return null}}catch(w){l=!0,i=w}finally{try{s||null==p.return||p.return()}finally{if(l)throw i}}return null}))}))}),r.a.createElement(X.a,{className:a.row,hover:!0},r.a.createElement(Ae,{className:a.span},"Template Total"),l.map(function(e,a){var n=!0,o=!1,c=void 0;try{for(var s,l=e.proposal[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var i=s.value;if(i.id===t.template.id)return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(Ae,null),r.a.createElement(Ae,null,i.budget," $ in ",i.duration," days"))}}catch(u){o=!0,c=u}finally{try{n||null==l.return||l.return()}finally{if(o)throw c}}return null})))}),r.a.createElement(X.a,{className:a.row},r.a.createElement(Ae,{className:a.span},"Project Total"),l.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(Ae,null),r.a.createElement(Ae,null,e.budget," $ in ",e.duration," days"))})))))):r.a.createElement(S.a,null,"No Project selected")}}]),t}(r.a.Component),jr=Object(s.b)(function(e){return{proposals:e.global_data.compareProps,project:e.global_data.project}},function(e){return{getProposalDetails:function(t){return e($a(t))}}})(xr),wr=Object(B.a)(yr)(jr),Or=function(e){var t=e.children,a=e.hidden,n=Object(ae.a)(e,["children","hidden"]);return r.a.createElement(S.a,Object.assign({style:{padding:"0 16px"},role:"tabpanel",hidden:a},n),t)},Sr=a(903),Cr=a(174),kr=a.n(Cr),Pr=function(e){return function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(E.a)(this,Object(y.a)(a).call(this,e))).showMessage=function(e,a){t.setState({showMessage:!0,message:a,variant:e?"success":"error"})},t.hideMessage=function(){t.setState({showMessage:!1})},t.state={showMessage:!1,message:"",variant:"success",handleClose:t.hideMessage},t}return Object(x.a)(a,t),Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(e,Object.assign({showMessage:this.showMessage,hideMessage:this.hideMessage},this.props)),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}))}}]),a}(r.a.Component)},Nr=a(905),Dr=a(906),Br=Object(Qe.a)(function(e){return{root:{position:"relative"},container:{width:"100%"},title:{fontWeight:600,fontSize:"1.2em",color:"#111"},subtitle:{fontWeight:500,fontSize:"1.1em",paddingRight:e.spacing(1.5),color:"#222"},value:{fontWeight:500,fontSize:"1.0em",padding:e.spacing(0,1),color:"#222",flexGrow:1,textAlign:"right"},space:{flexGrow:3},action:{display:"flex",position:"absolute",right:e.spacing(2),top:e.spacing(2)},item:{padding:e.spacing(1)}}}),Ar=function(e){var t=e.item,a=e.handleDelete,r=e.handleEdit,o=Br({}),c=n.useState(!1),s=Object(O.a)(c,2),l=s[0],i=s[1];return n.createElement(tn.a,{className:o.root,onMouseEnter:function(e){return i(!0)},onMouseLeave:function(){return i(!1)},alignItems:"flex-start"},n.createElement(S.a,{className:o.container},n.createElement(S.a,null,n.createElement(Q.a,{className:o.title},t.name,"\xa0\xa0\xa0-\xa0\xa0\xa0",n.createElement("span",{className:o.subtitle},t.type),n.createElement("span",{className:o.subtitle},"(number: ".concat(t.number,")")))),n.createElement(S.a,{style:{display:"flex"}},n.createElement(it.a,{container:!0,direction:"row-reverse"},n.createElement(it.a,{item:!0,xs:12,md:8,style:{padding:"8px 16px"}},n.createElement(Q.a,{className:o.subtitle},"Description:"),t.description&&n.createElement(Q.a,{variant:"body2"},t.description)),n.createElement(it.a,{item:!0,xs:12,md:4,style:{padding:"8px 16px",display:"flex"}},n.createElement(S.a,null,n.createElement(Q.a,{style:{display:"flex"}},"Width:",n.createElement("span",{className:o.value},t.w)),n.createElement(Q.a,{style:{display:"flex"}},"Height:",n.createElement("span",{className:o.value},t.h)),n.createElement(Q.a,{style:{display:"flex"}},"Length:",n.createElement("span",{className:o.value},t.l))),n.createElement(S.a,{style:{flexGrow:1}},n.createElement(Q.a,{style:{flexGrow:1}},"m"),n.createElement(Q.a,{style:{flexGrow:1}},"m"),n.createElement(Q.a,{style:{flexGrow:1}},"m")))))),l&&e.edit&&n.createElement(S.a,{className:o.action},n.createElement(F.a,{className:o.item,"aria-label":"Edit",onClick:function(e){e.stopPropagation(),r(t.id)}},n.createElement(Nr.a,{fontSize:"small"})),n.createElement(F.a,{className:o.item,"aria-label":"Delete",onClick:function(e){e.stopPropagation(),a(t.id)}},n.createElement(Dr.a,{fontSize:"small"}))))},Mr=Object(Qe.a)(function(e){var t;return{root:{border:"1px solid #EEE",margin:e.spacing(1),padding:e.spacing(1)},container:{width:"100%"},title:{fontWeight:600,fontSize:"1.2em",color:"#111"},subtitle:{fontWeight:500,fontSize:"1.1em",paddingRight:e.spacing(1.5),color:"#222"},textFieldHalf:(t={width:"120px",paddingRight:e.spacing(2)},Object(G.a)(t,e.breakpoints.up("sm"),{width:"150px"}),Object(G.a)(t,e.breakpoints.up("md"),{width:"200px"}),t),doneContainer:{display:"block",textAlign:"right",paddingRight:e.spacing(1)},doneBtn:{border:"1px solid #4a148c",borderRadius:0,color:e.palette.primary.light,backgroundColor:"#FFF",padding:e.spacing(1),marginLeft:e.spacing(2),width:"160px",fontSize:"14px",bottom:0,"&:hover":{backgroundColor:e.palette.primary.light},"&:disabled":{backgroundColor:"#CCC"}}}}),Tr=function(e){var t=e.item,a=e.handleSave,r=e.handleCancel,o=n.useState({value:t.name,errMsg:void 0}),c=Object(O.a)(o,2),s=c[0],l=c[1],i=n.useState({value:t.description,errMsg:void 0}),u=Object(O.a)(i,2),p=u[0],d=u[1],m=n.useState({value:t.w.toString(),errMsg:void 0}),g=Object(O.a)(m,2),h=g[0],f=g[1],b=n.useState({value:t.h.toString(),errMsg:void 0}),v=Object(O.a)(b,2),E=v[0],y=v[1],x=n.useState({value:t.l.toString(),errMsg:void 0}),j=Object(O.a)(x,2),w=j[0],C=j[1],k=Mr({});return n.createElement(tn.a,{className:k.root,alignItems:"flex-start"},n.createElement(S.a,{className:k.container},n.createElement(S.a,{style:{padding:"0 16px"}},n.createElement(Xe.a,{label:"Name",margin:"dense",required:!0,fullWidth:!0,error:!!s.errMsg,helperText:s.errMsg,value:s.value,onChange:function(e){return l({value:e.target.value,errMsg:void 0})}})),n.createElement(S.a,{style:{display:"flex"}},n.createElement(it.a,{container:!0,direction:"row-reverse"},n.createElement(it.a,{item:!0,xs:12,md:8,style:{padding:"8px 16px"}},n.createElement(Xe.a,{label:"Description",margin:"dense",fullWidth:!0,multiline:!0,rowsMax:12,error:!!p.errMsg,helperText:p.errMsg,value:p.value,onChange:function(e){return d({value:e.target.value,errMsg:void 0})}})),n.createElement(it.a,{item:!0,xs:12,md:4,style:{padding:"8px 16px"}},n.createElement(Xe.a,{label:"Width",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!h.errMsg,helperText:h.errMsg,value:h.value,onChange:function(e){return f({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:n.createElement(Sr.a,{position:"end"},"m")}}),n.createElement(Xe.a,{label:"Height",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!E.errMsg,helperText:E.errMsg,value:E.value,onChange:function(e){return y({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:n.createElement(Sr.a,{position:"end"},"m")}}),n.createElement(Xe.a,{label:"Length",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!w.errMsg,helperText:w.errMsg,value:w.value,onChange:function(e){return C({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:n.createElement(Sr.a,{position:"end"},"m")}})))),n.createElement(S.a,{className:k.doneContainer},n.createElement(De,{color:"primary",className:k.doneBtn,onClick:function(){if(0!==s.value.length)if(""!==h.value&&"0"!==h.value)if(""!==E.value&&"0"!==E.value)if(""!==w.value&&"0"!==w.value){var e={id:t.id,number:t.number,name:s.value,type:t.type,description:p.value,w:parseFloat(h.value),h:parseFloat(E.value),l:parseFloat(w.value)};a(e)}else C({value:s.value,errMsg:"Name is required"});else y({value:s.value,errMsg:"Name is required"});else f({value:s.value,errMsg:"Name is required"});else l({value:s.value,errMsg:"Name is required"})}},"Done"),n.createElement(De,{color:"primary",className:k.doneBtn,onClick:r},"Cancel"))))},_r=Object(Qe.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 50px - 56px - 48px - 16px)"},waitingSpin:{position:"absolute",left:"calc(50% - 10px)",top:"calc(40vh)"},titlebar:{padding:e.spacing(0),fontSize:"1.5em"},title:{display:"block",fontWeight:600,fontSize:"1.2em",color:"#111"},subtitle:{display:"block",fontWeight:400,fontSize:"1.1em",paddingRight:e.spacing(1.5),color:"#333"},action:{display:"flex",position:"absolute",right:e.spacing(2),top:e.spacing(1)},left:{float:"left"},right:{float:"right"},fullWidth:{width:"100%"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},fab:{width:"40px",height:"40px",marginLeft:"40px"}}}),Rr=Pr(function(e){var t=e.level,a=e.editLevel,n=e.deleteLevel,o=e.addCategory,c=e.updateCategory,s=e.deleteCategory,l=e.showMessage,i=_r({}),u=r.a.useState(""),p=Object(O.a)(u,2),d=p[0],m=p[1],g=r.a.useState("BATHROOM"),h=Object(O.a)(g,2),f=h[0],b=h[1],v=r.a.useState(!1),E=Object(O.a)(v,2),y=E[0],x=E[1],j=r.a.useState({value:"1",errMsg:void 0}),w=Object(O.a)(j,2),C=w[0],k=w[1],P=r.a.useState({value:"",errMsg:void 0}),N=Object(O.a)(P,2),D=N[0],B=N[1],A=r.a.useState({value:"",errMsg:void 0}),M=Object(O.a)(A,2),T=M[0],_=M[1],R=r.a.useState({value:"0",errMsg:void 0}),L=Object(O.a)(R,2),I=L[0],W=L[1],z=r.a.useState({value:"0",errMsg:void 0}),U=Object(O.a)(z,2),H=U[0],V=U[1],G=r.a.useState({value:"0",errMsg:void 0}),q=Object(O.a)(G,2),J=q[0],Y=q[1],$=function(e){m(e)},K=function(e){s(e),m("")},X=function(e){0!==e.name.length&&0!==e.w&&0!==e.h&&0!==e.l?(c(e),m("")):l(!1,"Fill in all the required fields")},Z=function(){m("")};return r.a.createElement(S.a,{className:i.root},r.a.createElement(en.a,{"aria-label":"project-level",style:{padding:"16px 0"}},r.a.createElement(tn.a,{className:i.titlebar},r.a.createElement(S.a,null,r.a.createElement(Q.a,{className:i.title},t.name),r.a.createElement(Q.a,null,t.description)),e.editable&&r.a.createElement(S.a,{className:i.action},r.a.createElement(F.a,{"aria-label":"Delete",onClick:function(e){e.stopPropagation(),a(t.id)}},r.a.createElement(kr.a,{fontSize:"large"})),r.a.createElement(F.a,{"aria-label":"Delete",onClick:function(e){e.stopPropagation(),n(t.id)}},r.a.createElement(Da.a,{fontSize:"large"})))),r.a.createElement(tn.a,{style:{padding:"8px 16px"}},e.editable&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:i.title,style:{fontSize:"1.5em"}},"Rooms"),r.a.createElement(Fn.a,{color:"primary","aria-label":"Add",className:i.fab,onClick:function(){x(!0)}},r.a.createElement(zn.a,null)))),t.rooms&&t.rooms.map(function(t){return t.id!==d?r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement(an.a,null),r.a.createElement(Ar,{edit:e.editable,item:t,handleDelete:K,handleEdit:$})):r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement(an.a,null),r.a.createElement(Tr,{item:t,handleSave:X,handleCancel:Z}))})),r.a.createElement(Sn.a,{open:y,onClose:function(){return x(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(Nn.a,{id:"form-dialog-title"},"Add a Room"),r.a.createElement(kn.a,null,r.a.createElement(it.a,{container:!0},r.a.createElement(it.a,{item:!0,xs:12,md:6,style:{padding:"8px 0px"}},r.a.createElement(Xe.a,{autoFocus:!0,fullWidth:!0,required:!0,margin:"dense",label:"Room Number",type:"number",error:!!C.errMsg,helperText:C.errMsg,value:parseInt(C.value),onChange:function(e){return k({value:e.target.value,errMsg:void 0})}})),r.a.createElement(it.a,{item:!0,xs:12,md:6,style:{padding:"29px 0px 8px 24px"}},r.a.createElement(rt.a,{style:{minWidth:180},value:f,onChange:function(e){b(e.target.value)},name:"level-categories",fullWidth:!0},[{name:"Bath Room",value:"BATHROOM"},{name:"Bed Room",value:"BEDROOM"},{name:"Living Room",value:"LIVINGROOM"},{name:"Kitchen",value:"KITCHEN"},{name:"Rooftop",value:"ROOFTOP"},{name:"Hallway",value:"HALLWAY"},{name:"Stairs",value:"STAIRS"},{name:"Other",value:"OTHER"}].map(function(e,t){return r.a.createElement(tt.a,{value:e.value,key:t},e.name)})))),r.a.createElement(S.a,null,r.a.createElement(Xe.a,{required:!0,label:"Name",margin:"dense",error:!!D.errMsg,helperText:D.errMsg,value:D.value,fullWidth:!0,onChange:function(e){return B({value:e.target.value,errMsg:void 0})}})),r.a.createElement(S.a,null,r.a.createElement(it.a,{container:!0,direction:"row-reverse"},r.a.createElement(it.a,{item:!0,xs:12,md:8,style:{padding:"8px 0px 8px 24px"}},r.a.createElement(Xe.a,{label:"Description",margin:"dense",value:T.value,fullWidth:!0,multiline:!0,rowsMax:12,onChange:function(e){return _({value:e.target.value,errMsg:void 0})}})),r.a.createElement(it.a,{item:!0,xs:12,md:4,style:{padding:"8px 0px"}},r.a.createElement(Xe.a,{label:"Width",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!I.errMsg,helperText:I.errMsg,value:I.value,onChange:function(e){return W({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:r.a.createElement(Sr.a,{position:"end"},"m")}}),r.a.createElement(Xe.a,{label:"Height",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!H.errMsg,helperText:H.errMsg,value:H.value,onChange:function(e){return V({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:r.a.createElement(Sr.a,{position:"end"},"m")}}),r.a.createElement(Xe.a,{label:"Length",margin:"dense",required:!0,type:"number",fullWidth:!0,error:!!J.errMsg,helperText:J.errMsg,value:J.value,onChange:function(e){return Y({value:e.target.value,errMsg:void 0})},InputProps:{endAdornment:r.a.createElement(Sr.a,{position:"end"},"m")}}))))),r.a.createElement(Cn.a,null,r.a.createElement(se.a,{onClick:function(){return x(!1)}},"Cancel"),r.a.createElement(se.a,{onClick:function(){var e=parseInt(C.value);if(t.rooms&&t.rooms.some(function(t){return t.number===e}))k({value:C.value,errMsg:"This room number is already taken"});else if(0!==D.value.length)if(""!==I.value&&"0"!==I.value)if(""!==H.value&&"0"!==H.value)if(""!==J.value&&"0"!==J.value){var a={id:"",number:parseInt(C.value),name:D.value,type:f,description:T.value,w:parseFloat(I.value),h:parseFloat(H.value),l:parseFloat(J.value)};o(t.id,a),x(!1),B({value:"",errMsg:void 0}),_({value:"",errMsg:void 0}),W({value:"0",errMsg:void 0}),V({value:"0",errMsg:void 0}),Y({value:"0",errMsg:void 0})}else Y({value:D.value,errMsg:"Name is required"});else V({value:D.value,errMsg:"Name is required"});else W({value:D.value,errMsg:"Name is required"});else B({value:D.value,errMsg:"Name is required"})},color:"primary",defaultChecked:!0},"Add"))))}),Lr=function(e){return function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(E.a)(this,Object(y.a)(a).call(this,e))).showConfirm=function(e,a,n,r){t.setState({open:!0,title:e,message:a,onYes:n,onCancel:r?t.hideConfirm:void 0})},t.hideConfirm=function(){t.setState({open:!1})},t.state={open:!1,busy:!1,title:"Confirm",onYes:void 0,onCancel:t.hideConfirm,message:""},t}return Object(x.a)(a,t),Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(e,Object.assign({showConfirm:this.showConfirm,hideConfirm:this.hideConfirm},this.props)),r.a.createElement(Mn,{open:this.state.open,busy:this.state.busy,title:this.state.title,onYes:this.state.onYes,onCancel:this.state.onCancel,message:this.state.message}))}}]),a}(r.a.Component)},Ir=Object(Qe.a)(function(e){return{root:{flexGrow:1,display:"flex",paddingTop:e.spacing(1)},tabs:{borderRight:"1px solid ".concat(e.palette.divider),minWidth:200},contents:{padding:0,width:"100%"},buttonContainer:{textAlign:"center",width:"100%",padding:e.spacing(1)}}}),Fr=Lr(function(e){var t=e.levels,a=e.addLevel,r=e.updateLevel,o=e.deleteLevel,c=e.updateCategory,s=e.addCategory,l=e.deleteCategory,i=e.showConfirm,u=e.hideConfirm,p=Ir({}),d=e.match.path.includes("gen-contractor"),m=n.useState(0),g=Object(O.a)(m,2),b=g[0],v=g[1],E=n.useState({value:"1",errMsg:void 0}),y=Object(O.a)(E,2),x=y[0],j=y[1],w=n.useState({value:"",errMsg:void 0}),C=Object(O.a)(w,2),k=C[0],P=C[1],B=n.useState({value:"",errMsg:void 0}),A=Object(O.a)(B,2),M=A[0],T=A[1],_=n.useState(!1),R=Object(O.a)(_,2),L=R[0],I=R[1],F=n.useState(""),W=Object(O.a)(F,2),z=W[0],U=W[1],H=function(){return I(!1)},V=function(){I(!0),U("")},G=function(e){console.log(e);var a=t.filter(function(t){return t.id===e});j({value:a[0].number.toString(),errMsg:void 0}),P({value:a[0].name,errMsg:void 0}),T({value:a[0].description,errMsg:void 0}),U(e),I(!0)},q=function(){var e=Object(f.a)(h.a.mark(function e(a){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(),b===t.length-1&&v(b-1),e.next=4,o(a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){i("Confirm","Do you really want to delete this level?",function(){return q(e)},!0)};return n.createElement(S.a,{className:p.root},(!t||!t.length)&&d&&n.createElement(S.a,{className:p.buttonContainer},n.createElement(se.a,{onClick:V,color:"primary"},n.createElement(zn.a,null),"\xa0\xa0Add Level")),t&&!!t.length&&n.createElement(n.Fragment,null,n.createElement(S.a,{className:p.tabs},n.createElement(D.a,{orientation:"vertical",value:b,onChange:function(e,t){return v(t)},"aria-label":"project-level-tab"},t.map(function(e,t){return n.createElement(N.a,{key:t,label:n.createElement(Q.a,{style:{fontSize:"1.2em",padding:8,fontWeight:600}},e.name)})})),d&&n.createElement(S.a,{className:p.buttonContainer},n.createElement(se.a,{onClick:V,color:"primary"},n.createElement(zn.a,null)," ","Add Level"))),n.createElement(S.a,{className:p.contents},t.map(function(e,t){return n.createElement(Or,{hidden:b!==t,key:e.id},n.createElement(Rr,{editable:d,level:e,editLevel:G,deleteLevel:J,addCategory:s,updateCategory:function(t){return c(e.id,t)},deleteCategory:function(t){return l(e.id,t)}}))}))),n.createElement(Sn.a,{open:L,onClose:H,"aria-labelledby":"form-dialog-title"},n.createElement(Nn.a,{id:"form-dialog-title"},"Add a Level"),n.createElement(kn.a,null,n.createElement(Pn.a,null,"Please input the level information"),n.createElement(Xe.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Level Number",type:"number",error:!!x.errMsg,helperText:x.errMsg,value:parseInt(x.value),onChange:function(e){return j({value:e.target.value,errMsg:void 0})}}),n.createElement(Xe.a,{fullWidth:!0,required:!0,margin:"dense",label:"Name",error:!!k.errMsg,helperText:k.errMsg,value:k.value,onChange:function(e){return P({value:e.target.value,errMsg:void 0})}}),n.createElement(Xe.a,{fullWidth:!0,margin:"dense",label:"Description",value:M.value,onChange:function(e){return T({value:e.target.value,errMsg:void 0})}})),n.createElement(Cn.a,null,n.createElement(se.a,{onClick:H},"Cancel"),n.createElement(se.a,{onClick:function(){var e=parseInt(x.value);if(0===z.length){if(t&&t.some(function(t){return t.number===e}))return void j({value:x.value,errMsg:"This level number is already taken"});if(0===k.value.length)return void P({value:k.value,errMsg:"Name is required"});I(!1),a(parseInt(x.value),k.value,M.value),P({value:"",errMsg:void 0}),T({value:"",errMsg:void 0})}else{var n=t.filter(function(e){return e.id===z});if(e!==n[0].number&&t.some(function(t){return t.number===e}))return void j({value:x.value,errMsg:"This level number is already taken"});if(0===k.value.length)return void P({value:k.value,errMsg:"Name is required"});I(!1),r(z,e,k.value,M.value),P({value:"",errMsg:void 0}),T({value:"",errMsg:void 0})}},color:"primary",defaultChecked:!0},0===z.length?"Add":"Save"))))}),Wr=Object(Qe.a)(function(e){return{root:{position:"relative"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),zr=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,levels:e.gen_data.levels,project:e.global_data.project}},function(e){return{createLevel:function(t,a){return e(ga(t,a))},createRoom:function(t,a){return e(ba(t,a))},changeLevel:function(t,a){return e(ha(t,a))},updateRoom:function(t,a){return e(va(t,a))},deleteLvl:function(t){return e(fa(t))},deleteRoom:function(t){return e(Ea(t))},getLevels:function(t){return e(ya(t))}}})(Pr(function(e){var t=e.levels,a=e.project,n=e.showMessage,o=e.changeLevel,c=e.getLevels,s=e.createLevel,l=Wr({}),i=r.a.useState(!1),u=Object(O.a)(i,2),p=u[0],d=u[1],m=function(){var e=Object(f.a)(h.a.mark(function e(t,r,o){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.prev=3,e.next=6,s(a.id,{number:t,name:r,description:o});case 6:return e.next=8,c(a.id);case 8:d(!1),n(!0,"Add Level success"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("ProjectLevelWrapper.AddLevel: ",e.t0),d(!1),n(!1,"Add Level failed");case 17:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,a,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(h.a.mark(function e(t,r,s,l){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.prev=3,e.next=6,o(t,{number:r,name:s,description:l});case 6:return e.next=8,c(a.id);case 8:d(!1),n(!0,"Update Level success"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("ProjectLevelWrapper.UpdateLevel: ",e.t0),d(!1),n(!1,"Update Level failed");case 17:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),b=function(){var t=Object(f.a)(h.a.mark(function t(r){var o,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.deleteLvl,c=e.getLevels,a){t.next=3;break}return t.abrupt("return");case 3:return d(!0),t.prev=4,t.next=7,o(r);case 7:return t.next=9,c(a.id);case 9:d(!1),n(!0,"Delete Level success"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log("ProjectLevelWrapper.RemoveLevel: ",t.t0),d(!1),n(!1,"Delete Level failed");case 18:case"end":return t.stop()}},t,null,[[4,13]])}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(f.a)(h.a.mark(function t(r,o){var c,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.createRoom,s=e.getLevels,a){t.next=3;break}return t.abrupt("return");case 3:return d(!0),t.prev=4,t.next=7,c(r,{number:o.number,name:o.name,type:o.type,description:o.description,w:o.w,l:o.l,h:o.h});case 7:return t.next=9,s(a.id);case 9:d(!1),n(!0,"Create Room success"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log("ProjectLevelWrapper.AddRoom: ",t.t0),d(!1),n(!1,"Create Room failed");case 18:case"end":return t.stop()}},t,null,[[4,13]])}));return function(e,a){return t.apply(this,arguments)}}(),E=function(){var t=Object(f.a)(h.a.mark(function t(r,o){var c,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.updateRoom,s=e.getLevels,a){t.next=3;break}return t.abrupt("return");case 3:return d(!0),t.prev=4,t.next=7,c(o.id,o);case 7:return t.next=9,s(a.id);case 9:d(!1),n(!0,"Update Room success"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log("ProjectLevelWrapper.UpdateRoom: ",t.t0),d(!1),n(!0,"Update Room failed");case 18:case"end":return t.stop()}},t,null,[[4,13]])}));return function(e,a){return t.apply(this,arguments)}}(),y=function(){var t=Object(f.a)(h.a.mark(function t(r){var o,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.deleteRoom,c=e.getLevels,a){t.next=3;break}return t.abrupt("return");case 3:return d(!0),t.prev=4,t.next=7,o(r);case 7:return t.next=9,c(a.id);case 9:d(!1),n(!0,"Delete Room success"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log("ProjectLevelWrapper.DeleteRoom: ",t.t0),d(!1),n(!1,"Delete Room failed");case 18:case"end":return t.stop()}},t,null,[[4,13]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(S.a,{className:l.root},r.a.createElement(Fr,Object.assign({levels:t,addLevel:m,updateLevel:g,deleteLevel:b,addCategory:v,updateCategory:E,deleteCategory:y},e)),p&&r.a.createElement(U.a,{className:l.busy}))})),Ur=a(391),Hr=a.n(Ur),Vr=a(936),Gr=a(907),qr=Object(Qe.a)(function(e){return{root:{position:"relative"},title:{fontWeight:600,fontSize:"1.2em",color:"#111"},bold:{fontWeight:600},subtitle:{fontWeight:500,fontSize:"1rem",paddingRight:e.spacing(1.5),color:"#222",paddingTop:e.spacing(.5)},fab:{width:e.spacing(4),height:e.spacing(4),margin:e.spacing(0,5)},catBox:{margin:e.spacing(0,3)},value:{fontWeight:500,fontSize:"1.0em",padding:e.spacing(0,1),color:"#222",flexGrow:1,textAlign:"right"},doneBtn:{border:"1px solid #4a148c",borderRadius:0,color:e.palette.primary.light,backgroundColor:"#FFF",padding:e.spacing(1),marginRight:e.spacing(2),width:"120px",bottom:0,"&:hover":{backgroundColor:e.palette.primary.light,color:"#FFF"},"&:disabled":{backgroundColor:"#CCC"}},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),Jr=function(e){var t=e.component,a=e.room,r=e.roomUpdated,o=e.showMessage,c=qr({}),s=n.useState({value:"",errMsg:void 0}),l=Object(O.a)(s,2),i=l[0],u=l[1],p=n.useState({value:"",errMsg:void 0}),d=Object(O.a)(p,2),m=d[0],g=d[1],b=n.useState(t.id),v=Object(O.a)(b,2),E=v[0],y=v[1],x=n.useState(a.id),j=Object(O.a)(x,2),w=j[0],C=j[1],k=n.useState(!1),P=Object(O.a)(k,2),N=P[0],D=P[1],B=n.useState([]),A=Object(O.a)(B,2),M=A[0],T=A[1],_=n.useState(!1),R=Object(O.a)(_,2),L=R[0],I=R[1],W=function(){var e=[t];if(!a.selectionList)return e;var n=a.selectionList.filter(function(e){return t.id===e.category.id});if(0===n.length)return e;var r=n[0].breadcrumb;if(!r||0===r.length)return e;for(var o=t,c=function(t){var a=o.children.filter(function(e){return e.id===r[t]});if(1!==a.length)return"break";e.push(a[0]),o=a[0]},s=0;s<r.length&&"break"!==c(s);s++);return e}(),z=n.useState(W[W.length-1]),H=Object(O.a)(z,2),V=H[0],G=H[1],q=n.useState(W),J=Object(O.a)(q,2),Y=J[0],$=J[1],K=function(){y(t.id),C(a.id),D(!1),I(!1),$(W),G(W[W.length-1])};E!==t.id?K():a.id!==w&&K();var X=function(e){M.some(function(t){return t.key.value===e.target.value})?u({value:e.target.value,errMsg:"Same key exists"}):0===e.target.value.length?u({value:"",errMsg:"Key is required"}):u({value:e.target.value,errMsg:void 0})},Z=function(){var e=Object(f.a)(h.a.mark(function e(){var n,c,s,l,i,p,d,m,f,b,v,E;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=M,c={},s=!1,l=0;l<n.length;l++)Object.keys(c).includes(n[l].key.value)&&(n[l].key.errMsg="Same key exists",s=!0),0===n[l].key.value.length&&(n[l].key.errMsg="Key is required",s=!0),0===n[l].value.value.length&&(n[l].value.errMsg="Value is required",s=!0),c[n[l].key.value]=n[l].value.value;if(!s){e.next=7;break}return T(Object(Ke.a)(n)),e.abrupt("return");case 7:if(I(!0),e.prev=8,!(ne.length>0)){e.next=14;break}return e.next=12,Ht.updateSelection(ne,c);case 12:e.next=46;break;case 14:if(!((i=a.selectionList.filter(function(e){return e.category.id===t.id})).length>0)){e.next=42;break}p=!0,d=!1,m=void 0,e.prev=19,f=i[Symbol.iterator]();case 21:if(p=(b=f.next()).done){e.next=28;break}return v=b.value,e.next=25,Ht.deleteSelection(v.id);case 25:p=!0,e.next=21;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(19),d=!0,m=e.t0;case 34:e.prev=34,e.prev=35,p||null==f.return||f.return();case 37:if(e.prev=37,!d){e.next=40;break}throw m;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return E=[],Y.length>1&&(E=Y.slice(1,Y.length).map(function(e){return e.id})),e.next=46,Ht.createSelection(a.id,t.id,V.id,c,E);case 46:return e.next=48,r();case 48:I(!1),D(!1),u({value:"",errMsg:void 0}),g({value:"",errMsg:void 0}),o(!0,"Saved"),e.next=59;break;case 55:e.prev=55,e.t1=e.catch(8),I(!1),o(!1,"Save option failed");case 59:case"end":return e.stop()}},e,null,[[8,55],[19,30,34,42],[35,,37,41]])}));return function(){return e.apply(this,arguments)}}(),ee=function(){D(!1),u({value:"",errMsg:void 0}),g({value:"",errMsg:void 0})},te=function(e){var t=M;t.splice(e,1),T(Object(Ke.a)(t))},ae=function(){i.errMsg||m.errMsg||(0!==i.value.length?0!==m.value.length?(T([].concat(Object(Ke.a)(M),[{key:{value:i.value,errMsg:void 0},value:{value:m.value,errMsg:void 0}}])),u({value:"",errMsg:void 0}),g({value:"",errMsg:void 0})):g({value:"",errMsg:"Value is required"}):u({value:"",errMsg:"Key is required"}))},ne="",re=void 0;if(a.selectionList){var oe=a.selectionList.filter(function(e){return e.category.id===t.id&&e.selection.id===V.id});1===oe.length?(re=Object.keys(oe[0].option).map(function(e){return{key:{value:e,errMsg:void 0},value:{value:oe[0].option[e],errMsg:void 0}}}),ne=oe[0].id):oe.length}var ce=function(){T(re||[]),D(!0)},le=function(e,t){var a=M;a[e].key={value:t,errMsg:void 0},T(Object(Ke.a)(a))},ie=function(e,t){var a=M;a[e].value={value:t,errMsg:void 0},T(Object(Ke.a)(a))};return n.createElement(S.a,{className:c.root},n.createElement(en.a,null,n.createElement(tn.a,null,n.createElement(Q.a,{className:c.title},"".concat(t.name," ( ").concat(t.description," )"))),n.createElement(an.a,null),n.createElement(tn.a,null,n.createElement(Vr.a,null,Y.map(function(e){return n.createElement(Gr.a,{key:e.id,onClick:function(){return function(e){var t=Y.indexOf(e);if(!(t<0)&&t!==Y.length-1){var a=Y.slice(0,t+1);$(a),G(a[a.length-1]),u({value:"",errMsg:void 0}),g({value:"",errMsg:void 0})}}(e)},style:{cursor:"pointer"}},e.name)}))),n.createElement(tn.a,null,n.createElement(Q.a,{className:c.bold},"Category"),n.createElement(rt.a,{style:{minWidth:180},placeholder:V&&V.name,value:V.id,onChange:function(e){var t=V.children.length;if(V.id!==e.target.value)for(var a=0;a<t;a++)if(V.children[a].id===e.target.value){var n=Y;V.children&&0!==V.children.length||n.pop(),$([].concat(Object(Ke.a)(n),[V.children[a]])),G(V.children[a]),u({value:"",errMsg:void 0}),g({value:"",errMsg:void 0})}},name:"sub-nodes",className:c.catBox},n.createElement(tt.a,{value:V.id,key:V.id},V.children&&0!==V.children.length?"Select option for ".concat(V.name):V.name),V&&V.children&&V.children.map(function(e){return n.createElement(tt.a,{value:e.id,key:e.id},"  > ".concat(e.name))})),n.createElement(Q.a,{className:c.subtitle},"\xa0\xa0\xa0\xa0",V.description)),0===ne.length&&n.createElement(tn.a,null,n.createElement(Q.a,{className:c.subtitle},"Options"),n.createElement(F.a,{color:"primary","aria-label":"Add",className:c.fab,onClick:ce},ne.length>0?n.createElement(kr.a,{fontSize:"small"}):n.createElement(zn.a,{fontSize:"small"}))),0===ne.length&&N&&n.createElement(n.Fragment,null,n.createElement(an.a,null),n.createElement(tn.a,null,n.createElement(it.a,{container:!0,style:{maxWidth:640}},M.map(function(e,t){return n.createElement(n.Fragment,{key:t},n.createElement(it.a,{item:!0,xs:5,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Key",margin:"dense",fullWidth:!0,value:e.key.value,error:!!e.key.errMsg,helperText:e.key.errMsg,onChange:function(e){return le(t,e.target.value)},required:!0})),n.createElement(it.a,{item:!0,xs:6,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Value",margin:"dense",fullWidth:!0,value:e.value.value,error:!!e.value.errMsg,helperText:e.value.errMsg,onChange:function(e){return ie(t,e.target.value)},required:!0})),n.createElement(it.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(F.a,{onClick:function(){return te(t)},style:{height:36}},n.createElement(Da.a,{fontSize:"small",color:"error"}))))}),n.createElement(it.a,{item:!0,xs:5,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Key",margin:"dense",fullWidth:!0,error:!!i.errMsg,helperText:i.errMsg,value:i.value,onChange:X})),n.createElement(it.a,{item:!0,xs:6,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Value",margin:"dense",fullWidth:!0,error:!!m.errMsg,helperText:m.errMsg,value:m.value,onChange:function(e){return g({value:e.target.value,errMsg:e.target.value.length>0?void 0:"Value is required"})}})),n.createElement(it.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(F.a,{onClick:ae,style:{height:36}},n.createElement(zn.a,{fontSize:"small",color:"action"})))))),0===ne.length&&n.createElement(tn.a,null,n.createElement(se.a,{onClick:Z,className:c.doneBtn},"Select"),n.createElement(se.a,{onClick:ee,className:c.doneBtn},"Cancel")),a.selectionList&&a.selectionList.filter(function(e){return t.id===e.category.id}).map(function(e){return n.createElement(n.Fragment,{key:e.id},n.createElement(an.a,null),n.createElement(tn.a,null,n.createElement(S.a,{style:{width:"100%"}},n.createElement(Q.a,{className:c.subtitle},"Current Selection: < ".concat(function(e){for(var a=[],n=t,r=function(t){var r=n.children.filter(function(a){return a.id===e[t]});if(1!==r.length)return a=[],"break";a.push(r[0].name),n=r[0]},o=0;o<e.length&&"break"!==r(o);o++);return a.unshift(t.name),a}(function(e){return e.breadcrumb?Object(Ke.a)(e.breadcrumb):[]}(e)).join(" / ")," >")),n.createElement(S.a,{style:{display:"flex"}},n.createElement(Q.a,{className:c.subtitle},"Options"),ne.length>0&&n.createElement(F.a,{color:"primary","aria-label":"Add",className:c.fab,onClick:ce},Object.keys(e.option).length>0?n.createElement(kr.a,{fontSize:"small"}):n.createElement(zn.a,{fontSize:"small"}))),e.option&&Object.keys(e.option).length>0&&n.createElement("ul",null,Object.keys(e.option).map(function(t){return n.createElement("li",{key:t,style:{padding:4,listStyleType:"disc"}},"".concat(t," : ").concat(e.option[t]))})))))}),ne.length>0&&N&&n.createElement(n.Fragment,null,n.createElement(an.a,null),n.createElement(tn.a,null,n.createElement(it.a,{container:!0,style:{maxWidth:640}},M.map(function(e,t){return n.createElement(n.Fragment,{key:t},n.createElement(it.a,{item:!0,xs:5,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Key",margin:"dense",fullWidth:!0,value:e.key.value,error:!!e.key.errMsg,helperText:e.key.errMsg,onChange:function(e){return le(t,e.target.value)},required:!0})),n.createElement(it.a,{item:!0,xs:6,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Value",margin:"dense",fullWidth:!0,value:e.value.value,error:!!e.value.errMsg,helperText:e.value.errMsg,onChange:function(e){return ie(t,e.target.value)},required:!0})),n.createElement(it.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(F.a,{onClick:function(){return te(t)},style:{height:36}},n.createElement(Da.a,{fontSize:"small",color:"error"}))))}),n.createElement(it.a,{item:!0,xs:5,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Key",margin:"dense",fullWidth:!0,error:!!i.errMsg,helperText:i.errMsg,value:i.value,onChange:X})),n.createElement(it.a,{item:!0,xs:6,style:{padding:"4px 8px"}},n.createElement(Xe.a,{label:"Value",margin:"dense",fullWidth:!0,error:!!m.errMsg,helperText:m.errMsg,value:m.value,onChange:function(e){return g({value:e.target.value,errMsg:e.target.value.length>0?void 0:"Value is required"})}})),n.createElement(it.a,{item:!0,xs:1,style:{display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(F.a,{onClick:ae,style:{height:36}},n.createElement(zn.a,{fontSize:"small",color:"action"})))))),ne.length>0&&n.createElement(tn.a,null,n.createElement(se.a,{onClick:Z,className:c.doneBtn},"Select"),n.createElement(se.a,{onClick:ee,className:c.doneBtn},"Cancel"))),L&&n.createElement(U.a,{className:c.busy}))},Yr=Object(Qe.a)(function(e){return{root:{flexGrow:1,minHeight:"100%",position:"relative",paddingTop:e.spacing(1)},titlebar:{padding:e.spacing(0),fontSize:"1.5em"},levelbar:{padding:e.spacing(1,0)},title:{fontWeight:600,fontSize:"1.2em",color:"#111"},bold:{fontWeight:600},subtitle:{fontWeight:500,fontSize:"1rem",paddingRight:e.spacing(1.5),color:"#222"},value:{fontWeight:500,fontSize:"1.0em",padding:e.spacing(0,1),color:"#222",flexGrow:1,textAlign:"right"}}}),$r=Pr(Object(s.b)(function(e){return{}},function(e){return{}})(function(e){var t=Yr({}),a=e.root,r=e.level,o=e.room,c=e.roomUpdated;return r&&o?n.createElement(S.a,{className:t.root},n.createElement(en.a,{"aria-label":"project-options",style:{padding:"16px 0"}},n.createElement(tn.a,{className:t.titlebar},n.createElement(Q.a,{className:t.title},a.name,"\xa0\xa0\xa0",n.createElement("span",{className:t.subtitle},a.description))),n.createElement(tn.a,{alignItems:"flex-start",className:t.levelbar},n.createElement(S.a,{style:{width:"100%"}},n.createElement(Q.a,{className:t.title},o.name,"\xa0\xa0\xa0-\xa0\xa0\xa0",n.createElement("span",{className:t.subtitle},o.type),"\xa0\xa0\xa0",n.createElement("span",{className:t.subtitle},"( ".concat(r.name," : ").concat(r.description," )"))),n.createElement(S.a,{style:{display:"flex"}},n.createElement(it.a,{container:!0,direction:"row-reverse"},n.createElement(it.a,{item:!0,xs:12,md:8,style:{padding:"8px 16px"}},n.createElement(Q.a,{className:t.subtitle},"Description:"),o.description&&n.createElement(Q.a,{variant:"body2"},o.description)),n.createElement(it.a,{item:!0,xs:12,md:4,style:{padding:"8px 16px",display:"flex"}},n.createElement(S.a,null,n.createElement(Q.a,{style:{display:"flex"}},"Width:",n.createElement("span",{className:t.value},o.w)),n.createElement(Q.a,{style:{display:"flex"}},"Height:",n.createElement("span",{className:t.value},o.h)),n.createElement(Q.a,{style:{display:"flex"}},"Length:",n.createElement("span",{className:t.value},o.l))),n.createElement(S.a,{style:{flexGrow:1}},n.createElement(Q.a,{style:{flexGrow:1}},"m"),n.createElement(Q.a,{style:{flexGrow:1}},"m"),n.createElement(Q.a,{style:{flexGrow:1}},"m"))))))),n.createElement(an.a,null)),a&&a.children&&a.children.length>0&&a.children.map(function(t){return n.createElement(Jr,{key:t.id,component:t,room:o,roomUpdated:c,showMessage:e.showMessage})})):n.createElement(S.a,{className:t.root},"No level or room selected")})),Kr=Object(z.a)(function(e){return{root:{position:"relative",flexGrow:1,display:"flex",minHeight:"100%"},sidebar:{borderRight:"1px solid ".concat(e.palette.divider),minWidth:200,padding:e.spacing(1)},select:{paddingLeft:e.spacing(2)},contents:{padding:e.spacing(0,2),flex:1,minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},buttonContainer:{textAlign:"center",width:"100%",padding:e.spacing(1)},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),Xr=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).rootChange=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isBusy:!0}),e.prev=1,e.next=4,Gn.getNode(t.target.value);case 4:n=e.sent,a.setState({currentRoot:n,rootId:t.target.value,isBusy:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("ProjectSelect.CDM: ",e.t0),a.setState({isBusy:!1});case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a.roomSelected=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.parent){e.next=2;break}return e.abrupt("return");case 2:return a.setState({isBusy:!0}),e.prev=3,e.next=6,Ht.getRoom(t.id);case 6:n=e.sent,a.setState({currentRoom:n,level:t.parent.id,isBusy:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ProjectSelect.RoomSelected: ",e.t0),a.setState({isBusy:!1});case 14:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.roomUpdated=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ht.getRoom(a.state.currentRoom.id);case 3:t=e.sent,a.setState({currentRoom:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ProjectSelect.RoomUpdated: ",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),a.state={currentRoot:void 0,currentRoom:void 0,rootId:e.roots&&e.roots.length>0?e.roots[0].id:"",level:"",tree:e.levels.map(function(e){return{id:e.id,value:e.name,nodes:e.rooms.map(function(e){return{id:e.id,value:e.name}})}}),isBusy:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.rootId&&this.state.rootId.length>0)){e.next=11;break}return e.prev=1,e.next=4,Gn.getNode(this.state.rootId);case 4:t=e.sent,this.setState({currentRoot:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("ProjectSelect.CDM: ",e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.levels,r=e.roots,o=this.state,c=o.rootId,s=o.level,l=o.tree,i=o.currentRoot,u=o.currentRoom,p=o.isBusy;if(!a)return n.createElement(S.a,{className:t.root},"No levels exist");if(!c||0===c.length||!i)return n.createElement(S.a,{className:t.root},"No template selected");var d=void 0,m=!0,g=!1,h=void 0;try{for(var f,b=a[Symbol.iterator]();!(m=(f=b.next()).done);m=!0){var v=f.value;if(v.id===s){d=v;break}}}catch(E){g=!0,h=E}finally{try{m||null==b.return||b.return()}finally{if(g)throw h}}return n.createElement(S.a,{className:t.root},n.createElement(S.a,{className:t.sidebar},n.createElement(Q.a,{component:"h3",variant:"h6",style:{paddingTop:8,fontSize:"1.2em"}},"Templates"),n.createElement(rt.a,{value:c,onChange:this.rootChange,name:"root-template",fullWidth:!0,className:t.select},r.map(function(e){return n.createElement(tt.a,{key:e.id,value:e.id},e.name)})),n.createElement(Q.a,{component:"h3",variant:"h6",style:{paddingTop:16,paddingBottom:8,fontSize:"1.2em"}},"Levels"),n.createElement(Hr.a,{tree:l,onLeafClick:this.roomSelected})),n.createElement(S.a,{className:t.contents},u&&n.createElement($r,{root:i,level:d,room:u,roomUpdated:this.roomUpdated}),!u&&"No room selected"),p&&n.createElement(U.a,{className:t.busy}))}}]),t}(n.Component),Qr=Object(s.b)(function(e){return{nodeTree:e.tem_data.nodeTree,userProfile:e.global_data.userProfile,roots:e.tem_data.roots,levels:e.gen_data.levels}},function(e){return{selectTree:function(t){return e(ur(t))},appendTree:function(t,a){return e(ir(t,a))},clearTree:function(){return e(pr())}}})(Object(B.a)(Kr)(Xr)),Zr=Object(z.a)(function(e){return{root:{flexGrow:1,position:"relative"},container:{paddingTop:e.spacing(1)},backBtn:{color:e.palette.primary.dark},toolbarstyle:{backgroundColor:e.palette.background.paper,color:e.palette.primary.dark,flexGrow:1},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"}}}),eo=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleBack=function(){a.props.history.goBack()},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,e.next=3,this.props.getProjectData(t.params.id);case 3:return e.next=5,this.props.getLevels(t.params.id);case 5:return e.next=7,this.props.loadRoots();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.match,n=e.project,o=e.location,c=e.roots;if(!n||!c)return r.a.createElement(U.a,{className:t.waitingSpin});for(var s=a.url.includes("/gen-contractor"),i=[a.url+"/overview",a.url+"/levels",a.url+"/select",a.url+"/files",a.url+"/templates",a.url+"/proposals",a.url+"/bidders",a.url+"/compare"],u=0,p=0;p<i.length;p++)if(i[p]===o.pathname){u=p;break}return o.pathname===a.url&&(u=0),r.a.createElement(S.a,{className:t.root},r.a.createElement(W.a,{square:!0,style:{height:"100%",overflow:"auto"}},r.a.createElement(S.a,{style:{display:"flex"}},r.a.createElement(F.a,{className:t.backBtn,onClick:this.handleBack},r.a.createElement(V.a,null)),r.a.createElement(D.a,{value:u,variant:"scrollable",indicatorColor:"primary",textColor:"primary",scrollButtons:"off",className:t.toolbarstyle},r.a.createElement(N.a,{component:l.b,to:i[0],label:"Overview"}),r.a.createElement(N.a,{component:l.b,to:i[1],label:"Levels"}),r.a.createElement(N.a,{component:l.b,to:i[2],label:"Select"}),r.a.createElement(N.a,{component:l.b,to:i[3],label:"Files"}),r.a.createElement(N.a,{component:l.b,to:i[4],label:"Templates"}),r.a.createElement(N.a,{component:l.b,to:i[5],label:"Proposals"}),r.a.createElement(N.a,{component:l.b,to:i[6],label:"Bidders"}),s&&r.a.createElement(N.a,{component:l.b,to:i[7],label:"Compare"}))),r.a.createElement(S.a,{className:t.container},r.a.createElement(j.d,null,r.a.createElement(L,{path:"".concat(a.url,"/overview"),component:yn}),r.a.createElement(L,{path:"".concat(a.url,"/levels"),component:zr}),r.a.createElement(L,{path:"".concat(a.url,"/select"),component:Qr}),r.a.createElement(L,{path:"".concat(a.url,"/files"),component:Za}),r.a.createElement(L,{path:"".concat(a.url,"/templates"),component:vr}),r.a.createElement(L,{path:"".concat(a.url,"/proposals"),component:In}),r.a.createElement(L,{path:"".concat(a.url,"/bidders"),component:Pa}),s&&r.a.createElement(L,{path:"".concat(a.url,"/compare"),component:wr}),r.a.createElement(j.a,{path:"".concat(a.url),to:"".concat(a.url,"/overview")})))))}}]),t}(r.a.Component),to={getProjectData:Ya,getLevels:ya,loadRoots:dr},ao=Object(I.d)(Object(B.a)(Zr),Object(s.b)(function(e){return{project:e.global_data.project,roots:e.tem_data.roots}},to))(eo),no=a(298),ro=Object(no.a)(function(e){return{root:{flexGrow:1,padding:e.spacing(1),height:"calc(100vh - 64px - 48px - 36px - 16px)",overflow:"auto",overflowX:"hidden"},button:{padding:"6px"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"}}}),oo=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){return a.setState({showMessage:!1})},a.handleUploadFiles=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.proposal,e.prev=1,e.next=4,a.props.addFilesToProposal(n.proposal.id,t);case 4:return e.next=6,a.props.getProposalDetails(n.proposal.id);case 6:a.setState({showMessage:!0,openUploadForm:!1,message:"File Upload Success",variant:"success"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),a.setState({showMessage:!0,openUploadForm:!1,message:"File Upload failed",variant:"error"});case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDeletefile=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.proposal,e.prev=1,e.next=4,a.props.deleteProposalFile(n.proposal.id,t);case 4:return e.next=6,a.props.getProposalDetails(n.proposal.id);case 6:a.setState({showMessage:!0,openUploadForm:!1,message:"File Delete Success",variant:"success"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),a.setState({showMessage:!0,openUploadForm:!1,message:"File Delete failed",variant:"error"});case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),a.openUpload=function(){a.props.proposal.proposal.id?a.setState({openUploadForm:!0,showMessage:!1}):a.setState({showMessage:!0,openUploadForm:!1,message:"You must submit a proposal first",variant:"info"})},a.state={openUploadForm:!1,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.proposal;return n?r.a.createElement("div",{className:a.root},r.a.createElement(J.a,{className:a.table,size:"small"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"Name"),this.props.edit&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,style:{color:"#4a148c"},"aria-label":"Add",onClick:this.openUpload},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,n.proposal.proposalFiles&&n.proposal.proposalFiles.map(function(t){return r.a.createElement(X.a,{key:t.id,hover:!0},r.a.createElement(Ae,{align:"center"},r.a.createElement("a",{download:t.name,href:"https://bcbe-service.herokuapp.com/proposals/"+n.proposal.id+"/files/"+t.name},t.name)),e.props.edit&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDeletefile(t.name)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(Ma.a,{open:this.state.openUploadForm,onSave:this.handleUploadFiles,maxFileSize:52428800,showPreviews:!1,showPreviewsInDropzone:!0,acceptedFiles:["text/*,image/*,video/*,audio/*,application/*,font/*,message/*,model/*,multipart/*"],filesLimit:100,onClose:function(){return e.setState({openUploadForm:!1})}}),r.a.createElement($e,{variant:this.state.variant,message:this.state.message,open:this.state.showMessage,handleClose:function(){return e.setState({showMessage:!1})}})):r.a.createElement("div",null,"No Proposal selected")}}]),t}(r.a.Component),co={addFilesToProposal:function(e,t){return function(a){return Xt(e,t)}},deleteProposalFile:function(e,t){return function(a){return Qt(e,t)}},getProposalDetails:$a},so=Object(s.b)(function(e){return{proposal:e.global_data.proposalDetail}},co)(oo),lo=Object(w.a)(ro)(so),io=Object(Qe.a)(function(e){return{root:{padding:0,margin:e.spacing(1)},title:{fontSize:"1.8em",fontWeight:600,textAlign:"left",color:"#111",marginTop:"0"},brief:{width:"100%",display:"block"},desc:{color:"#222",marginTop:"0","& > p":{margin:e.spacing(1,0)}},budget:{display:"inline-block",fontSize:"1em",textAlign:"left",fontWeight:500,color:"#222",float:"left"},subtitle:{display:"inline-block",fontSize:"1.2em",textAlign:"left",fontWeight:700,color:"#111"},status:{display:"inline-block",fontSize:"1em",textAlign:"left",float:"right",fontWeight:500,color:e.palette.primary.dark}}}),uo=function(e){var t=io({}),a=e.proposal,r=a.description.replace(/\n/g,"\n\n"),o="https://bcbe-service.herokuapp.com//proposals/"+a.id+"/files/",c=a.project&&a.project.projectTemplates||[];return n.createElement(q.a,{className:t.root,style:{padding:0,marginTop:"50px"}},n.createElement(en.a,{className:"","aria-label":"project-view",style:{padding:0}},n.createElement(tn.a,{button:!1},n.createElement(Q.a,{variant:"subtitle1",className:t.title},"Proposal")),n.createElement(an.a,null),n.createElement(tn.a,{button:!1,style:{paddingTop:12,paddingBottom:2}},n.createElement(S.a,{className:t.brief},n.createElement(Q.a,{className:t.budget},"Budget: ",a.budget," $"),n.createElement(Q.a,{className:t.status},"Status: ",a.status.toUpperCase()))),n.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:2}},n.createElement(Q.a,{className:t.budget},"Duration: ",a.duration," days")),n.createElement(tn.a,{button:!1,style:{paddingTop:4,paddingBottom:2}},n.createElement(Q.a,{className:t.subtitle},"Description:")),n.createElement(tn.a,{button:!1,style:{paddingLeft:32,paddingTop:2,paddingBottom:12}},n.createElement(cn.a,{source:r,className:t.desc})),a.proposalFiles&&a.proposalFiles.length>0&&n.createElement(n.Fragment,null,n.createElement(an.a,null),n.createElement(tn.a,{button:!1},n.createElement(S.a,{className:t.brief},n.createElement(Q.a,{style:{fontWeight:700}}," Files "),n.createElement("ul",null,a.proposalFiles.map(function(e){return n.createElement("li",{key:e.id,style:{listStyleType:"disc",padding:"4px 0"}},n.createElement("a",{download:e.name,href:o+e.name},e.name))}))))),c.length>0&&n.createElement(n.Fragment,null,n.createElement(an.a,null),n.createElement(tn.a,{button:!1,style:{paddingTop:12,paddingBottom:2}},n.createElement(Q.a,{variant:"subtitle1",noWrap:!0,style:{fontWeight:600,fontSize:"20px",margin:"8px 0"}},"Templates")),n.createElement(tn.a,{button:!1,style:{paddingTop:2,paddingBottom:12}},n.createElement(J.a,null,n.createElement($.a,null,n.createElement(X.a,null,n.createElement(Ae,null,"Name"),n.createElement(Ae,{align:"center"},"Discription"))),n.createElement(Y.a,null,c.map(function(t,a){return n.createElement(X.a,{key:a,hover:!0,onClick:function(){return e.selectTemplate(a)}},n.createElement(Ae,{component:"th",scope:"row"},t.template.name),n.createElement(Ae,{align:"center"},t.template.description))})))))))},po=Object(Qe.a)(function(e){var t;return{root:{position:"relative",overflow:"auto",border:"1px solid #EEE",margin:e.spacing(1,1,1,1),padding:e.spacing(1)},title:{marginTop:e.spacing(1),fontWeight:600,fontSize:"20px"},container:{display:"flex",justifyContent:"left",margin:e.spacing(1,0)},textField:(t={width:"120px",paddingRight:e.spacing(2)},Object(G.a)(t,e.breakpoints.up("sm"),{width:"150px"}),Object(G.a)(t,e.breakpoints.up("md"),{width:"200px"}),t)}}),mo=function(e){var t=po({}),a=e.budget,r=e.duration,o=e.description,c=e.templates,s=e.budgetChange,l=e.durationChange,i=e.descriptionChange;return n.createElement(q.a,{className:t.root},n.createElement(Q.a,{variant:"subtitle1",noWrap:!0,className:t.title},"My Proposal"),n.createElement(S.a,{id:"brief-desc",className:t.container},n.createElement(Xe.a,{label:"Budget *",id:"budget",type:"number",value:a,className:t.textField,onChange:function(e){return s(parseInt(e.target.value))},InputProps:{endAdornment:n.createElement(Sr.a,{position:"start"},"USD")}}),n.createElement(Xe.a,{label:"Duration *",type:"number",value:r,onChange:function(e){return l(parseInt(e.target.value))},InputProps:{endAdornment:n.createElement(Sr.a,{position:"start"},"days")}})),n.createElement(pn.a,{value:o,onChange:function(e){return i(e)},options:{placeholder:"Description here"}}),c.length>0&&n.createElement(n.Fragment,null,n.createElement(Q.a,{variant:"subtitle1",noWrap:!0,style:{fontWeight:600,fontSize:"20px",margin:"8px 0"}},"Templates"),n.createElement(J.a,null,n.createElement($.a,null,n.createElement(X.a,null,n.createElement(Ae,null,"Name"),n.createElement(Ae,{align:"center"},"Discription"))),n.createElement(Y.a,null,c.map(function(t,a){return n.createElement(X.a,{key:a,hover:!0,onClick:function(){return e.selectTemplate(a)}},n.createElement(Ae,{component:"th",scope:"row"},t.template.name),n.createElement(Ae,{align:"center"},t.template.description))})))))},go=Object(z.a)(function(e){return{root:{position:"relative",overflow:"auto",flexGrow:1,padding:e.spacing(1),width:"100%"},container:{margin:e.spacing(1),padding:0,textAlign:"right"},editField:{lineHeight:"1.5rem"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},width_300:{width:300,marginRight:10}}}),ho=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).budgetChange=function(e){a.setState({budget:e})},a.durationChange=function(e){a.setState({duration:e})},a.descriptionChange=function(e){a.setState({description:e})},a.submit=function(){a.setState({showConfirm:!0,message:"Would you like to submit your proposal?",handleOK:a.handleSubmit})},a.handleSubmit=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({showConfirm:!1,isBusy:!0}),e.next=3,a.props.handleSubmit({budget:a.state.budget,duration:a.state.duration,description:a.state.description});case 3:a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)})),a.delete=function(){a.setState({showConfirm:!0,message:"Would you like to delete your proposal?",handleOK:a.handleDelete})},a.handleDelete=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({showConfirm:!1,isBusy:!0}),e.next=3,a.props.handleDelete(a.props.proposal.proposal.id);case 3:a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)})),a.award=function(){a.setState({showConfirm:!0,message:"Would you like to award this proposal?",handleOK:a.handleAward})},a.handleAward=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({showConfirm:!1,isBusy:!0}),e.next=3,a.props.handleAward(a.props.proposal.proposal.id);case 3:a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)})),a.closeConfirm=function(){a.setState({showConfirm:!1})},a.gotoContractor=function(e){var t=a.props.match;t.url.includes("gen-contractor")&&a.props.history.push("/gen-contractor/contractor_detail/".concat(e)),t.url.includes("s_cont")&&a.props.history.push("/s_cont/contractor_detail/".concat(e))},a.state={budget:e.brief.budget||0,duration:e.brief.duration||0,description:e.brief.description||"",isBusy:!1,showConfirm:!1,message:"Would you like to submit your proposal?",handleOK:null},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props.handleOverviewChange({budget:this.state.budget,duration:this.state.duration,description:this.state.description})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match,o=t.proposal,c=t.edit;if(!c&&!o)return r.a.createElement("div",{className:a.root});var s=this.props.project;if(o&&o.proposal&&o.proposal.project&&(s=o.proposal.project),!s)return r.a.createElement("div",{className:a.root});var l=n.url.includes("/s_cont")||"-1"===n.params.id&&this.props.proposal?"Update Proposal":"Submit Proposal",i=s&&s.projectTemplates||[],u=r.a.createElement(S.a,{className:a.container},n.url.includes("/s_cont")&&r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.delete,color:"warning"},"Delete Proposal"),n.url.includes("/gen-contractor")&&r.a.createElement(De,{disabled:this.state.isBusy||"AWARDED"===o.proposal.status,onClick:this.award,color:"success"},"Award Project"),c&&r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.submit,color:"primary"},l));return r.a.createElement(W.a,{className:a.root},!c&&r.a.createElement(it.a,{container:!0},r.a.createElement(it.a,{item:!0,xs:12,md:9},r.a.createElement(uo,{proposal:o.proposal,selectTemplate:this.props.templateSelected}),u),r.a.createElement(it.a,{item:!0,xs:12,md:3},r.a.createElement(rn,{contractor:o.proposal.subContractor,onClick:function(){return e.gotoContractor(o.proposal.subContractor.id)}}))),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(mo,{budget:this.state.budget,duration:this.state.duration,description:this.state.description,templates:i,selectTemplate:this.props.templateSelected,budgetChange:this.budgetChange,durationChange:this.durationChange,descriptionChange:this.descriptionChange}),u),r.a.createElement(Mn,{open:this.state.showConfirm,message:this.state.message,onYes:this.state.handleOK,onCancel:this.closeConfirm}))}}]),t}(n.Component),fo={deleteProposal:La,awardProject:ma},bo=Object(I.d)(Object(B.a)(go),j.g,Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,proposal:e.global_data.proposalDetail,project:e.global_data.project}},fo))(ho),vo=a(908),Eo=a(660),yo=a(394),xo=a.n(yo),jo=a(395),wo=a.n(jo),Oo=a(393),So=a.n(Oo),Co=a(909),ko=Object(no.a)(function(e){return{root:{flexGrow:1,height:"calc(100vh - 64px - 56px - 48px - 8px)",display:"flex",flexDirection:"column"},listRoot:{padding:e.spacing(1),overflow:"auto",flexGrow:1},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(50% - 10px)"},inline:{display:"inline"},inputArea:{padding:e.spacing(1,1,0,1),display:"flex",borderTop:"1px solid #AAAAAA"},bottomSection:{backgroundColor:"#FBFBFB",padding:e.spacing(1),display:"flex",flexDirection:"column"},inputField:{flexGrow:1,border:"1px solid #AAAAAA"},editField:{lineHeight:"1.5rem",underline:"none",padding:e.spacing(0,1)},backBtn:{width:39,height:39},fileCard:{borderRadius:0,marginBottom:e.spacing(1)},sendBtn:{border:"1px solid #4a148c",borderRadius:0,backgroundColor:e.palette.primary.light,color:"#4a148c",height:39,width:100,margin:12,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#FAFAFA",border:"1px solid #AAAAAA"}}}}),Po=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).messageEndRef=r.a.createRef(),a.scrollToBottom=function(){a.messageEndRef.current.scrollIntoView()},a.handleSendMessage=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.proposal,r=t.match,o=t.userProfile,c=a.state.messageList,a.state.messageInput.length-a.state.messageInput.split("\n")-1!==0||0!==a.state.files.length){e.next=4;break}return e.abrupt("return");case 4:return a.setState({isSending:!0}),e.prev=5,e.next=8,a.props.addMessageToProposal(n.proposal.id,{content:a.state.messageInput,updatedBy:o.email},r.url.substring(1,7));case 8:return s=e.sent,e.next=11,a.props.addFileToPropMessage(s.id,a.state.files);case 11:for((l=s).proposalMessageFiles=[],i=0;i<a.state.files.length;i++)l.proposalMessageFiles.push({name:a.state.files[i].name});c.push(s),a.setState({messageList:c,toBottom:!0,isSending:!1,messageInput:"",files:[]}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log("ProposalMessages.handleSendMessage: ",e.t0);case 21:case"end":return e.stop()}},e,null,[[5,18]])})),a.handleMessageKey=function(e){"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),a.handleSendMessage())},a.handleLoadMore=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.proposal,n=a.state.messageList,r=Math.floor(n.length/a.state.pageSize),!a.state.isLoadingMore){e.next=5;break}return e.abrupt("return");case 5:return a.setState({isLoadingMore:!0,toBottom:!1}),e.prev=6,e.next=9,a.props.getProposalMessages(t.proposal.id,r,a.state.pageSize);case 9:o=e.sent,c=o.content.reverse(),s=0,s=0;case 13:if(!(s<c.length)){e.next=19;break}if(c[s].id!==n[0].id){e.next=16;break}return e.abrupt("break",19);case 16:s++,e.next=13;break;case 19:c.splice(s,c.length-s),n=c.concat(n),a.setState({messageList:n,isLoadingMore:!1,canLoadMore:!o.last,toBottom:!1}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),console.log("ProposalMessages.handleLoadMore: ",e.t0);case 27:case"end":return e.stop()}},e,null,[[6,24]])})),a.handleUploadFiles=function(e){var t=a.state.files;e.forEach(function(e){var a=0;for(a=0;a<t.length&&t[a].name!==e.name;a++);a===t.length&&t.push(e)}),a.setState({files:t,openUploadForm:!1})},a.handleRemoveFile=function(e){for(var t=a.state.files,n=0;n<t.length;n++)if(t[n].name===e){t.splice(n,1);break}a.setState({files:t})},a.state={messageInput:"",isSending:!1,messageList:[],openUploadForm:!1,canLoadMore:!0,toBottom:!1,pageSize:20,files:[],isLoadingMore:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.proposal,e.prev=1,e.next=4,this.props.getProposalMessages(t.proposal.id,0,this.state.pageSize);case 4:a=e.sent,n=(n=this.state.messageList).concat(a.content.reverse()),this.setState({messageList:n,canLoadMore:!a.last,toBottom:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ProposalMessages.CWM: ",e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.state.toBottom&&this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.messageList,o=a.files,c=this.state.messageInput.split("\n").length;1===c&&c++;for(var s=[],l=0;l<n.length;l++){for(var i=n[l],u=[],p=0;p<i.proposalMessageFiles.length;p++){var d=i.proposalMessageFiles[p];u.push(r.a.createElement("h5",{key:p},r.a.createElement("a",{download:d.name,href:"https://bcbe-service.herokuapp.com//messages/"+i.id+"/files/"+d.name},d.name)))}s.push(r.a.createElement("div",{key:i.id},r.a.createElement(tn.a,{alignItems:"flex-start"},r.a.createElement(vo.a,null,r.a.createElement(Eo.a,null," ",i.from.email[0])),r.a.createElement("div",null,r.a.createElement("strong",null,r.a.createElement("h5",null,i.from.email)),r.a.createElement("pre",null,i.content),u),r.a.createElement(Co.a,null,i.updatedAt.slice(0,19))),r.a.createElement(an.a,{variant:"inset",component:"li"})))}return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.listRoot},r.a.createElement(So.a,{pageStart:0,loadMore:this.handleLoadMore,hasMore:this.state.canLoadMore&&!this.state.isLoadingMore,isReverse:!0,initialLoad:!1,useWindow:!1},this.state.isLoadingMore&&r.a.createElement(U.a,{key:"loader",className:t.waitingSpin,size:24,thickness:4}),s,r.a.createElement("div",{ref:this.messageEndRef}))),r.a.createElement("div",{className:t.bottomSection},r.a.createElement("div",{className:t.inputArea},r.a.createElement(F.a,{className:t.backBtn,onClick:function(){return e.setState({openUploadForm:!0})}},r.a.createElement(xo.a,null)),r.a.createElement(Xe.a,{value:this.state.messageInput,multiline:!0,rows:c>5?5:c,className:t.inputField,onChange:function(t){return e.setState({messageInput:t.target.value})},InputProps:{disableUnderline:!0,classes:{input:t.editField}},onKeyPress:this.handleMessageKey}),r.a.createElement(se.a,{className:t.sendBtn,onClick:this.handleSendMessage,disabled:this.state.isSending||0===this.state.files.length&&this.state.messageInput.length-this.state.messageInput.split("\n").length+1===0},"Send",this.state.isSending&&r.a.createElement(U.a,{size:24,thickness:4}))),o.map(function(a){return r.a.createElement(q.a,{key:a.name,className:t.fileCard},r.a.createElement(tn.a,{alignItems:"flex-start"},r.a.createElement(nt.a,{primary:a.name,secondary:a.size>1048576?Math.round(a.size/1024/1024)+"MB":Math.round(a.size/1024)+"KB"}),r.a.createElement(Co.a,null,r.a.createElement(F.a,{className:t.backBtn,onClick:function(){return e.handleRemoveFile(a.name)}},r.a.createElement(wo.a,null)))))})),r.a.createElement(Ma.a,{open:this.state.openUploadForm,onSave:this.handleUploadFiles,maxFileSize:52428800,showPreviewsInDropzone:!0,acceptedFiles:["text/*,image/*,video/*,audio/*,application/*,font/*,message/*,model/*,multipart/*"],filesLimit:100,onClose:function(){return e.setState({openUploadForm:!1})}}))}}]),t}(r.a.Component),No={getProposalMessages:function(e,t,a){return function(n){return n(Wa()),aa(e,t,a)}},addMessageToProposal:function(e,t,a){return function(n){return na(e,t,a)}},addFileToPropMessage:function(e,t,a){return function(a){return ra(e,t)}}},Do=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,proposal:e.global_data.proposalDetail}},No)(Po),Bo=Object(j.g)(Object(w.a)(ko)(Do)),Ao=a(241),Mo=a(912),To=a(910),_o=a(911);function Ro(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Lo=Object(z.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},input:{width:"100%"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{flexBasis:200}}}),Io=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleSave=function(){if(0!==a.state.name.length&&0!==a.state.description.length&&0!==a.state.value.length)if(0!==a.state.budget&&0!==a.state.duration){var e=a.state,t=(e.showAlert,e.title,e.message,Object(ae.a)(e,["showAlert","title","message"]));a.props.handleSave(t)}else a.setState({showAlert:!0,title:"Error",message:"Fill in valid values"});else a.setState({showAlert:!0,title:"Error",message:"Fill in all the items"})},a.handlePop=function(){a.setState({showAlert:!1})},a.state=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ro(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ro(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.option,{showAlert:!1,title:"",message:""}),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{container:!0,spacing:3},r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe.a,{className:t.input,label:"Option name",placeholder:"Option",margin:"none",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,name:"name",required:!0})),r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe.a,{className:t.input,label:"Option value",placeholder:"Value",margin:"none",onChange:function(t){return e.setState({value:t.target.value})},value:this.state.value,name:"value",required:!0})),r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe.a,{className:t.input,label:"Budget",placeholder:"1000",margin:"none",onChange:function(t){return e.setState({budget:parseInt(t.target.value)})},value:this.state.budget,name:"budget",type:"number",required:!0})),r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe.a,{className:t.input,label:"Duration",placeholder:"10",margin:"none",onChange:function(t){return e.setState({duration:parseInt(t.target.value)})},value:this.state.duration,type:"number",name:"duration",required:!0})),r.a.createElement(it.a,{container:!0,item:!0,xs:12},r.a.createElement(it.a,{item:!0,xs:9,sm:10},r.a.createElement(Xe.a,{className:t.input,multiline:!0,label:"Description",placeholder:"description",margin:"none",onChange:function(t){return e.setState({description:t.target.value})},value:this.state.description,name:"description",required:!0})),r.a.createElement(it.a,{item:!0,xs:3,sm:2,style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignContent:"center"}},r.a.createElement(F.a,{style:{padding:"6px"},onClick:this.handleSave},r.a.createElement(To.a,null)),r.a.createElement(F.a,{style:{padding:"6px"},onClick:this.props.handleCancel},r.a.createElement(_o.a,null))))),r.a.createElement(Sn.a,{open:this.state.showAlert,onClose:function(){return e.setState({showAlert:!1})},"aria-labelledby":"alert-dialog-title"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},this.state.title),r.a.createElement(kn.a,null,r.a.createElement(Pn.a,{id:"alert-dialog-description"},this.state.message)),r.a.createElement(Cn.a,null,r.a.createElement(De,{onClick:this.handlePop,color:"primary",autoFocus:!0},"OK"))))}}]),t}(r.a.Component),Fo=Object(B.a)(Lo)(Io),Wo=Object(Qe.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},subtitle:{padding:e.spacing(1),fontSize:e.typography.pxToRem(24),fontWeight:"bold"},actions:{flexWrap:"wrap",alignContent:"space-around"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{flexBasis:200}}}),zo=function(e){var t=e.edit,a=e.option,n=e.handleEdit,o=e.handleDelete,c=Wo({});return r.a.createElement(X.a,null,r.a.createElement(Ae,{className:c.actions,component:"th",scope:"row"},r.a.createElement(Q.a,{variant:"subtitle1"},a.name)),r.a.createElement(Ae,{className:c.actions},r.a.createElement(Q.a,{variant:"subtitle1"},a.value)),r.a.createElement(Ae,{className:c.actions},r.a.createElement(Q.a,{variant:"subtitle1"},a.description)),r.a.createElement(Ae,{className:c.actions},r.a.createElement(Q.a,{variant:"subtitle1"},a.budget)),r.a.createElement(Ae,{className:c.actions},r.a.createElement(Q.a,{variant:"subtitle1"},a.duration)),t&&r.a.createElement(Ae,{className:c.actions},r.a.createElement(F.a,{style:{padding:"0"},onClick:o},r.a.createElement(Dr.a,null)),r.a.createElement(F.a,{style:{padding:"0"},onClick:n},r.a.createElement(Nr.a,null))))},Uo=function(e){var t=e.options,a=e.editingId,n=e.handleAdd,o=e.handleDelete,c=e.handleEdit,s=e.handleSave,l=e.handleCancel,i=e.edit,u=Wo({}),p=i?6:5;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:u.subtitle},"Options"),r.a.createElement(J.a,{size:"small"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"left"},"Name"),r.a.createElement(Ae,{align:"left"},"Value"),r.a.createElement(Ae,{align:"left"},"Description"),r.a.createElement(Ae,{align:"left"},"Badget"),r.a.createElement(Ae,{align:"left"},"Duration"),i&&r.a.createElement(Ae,{align:"left"},r.a.createElement(F.a,{style:{color:"#4a148c"},onClick:n,size:"small"},r.a.createElement(Mo.a,null))))),r.a.createElement(Y.a,null,t.map(function(e,t){return a!==e.id?r.a.createElement(zo,{edit:i,key:t,option:e,handleDelete:function(){return o(e.id)},handleEdit:function(){return c(e.id)}}):r.a.createElement(X.a,{key:t},r.a.createElement(Ae,{colSpan:p},r.a.createElement(Fo,{option:e,handleSave:s,handleCancel:l})))}))))},Ho=Object(z.a)(function(e){return{root:{padding:e.spacing(1),display:"block",borderTop:"1px solid #CCC",height:"100%"},options:{padding:e.spacing(1)}}}),Vo=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).compFunc=function(e){return function(t){return t.id===e.toString()}},a.handleAdd=function(){for(var e=a.props.category.options,t=0;e.length>0&&e.some(a.compFunc(t));)t++;a.setState({editingId:"",adding:!0,addingOption:{id:t.toString(),name:"",value:"",description:"",budget:1e3,duration:10}})},a.handleEdit=function(e){a.setState({adding:!1,editingId:e})},a.handleSave=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.adding){e.next=5;break}return e.next=3,a.props.handleAdd(a.props.category.id,t);case 3:e.next=7;break;case 5:return e.next=7,a.props.handleUpdate(a.props.category.id,t);case 7:a.setState({adding:!1,editingId:""});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCancel=function(){a.setState({adding:!1,editingId:""})},a.handleDelete=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.handleDelete(a.props.category.id,t);case 2:a.setState({adding:!1,editingId:""});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={editingId:"",adding:!1,addingOption:{name:"",value:"",description:"",budget:0,duration:0,id:""}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.category,n=e.edit,o=a.options;return r.a.createElement("div",{className:t.root},this.state.adding&&r.a.createElement(Fo,{option:this.state.addingOption,handleSave:this.handleSave,handleCancel:this.handleCancel}),o&&r.a.createElement(Uo,{edit:n,options:o,editingId:this.state.editingId,handleAdd:this.handleAdd,handleSave:this.handleSave,handleCancel:this.handleCancel,handleDelete:this.handleDelete,handleEdit:this.handleEdit}))}}]),t}(r.a.Component),Go=Object(B.a)(Ho)(Vo),qo=Object(z.a)(function(e){return{root:{overflow:"auto",display:"flex",height:"calc(100vh - 64px - 48px - 16px - 36px)"},pane:{margin:e.spacing(1),height:"calc(100vh - 64px - 48px - 16px - 36px - 16px)",border:"1px solid #CCC",overflow:"auto"},header:{height:"".concat(80,"px"),width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"20px",fontWeight:"700",padding:e.spacing(2)},busy:{position:"absolute",left:"calc(50% - 10px)",top:"calc(50%-10px)"},titleFont:{fontSize:"24px",fontWeight:"bold"},otherFont:{fontSize:"16px",fontWeight:"500"},active:{backgroundColor:e.palette.primary.light,color:"white","&:hover":{backgroundColor:e.palette.primary.dark}},formControl:{margin:e.spacing(1),minWidth:"200px"},select:{margin:e.spacing(1)},doneBtn:{width:"120px",marginTop:"10px",border:"1px solid #4a148c",borderRadius:0,backgroundColor:e.palette.primary.light,color:"#4a148c",marginLeft:5,marginRight:5,float:"right","&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}}}}),Jo=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).categoryChange=function(e){a.setState({category:e})},a.state={category:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){if(this.props.proposal){var e=Object.keys(this.props.proposal);e&&e[2]&&this.setState({category:e[2]})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.proposal,o=t.edit;if(!n)return r.a.createElement(S.a,null,"No Proposal");var c=Object.keys(n),s=n[this.state.category]||{};return r.a.createElement(S.a,{className:a.root},r.a.createElement(Ao.a,{split:"vertical",minSize:50,defaultSize:180,style:{position:"relative"}},r.a.createElement(W.a,{className:a.pane},r.a.createElement(Q.a,{className:a.header},n&&n.name),r.a.createElement(en.a,{style:{borderTop:"1px solid #CCC"}},c&&c.map(function(t,o){return"id"!==t&&"name"!==t&&r.a.createElement(r.a.Fragment,{key:o},r.a.createElement(tn.a,{button:!0,onClick:function(){return e.categoryChange(t)},className:t===e.state.category?a.active:void 0},r.a.createElement(nt.a,{primary:n[t].name})),r.a.createElement(an.a,{key:o+1e3}))}))),r.a.createElement(W.a,{className:a.pane},r.a.createElement(S.a,{id:"category-info",className:a.header},r.a.createElement(it.a,{container:!0},r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Q.a,{variant:"subtitle1",align:"left",noWrap:!0},"Type: ",s.type)),r.a.createElement(it.a,{item:!0,xs:12,sm:6},r.a.createElement(Q.a,{variant:"subtitle1",align:"left",noWrap:!0},"Value: ",s.value)),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Q.a,{variant:"body1",align:"left",noWrap:!0},"Description: ",s.description)))),r.a.createElement(S.a,{id:"main-content"},s.id&&r.a.createElement(Go,{edit:o,category:s,handleAdd:this.props.handleAdd,handleUpdate:this.props.handleUpdate,handleDelete:this.props.handleDelete})))))}}]),t}(r.a.Component),Yo=Object(B.a)(qo)(Jo),$o=Object(z.a)(function(e){return{busy:{position:"absolute",left:"calc(50% - 10px)",top:"calc(50% - 10px)"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"}}}),Ko=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeConfirm=function(){a.setState({showConfirm:!1})},a.createDetails=function(e){var t=a.props,n=t.project,r=t.proposal,o=n;"-1"!==t.match.params.id&&r&&(o=r.proposal.project);var c=[];return o.projectTemplates.forEach(function(e,t){var a=e.template.categoryList;c[t]={},c[t].id=e.template.id,c[t].name=e.template.name,a.forEach(function(e){c[t][e.id]={},c[t][e.id].id=e.id,c[t][e.id].type=e.type,c[t][e.id].name=e.name,c[t][e.id].value=e.value,c[t][e.id].description=e.description,c[t][e.id].options=[]})}),e.temCatOptionDetail&&e.temCatOptionDetail.forEach(function(e){for(var t in e){var a=function(){var a=r[n];return a.id!==t?"continue":(e[t].forEach(function(e){for(var t in e)a[t].options=e[t]||[]}),"break")};e:for(var n=0,r=c;n<r.length;n++){switch(a()){case"continue":continue;case"break":break e}}}}),c},a.createEmptyDetails=function(){var e=[],t=a.props.project;return t&&t.projectTemplates.forEach(function(t,a){e[a]={},e[a].id=t.template.id,e[a].name=t.template.name;var n=t.template.categoryList;n&&n.forEach(function(t){e[a][t.id]={id:t.id,name:t.name,type:t.type,value:t.value,description:t.description,options:[]}})}),e},a.handleTabChange=function(e,t){a.setState({currentTab:t})},a.handleBack=function(){var e=a.props,t=e.match,n=e.proposal,r=e.project;t.url.includes("gen-contractor")?a.props.history.push("/gen-contractor/project_detail/"+n.proposal.project.id+"/proposals"):t.url.includes("s_cont")?a.props.history.push("/s_cont/pipeline/"+n.proposal.status.toLowerCase()):t.url.includes("projects")&&("-1"!==t.params.id?a.props.history.push("/projects/project_detail/"+n.proposal.project.id+"/proposals"):r?a.props.history.push("/projects/project_detail/"+r.id+"/proposals"):a.props.history.push("/projects/project_detail/"))},a.handleOverviewChange=function(e){a.setState({brief:e})},a.handleTemplateChange=function(e){a.setState({templateNo:e,currentTab:1})},a.AddOption=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state.proposal[a.state.templateNo],!(o=a.props.proposal)){e.next=19;break}return a.setState({isBusy:!0}),e.prev=4,e.next=7,a.props.addOption(o.proposal.id,t,{name:n.name,value:n.value,budget:n.budget,duration:n.duration,description:n.description});case 7:c=e.sent,console.log("add-option: ",c),n.id=c.id,r[t]&&r[t].options.push(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("add-option failed. ",e.t0);case 16:a.setState({isBusy:!1}),e.next=20;break;case 19:a.setState({showConfirm:!0,message:"You have to submit your proposal first",handleOK:a.closeConfirm,handleCancel:void 0});case 20:case"end":return e.stop()}},e,null,[[4,13]])}));return function(t,a){return e.apply(this,arguments)}}(),a.UpdateOption=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state.proposal[a.state.templateNo],o=r[t]){e.next=4;break}return e.abrupt("return");case 4:if(a.setState({isBusy:!0}),!a.props.proposal){e.next=24;break}return e.prev=7,e.next=10,a.props.updateOption(n.id,{name:n.name,value:n.value,budget:n.budget,duration:n.duration,description:n.description});case 10:c=o.options.length,s=0;case 12:if(!(s<c)){e.next=19;break}if(o.options[s].id!==n.id){e.next=16;break}return o.options[s]=n,e.abrupt("break",19);case 16:s++,e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),console.log("update-option",e.t0);case 24:a.setState({isBusy:!1});case 25:case"end":return e.stop()}},e,null,[[7,21]])}));return function(t,a){return e.apply(this,arguments)}}(),a.DeleteOption=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.state.proposal[a.state.templateNo],o=r[t]){e.next=4;break}return e.abrupt("return");case 4:if(a.setState({isBusy:!0}),!a.props.proposal){e.next=25;break}return e.prev=7,e.next=10,a.props.deleteOption(n);case 10:c=o.options.length,s=0;case 12:if(!(s<c)){e.next=20;break}if(o.options[s].id!==n){e.next=17;break}return o.options.splice(s,1),o.options=Object(Ke.a)(o.options),e.abrupt("break",20);case 17:s++,e.next=12;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),console.log("delete-option",e.t0);case 25:a.setState({isBusy:!1});case 26:case"end":return e.stop()}},e,null,[[7,22]])}));return function(t,a){return e.apply(this,arguments)}}(),a.checkProposal=function(e){return!!(e.budget&&e.duration&&e.description)&&0!==e.description.length},a.handleAward=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isBusy:!0}),e.prev=1,e.next=4,a.props.awardProject(t);case 4:a.setState({isBusy:!1,showConfirm:!0,message:"Proposal awarded",handleOK:a.closeConfirm,handleCancel:null}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),a.setState({isBusy:!1,showConfirm:!0,message:"Proposal awarding failed."});case 11:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isBusy:!0}),e.prev=1,e.next=4,a.props.deleteProposal(t);case 4:a.setState({isBusy:!1}),a.handleBack(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),a.setState({isBusy:!1,showConfirm:!0,message:"Proposal deletion failed.",handleOK:a.closeConfirm,handleCancel:null});case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l,i,u,p,d,m,g,f,b,v,E,y,x,j,w,O,S,C,k,P,N,D,B;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.checkProposal(t)){e.next=3;break}return a.setState({showConfirm:!0,isBusy:!1,message:"Invalid proposal information",handleOK:a.closeConfirm,handleCancel:null}),e.abrupt("return");case 3:if(n=a.state.proposal,r=a.props,o=r.project,c=r.userProfile,s=r.match,a.setState({isBusy:!0}),e.prev=6,!(s.url.includes("/s_cont")||"-1"===s.params.id&&a.props.proposal)){e.next=13;break}return e.next=10,a.props.updateProposal(a.props.proposal.proposal.id,t);case 10:a.setState({isBusy:!1,brief:t,showConfirm:!0,message:"Update succeed.",handleOK:a.closeConfirm,handleCancel:null}),e.next=86;break;case 13:return e.next=15,a.props.submitProposal(c.user_metadata.contractor_id,o.id,t);case 15:l=e.sent,i=l.id,u=[],p=!0,d=!1,m=void 0,e.prev=21,g=n[Symbol.iterator]();case 23:if(p=(f=g.next()).done){e.next=54;break}b=f.value,e.t0=h.a.keys(b);case 26:if((e.t1=e.t0()).done){e.next=51;break}if("id"===(v=e.t1.value)||"name"===v){e.next=49;break}for(E=b[v].options,y=!0,x=!1,j=void 0,e.prev=33,w=E[Symbol.iterator]();!(y=(O=w.next()).done);y=!0)S=O.value,u.push(a.props.addOption(i,b[v].id,{name:S.name,value:S.value,budget:S.budget,duration:S.duration,description:S.description}));e.next=41;break;case 37:e.prev=37,e.t2=e.catch(33),x=!0,j=e.t2;case 41:e.prev=41,e.prev=42,y||null==w.return||w.return();case 44:if(e.prev=44,!x){e.next=47;break}throw j;case 47:return e.finish(44);case 48:return e.finish(41);case 49:e.next=26;break;case 51:p=!0,e.next=23;break;case 54:e.next=60;break;case 56:e.prev=56,e.t3=e.catch(21),d=!0,m=e.t3;case 60:e.prev=60,e.prev=61,p||null==g.return||g.return();case 63:if(e.prev=63,!d){e.next=66;break}throw m;case 66:return e.finish(63);case 67:return e.finish(60);case 68:C=0,k=u;case 69:if(!(C<k.length)){e.next=76;break}return P=k[C],e.next=73,P;case 73:C++,e.next=69;break;case 76:return N=[],D={budget:0,duration:0,description:""},e.next=80,a.props.getProposalDetails(i);case 80:B=e.sent,N=a.createDetails(B),D.budget=B.proposal.budget,D.duration=B.proposal.duration,D.description=B.proposal.description,a.setState({isBusy:!1,proposal:N,brief:D,showConfirm:!0,message:"Submission succeed.",handleOK:a.closeConfirm,handleCancel:null});case 86:e.next=92;break;case 88:e.prev=88,e.t4=e.catch(6),a.setState({isBusy:!1,showConfirm:!0,message:"Some error occured.",handleOK:a.closeConfirm,handleCancel:null}),console.log(e.t4);case 92:case"end":return e.stop()}},e,null,[[6,88],[21,56,60,68],[33,37,41,49],[42,,44,48],[61,,63,67]])}));return function(t){return e.apply(this,arguments)}}(),a.state={currentTab:0,brief:{},proposal:void 0,templateNo:0,showConfirm:!1,message:"Invalid proposal information",handleOK:a.closeConfirm,handleCancel:void 0,isBusy:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match,a=[],n={budget:0,duration:0,description:""},"-1"===(r=t.params.id)&&!t.url.includes("/s_cont")){e.next=22;break}if(!(r&&r.length>0)){e.next=20;break}return e.prev=6,e.next=9,this.props.getProposalDetails(r);case 9:o=e.sent,a=this.createDetails(o),n.budget=o.proposal.budget,n.duration=o.proposal.duration,n.description=o.proposal.description,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0),a=this.createEmptyDetails();case 20:e.next=23;break;case 22:a=this.createEmptyDetails();case 23:this.setState({proposal:a,brief:n});case 24:case"end":return e.stop()}},e,this,[[6,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.match,r=e.project,o=this.state,c=o.proposal,s=o.templateNo,l=o.currentTab,i=o.brief,u="-1"===a.params.id,p=this.props.proposal&&this.props.proposal.proposal.status;return c||u?(u=u||a.url.includes("/s_cont")&&"AWARDED"!==p,n.createElement(W.a,{square:!0},n.createElement(S.a,{style:{display:"flex"}},n.createElement(F.a,{onClick:this.handleBack},n.createElement(V.a,null)),n.createElement(D.a,{value:l,onChange:this.handleTabChange,variant:"scrollable",indicatorColor:"primary",textColor:"primary",scrollButtons:"off"},n.createElement(N.a,{label:"Detail"}),n.createElement(N.a,{label:"Templates"}),n.createElement(N.a,{label:"Files"}),"-1"!==a.params.id&&(a.url.includes("/gen-contractor")||a.url.includes("/s_cont")&&("SUBMITTED"===p||"AWARDED"===p))&&n.createElement(N.a,{label:"Messages"}))),0===l&&n.createElement(bo,{templateSelected:this.handleTemplateChange,edit:u,project:r,brief:i,handleSubmit:this.handleSubmit,handleAward:this.handleAward,handleDelete:this.handleDelete,handleOverviewChange:this.handleOverviewChange}),1===l&&n.createElement(Yo,{proposal:c[s],edit:u,handleAdd:this.AddOption,handleUpdate:this.UpdateOption,handleDelete:this.DeleteOption}),2===l&&n.createElement(lo,{edit:u}),3===l&&n.createElement(Bo,null),n.createElement(Mn,{open:this.state.showConfirm,message:this.state.message,onYes:this.state.handleOK||this.closeConfirm,onCancel:this.state.handleCancel}),this.state.isBusy&&n.createElement(U.a,{className:t.busy}))):n.createElement(U.a,{className:t.waitingSpin})}}]),t}(n.Component),Xo={getProposalDetails:$a,submitProposal:function(e,t,a){return function(n){return Jt(e,t,a)}},deleteProposal:La,updateProposal:function(e,t){return function(a){return $t(e,t)}},addOption:function(e,t,a){return function(n){return Zt(e,t,a)}},updateOption:function(e,t){return function(a){return ea(e,t)}},deleteOption:function(e){return function(t){return ta(e)}},awardProject:ma},Qo=Object(I.d)(Object(B.a)($o),Object(s.b)(function(e){return{proposal:e.global_data.proposalDetail,project:e.global_data.project,userProfile:e.global_data.userProfile}},Xo))(Ko),Zo=Object(Qe.a)(function(e){return{root:{backgroundColor:e.palette.background.paper,color:e.palette.primary.dark},container:{display:"flex"},curTabPos:{},rootIcon:{marginBottom:"0 !important"},backBtn:{color:e.palette.primary.dark}}}),ec=function(e){var t=Zo({}),a=e.value,r=e.tabs,o=e.goBack;return n.createElement(P.a,{position:"static",className:t.root},n.createElement(S.a,{className:t.container},o&&n.createElement(F.a,{className:t.backBtn,onClick:o},n.createElement(V.a,null)),n.createElement(D.a,{value:a,variant:"scrollable",scrollButtons:o?"auto":"on",indicatorColor:"primary",textColor:"primary"},r.map(function(e,a){return n.createElement(N.a,{key:a,component:l.b,to:e.href,label:e.label,icon:e.icon&&n.createElement(e.icon,{className:t.rootIcon})})}))))},tc=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},waitingSpin:{position:"absolute",left:"calc(50% - 10px)",top:"calc(40vh)"},textField:{boxShadow:"0 0 5px #999999",padding:"0 4px",width:"100%"},subtitle:{fontWeight:600,fontSize:"1.2em",padding:e.spacing(1.5,.5)},buttons:{marginTop:e.spacing(1),textAlign:"center"},brief:{width:"100%",display:"block"},listTop:{paddingTop:12,paddingBottom:2},listMiddle:{paddingTop:2,paddingBottom:2},listBottom:{paddingTop:2,paddingBottom:12},title:{display:"inline-block",fontSize:"1.2em",textAlign:"left",fontWeight:600,color:"#111"},info:{display:"inline-block",fontSize:"1em",textAlign:"left",color:"#222"},weight500:{fontWeight:500},weight400:{fontWeight:400},left:{float:"left"},right:{float:"right"},dark:{color:e.palette.primary.dark},titlebar:{padding:e.spacing(3,2),fontSize:"1.5em",backgroundColor:"rgba(0, 0, 0, 0.12)"},project:{color:"#37A000",fontSize:"1.2em",fontWeight:500,"&:hover":{color:"#008329"}}}}),ac=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.reasonChange=function(e){a.setState({statusReason:e.target.value})},a.approve=Object(f.a)(h.a.mark(function e(){var t,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.contractor,r=t.approveContractor,o=t.contractorUpdated,a.setState({isBusy:!0}),e.prev=2,e.next=5,r(n.id,{status:"ACTIVE",statusReason:a.state.statusReason});case 5:return e.next=7,o();case 7:a.setState({showMessage:!0,message:"Approve success",variant:"success",isBusy:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({showMessage:!0,message:"Approve failed",variant:"error",isBusy:!1});case 13:case"end":return e.stop()}},e,null,[[2,10]])})),a.reject=Object(f.a)(h.a.mark(function e(){var t,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.contractor,r=t.rejectContractor,o=t.contractorUpdated,a.setState({isBusy:!0}),e.prev=2,e.next=5,r(n.id,{status:"REJECTED",statusReason:a.state.statusReason});case 5:return e.next=7,o();case 7:a.setState({showMessage:!0,message:"Reject success",variant:"success",isBusy:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({showMessage:!0,message:"Reject failed",variant:"error",isBusy:!1});case 13:case"end":return e.stop()}},e,null,[[2,10]])})),a.state={isBusy:!1,status:e.contractor.status,statusReason:e.contractor.statusReason,showMessage:!1,variant:"success",message:"",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.contractor,n=e.isAdmin,o=a.address&&a.address.name||"N/A",c=new Date(a.createdAt),s="N/A";return a.address&&(a.address.street&&(s=a.address.street),a.address.city&&(a.address.street&&(s+=", "),s+=a.address.city)),r.a.createElement(S.a,{className:t.root},r.a.createElement(W.a,{square:!0},r.a.createElement(en.a,{"aria-label":"contractor-detail"},r.a.createElement(tn.a,{button:!1},r.a.createElement(S.a,{className:t.brief},r.a.createElement(Q.a,{className:Object(Me.default)(t.left,t.title)},"Name: ",o),r.a.createElement(Q.a,{className:Object(Me.default)(t.info,t.right,t.dark,t.weight500)},"Status: ",a.status.toUpperCase()))),r.a.createElement(tn.a,{button:!1,className:t.listTop},r.a.createElement(S.a,{className:t.brief},r.a.createElement(Q.a,{className:Object(Me.default)(t.info,t.weight500,t.left)},"Email: ",a.email),r.a.createElement(Q.a,{className:Object(Me.default)(t.info,t.weight400,t.right)},"Created at ",c.toDateString()))),r.a.createElement(tn.a,{button:!1,className:t.listBottom},r.a.createElement(S.a,{className:t.brief},r.a.createElement(Q.a,{className:Object(Me.default)(t.info,t.weight500)},"Address: ",s))))),r.a.createElement("br",null),r.a.createElement("br",null),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{variant:"subtitle1",className:t.subtitle},"Approve/Reject Reason"),r.a.createElement(Xe.a,{placeholder:"Put the reason in",multiline:!0,rows:4,value:this.state.statusReason,onChange:this.reasonChange,className:t.textField}),r.a.createElement(S.a,{className:t.buttons},r.a.createElement(De,{variant:"contained",onClick:this.reject},"Reject"),r.a.createElement(De,{color:"primary",onClick:this.approve},"Approve"))),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:t.waitingSpin}))}}]),t}(r.a.Component),nc={approveContractor:function(e,t){return function(a){return bt.approve(e,t)}},rejectContractor:function(e,t){return function(a){return bt.approve(e,t)}}},rc=Object(I.d)(Object(B.a)(tc),Object(s.b)(null,nc))(ac),oc=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 56px - 48px - 16px)"},titleBtn:{color:"#fff",padding:"6px"},button:{padding:"6px"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),cc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleUploadFiles=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.contractor,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.uploadFiles(n.id,t);case 5:return e.next=7,a.props.contractorUpdated();case 7:a.setState({openUploadForm:!1,isBusy:!1,showMessage:!0,message:"File Upload Success",variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({openUploadForm:!1,isBusy:!1,showMessage:!0,message:"File Upload Failed",variant:"error"});case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteFile=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.contractor,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.removeFile(n.id,t);case 5:return e.next=7,a.props.contractorUpdated();case 7:a.setState({isBusy:!1,showMessage:!0,message:"File Delete Success",variant:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({isBusy:!1,showMessage:!0,message:"File Delete Failed",variant:"error"});case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state={openUploadForm:!1,isBusy:!1,files:[],showMessage:!1,variant:"success",message:"",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.contractor,o=t.edit,c=n.contractorFiles,s="https://bcbe-service.herokuapp.com//contractors/"+n.id+"/files/";return r.a.createElement(S.a,{className:a.root},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"Name"),o&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.titleBtn,onClick:function(){return e.setState({openUploadForm:!0})}},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,c.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},r.a.createElement("a",{download:t.name,href:s+t.name},t.name)),o&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDeleteFile(t.name)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(Ma.a,{open:this.state.openUploadForm,onSave:this.handleUploadFiles,maxFileSize:52428800,showPreviewsInDropzone:!0,showPreviews:!1,acceptedFiles:["text/*,image/*,video/*,audio/*,application/*,font/*,message/*,model/*,multipart/*"],filesLimit:100,onClose:function(){return e.setState({openUploadForm:!1})}}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy}))}}]),t}(r.a.Component),sc={uploadFiles:function(e,t){return function(a){return bt.uploadFiles(e,t)}},removeFile:function(e,t){return function(a){return bt.deleteFile(e,t)}},getContractorDetailById:function(e){return function(t){return bt.getContractorById(e).then(function(e){t(kt(e))})}}},lc=Object(I.d)(Object(B.a)(oc),Object(s.b)(null,sc))(cc),ic=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},select:{width:"180px"},marginRight:{marginRight:e.spacing(1)},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},busy:{position:"absolute",left:"calc(50% - 10px)",top:"calc(50% - 10px)"},editField:{lineHeight:"1.5rem"},specialty:{margin:e.spacing(1)},titleBtn:{color:"#4a148c",padding:"6px"},button:{padding:"6px"},fab:{width:"40px",height:"40px",marginLeft:"20px"},tableWrap:{}}}),uc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(e,t){a.setState({currentPage:t}),a.props.getSpecialties(t,a.state.rowsPerPage)},a.closeMessage=function(){a.setState({showMessage:!1})},a.handleChangeRowsPerPage=function(e){var t=a.props.contractor,n=e.target.value,r=n>=t.contractorSpecialties.length?0:a.state.currentPage;a.setState({rowsPerPage:n,currentPage:r}),a.props.getSpecialties(r,n)},a.toggleSort=function(){var e="desc";"desc"===a.state.order&&(e="asc"),a.setState({order:e})},a.specialtyChange=function(e){a.setState({specialty:e.target.value})},a.handleAddSpec=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isBusy:!0}),e.prev=1,e.next=4,a.props.addSpecialty(a.props.contractor.id,a.state.specialty);case 4:return e.next=6,a.props.contractorUpdated();case 6:return e.next=8,a.props.getSpecialties(a.state.currentPage,a.state.rowsPerPage);case 8:a.setState({isBusy:!1,specialty:"",showMessage:!0,variant:"success",message:"Specialty Add success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.setState({isBusy:!1,specialty:"",showMessage:!0,variant:"error",message:"Specialty Add failed"});case 14:case"end":return e.stop()}},e,null,[[1,11]])})),a.handleRowSelect=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.contractor,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.deleteSpecialty(n.id,t);case 5:return e.next=7,a.props.contractorUpdated();case 7:return r=a.state.currentPage,a.state.rowsPerPage*a.state.currentPage>=n.contractorSpecialties.length-1&&r--,e.next=11,a.props.getSpecialties(r,a.state.rowsPerPage);case 11:a.setState({currentPage:r,showMessage:!0,message:"Delete Specialty success",variant:"success",isBusy:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),a.setState({showMessage:!0,message:"Delete Specialty failed",variant:"error",isBusy:!1});case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",specialty:"",showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage,order:"desc"},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getSpecialties(0,20)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=t.contractor,c=t.edit,s=this.state.specialty;return o?r.a.createElement(S.a,{className:a.root},c&&r.a.createElement(S.a,{className:a.specialty},r.a.createElement(rt.a,{className:a.select,value:s,onChange:this.specialtyChange,name:"specialties"},r.a.createElement(tt.a,{value:""},r.a.createElement("em",null,"None")),n?n.content.map(function(e){return r.a.createElement(tt.a,{value:e.id,key:e.id},e.name)}):null),r.a.createElement(Fn.a,{color:"primary","aria-label":"Add",className:a.fab,onClick:this.handleAddSpec},r.a.createElement(zn.a,null)),n?n.content.map(function(e){return e.id===s?r.a.createElement("ul",{key:e.id},r.a.createElement("li",null,"Name: ",e.name),r.a.createElement("li",null,"Description: ",e.description)):null}):null),r.a.createElement(S.a,{className:a.tableWrap},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null,"Name"),r.a.createElement(Ae,{align:"center"},"Desc"),r.a.createElement(Ae,{align:"center"},"Value"),c&&r.a.createElement(Ae,{align:"center"},"Action"))),r.a.createElement(Y.a,null,o.contractorSpecialties.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.handleRowSelect(t.specialty.id)}},t.specialty.name?t.specialty.name:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleRowSelect(t.specialty.id)}},t.specialty.description?t.specialty.description:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleRowSelect(t.specialty.id)}},t.specialty.value?t.specialty.value:"N/A"),c&&r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDelete(t.specialty.id)}},r.a.createElement(Da.a,null))))})))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:o.contractorSpecialties.length,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),pc={getSpecialties:Lt,addSpecialty:function(e,t){return function(a){return bt.addSpecialty(e,t)}},deleteSpecialty:function(e,t){return function(a){return bt.deleteSpecialty(e,t)}}},dc=Object(I.d)(Object(B.a)(ic),Object(s.b)(function(e){return{specialties:e.cont_data.specialties}},pc))(uc),mc=a(913),gc=Object(Qe.a)(function(e){return{root:{position:"relative"},title:{fontWeight:600,fontSize:"1.2em",color:"#111"},subtitle:{fontWeight:500,fontSize:"1.1em",paddingRight:e.spacing(1.5),display:"inline",color:"#222"},action:{display:"flex",position:"absolute",right:e.spacing(2),top:e.spacing(1)},item:{padding:e.spacing(1)}}}),hc=function(e){var t=e.item,a=e.handleDelete,r=e.handleDetail,o=e.handleEdit,c=gc({}),s=n.useState(!1),l=Object(O.a)(s,2),i=l[0],u=l[1];return n.createElement(tn.a,{className:c.root,onMouseEnter:function(e){return u(!0)},onMouseLeave:function(){return u(!1)},alignItems:"flex-start",button:!0,onClick:function(){return r(t)}},n.createElement(nt.a,{primary:n.createElement(Q.a,{className:c.title},t.title),secondary:n.createElement(n.Fragment,null,n.createElement(Q.a,{component:"span",variant:"body2",className:c.subtitle},t.from," - ",t.to),On()(t.description))}),i&&n.createElement(S.a,{className:c.action},n.createElement(F.a,{className:c.item,"aria-label":"Edit",onClick:function(e){e.stopPropagation(),o(t.id)}},n.createElement(Nr.a,{fontSize:"small"})),n.createElement(F.a,{className:c.item,"aria-label":"Delete",onClick:function(e){e.stopPropagation(),a(t.id)}},n.createElement(Dr.a,{fontSize:"small"}))))},fc=a(396),bc=a.n(fc),vc=Object(Ve.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",padding:e.spacing(1)},chip:{margin:e.spacing(1)}}}),Ec=function(e){var t=vc({}),a=e.files,r=e.handleAddFiles,o=e.handleDeleteFile,c=e.accept?e.accept:"image/*";return n.createElement(S.a,{className:t.root},n.createElement("input",{accept:c,id:"upload-file",multiple:!0,type:"file",style:{display:"none"},onChange:function(e){return r(e.target.files)}}),n.createElement("label",{htmlFor:"upload-file",style:{display:"inline"}},n.createElement(De,{variant:"contained",component:"span"},n.createElement(bc.a,null),"\xa0\xa0Upload")),a.map(function(e,a){return n.createElement(ut.a,{className:t.chip,key:a,label:e.slice(e.lastIndexOf("/")+1),onDelete:function(){return o(e)}})}))},yc=Object(z.a)(function(e){var t;return{root:{border:"1px solid #EEE",margin:e.spacing(1),padding:e.spacing(1)},container:{display:"flex",justifyContent:"left"},textFieldHalf:(t={width:"120px",paddingRight:e.spacing(2)},Object(G.a)(t,e.breakpoints.up("sm"),{width:"150px"}),Object(G.a)(t,e.breakpoints.up("md"),{width:"200px"}),t),doneContainer:{display:"block",textAlign:"right"},doneBtn:{border:"1px solid #4a148c",borderRadius:0,color:e.palette.primary.light,backgroundColor:"#FFF",padding:e.spacing(1),marginLeft:e.spacing(2),width:"160px",fontSize:"14px",bottom:0,"&:hover":{backgroundColor:e.palette.primary.light},"&:disabled":{backgroundColor:"#CCC"}}}}),xc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jc=function(e){return xc[e.getMonth()]+" "+e.getFullYear()},wc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleAddFiles=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n.push(e.item(r).name);a.setState({files:[].concat(Object(Ke.a)(a.state.files),n)})},a.handleDeleteFile=function(e){var t=a.state.files.indexOf(e);if(t>=0){var n=a.state.files;n.splice(t,1),a.setState({files:Object(Ke.a)(n)})}},a.handleSave=function(){if(a.state.title&&0!==a.state.title.length){var e={id:"",title:a.state.title,description:a.state.description,from:jc(a.state.from),to:jc(a.state.to),images:a.state.files,createdAt:a.props.item?a.props.item.createdAt:(new Date).toDateString(),updatedAt:(new Date).toDateString()};a.props.handleSave(e)}else a.setState({titleError:!0})},a.state={title:e.item?e.item.title:"",description:e.item?e.item.description:"",from:e.item?new Date(e.item.from):new Date,to:e.item?new Date(e.item.to):new Date,files:e.item?e.item.images:[],titleError:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.title,o=a.description,c=a.from,s=a.to,l=a.files;return n.createElement(q.a,{className:t.root},n.createElement(Xe.a,{required:!0,label:"Title",margin:"normal",fullWidth:!0,value:r,FormHelperTextProps:{error:!0},helperText:this.state.titleError?"Title can't be empty":void 0,onChange:function(t){return e.setState({title:t.target.value})}}),n.createElement(S.a,{className:t.container},n.createElement(mn.b,{utils:dn.a},n.createElement(gn.a,{className:t.textFieldHalf,margin:"normal",id:"mui-pickers-date",label:"From",openTo:"month",views:["year","month"],value:c,onChange:function(t){return e.setState({from:t})}})),n.createElement(mn.b,{utils:dn.a},n.createElement(gn.a,{className:t.textFieldHalf,margin:"normal",id:"mui-pickers-date",label:"To",openTo:"month",views:["year","month"],value:s,onChange:function(t){return e.setState({to:t})}}))),n.createElement(pn.a,{value:o,onChange:function(t){return e.setState({description:t})},options:{placeholder:"Description here"}}),n.createElement(Xe.a,{label:"Description",margin:"normal",fullWidth:!0,value:o,onChange:function(t){return e.setState({description:t.target.value})}}),n.createElement(Ec,{files:l,handleAddFiles:this.handleAddFiles,handleDeleteFile:this.handleDeleteFile}),n.createElement(S.a,{className:t.doneContainer},n.createElement(De,{color:"primary",className:t.doneBtn,onClick:this.handleSave},"Done"),n.createElement(De,{color:"primary",className:t.doneBtn,onClick:this.props.handleCancel},"Cancel")))}}]),t}(n.Component),Oc=Object(B.a)(yc)(wc),Sc=new function e(){var t=this;Object(b.a)(this,e),this.history=[],this._initHistory=function(){t.history=[{id:"0",updatedAt:"Jul 2019",updatedBy:"test4@bc.com",createdAt:"Jun 2019",title:"Internship",description:"I worked here as an internship for 3 years. My main task was to implement simple components",from:"Apr 2008",to:"Aug 2011",images:["https://image.shutterstock.com/z/stock-photo-making-great-decisions-young-beautiful-woman-gesturing-and-discussing-something-with-smile-while-370390046.jpg","https://assets.rockefellerfoundation.org/app/uploads/20150518134031/Working-on-MacBook-Air-Unsplash-Alejandro-Escamilla.jpg"]},{id:"1",updatedAt:"Apr 2019",updatedBy:"test4@bc.com",createdAt:"Apr 2019",title:"Junior Developer",description:"I worked here as a junior front-end developer for 4 years. My main task was to create pages using html, css, and javascript with other team members.",from:"Sep 2011",to:"Jan 2015",images:["https://static.businessinsider.sg/sites/2/2017/06/583daf7fe02ba75f658b596e.jpg"]}]},this._findNewId=function(){for(var e=0,a=function(){var a=e.toString();if(!t.history.some(function(e){return e.id===a}))return"break";e++};"break"!==a(););return e.toString()},this.getHistory=function(){return t.history},this.addHistory=function(e){return e.id=t._findNewId(),t.history.push(e),t.history},this.deleteHistory=function(e){for(var a=t.history.length,n=0;n<a;n++)if(t.history[n].id===e)return t.history.splice(n,1),t.history},this.updateHistory=function(e,a){for(var n=t.history.length,r=0;r<n;r++)if(t.history[r].id===e)return a.id=e,t.history.splice(r,1,a),t.history},this._initHistory()},Cc=Object(z.a)(function(e){return{root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},waitingSpin:{position:"absolute",left:"calc(50% - 10px)",top:"calc(40vh)"},action:{display:"flex",flexDirection:"column"},left:{float:"left"},right:{float:"right"},fullWidth:{width:"100%"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),kc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleAdd=function(){a.setState({editing:!0,editId:void 0})},a.handleEdit=function(e){a.setState({editing:!0,editId:e})},a.handleDelete=function(e){a.setState({history:Sc.deleteHistory(e)})},a.handleDetail=function(e){var t=a.props,n=t.history,r=t.match;a.props.setHistoryItem(e),n.push(r.url.slice(0,r.url.lastIndexOf("/")+1)+"history_detail")},a.handleAddFiles=function(e){a.setState({files:[].concat(Object(Ke.a)(a.state.files),Object(Ke.a)(e))})},a.handleRemoveFile=function(e){for(var t=a.state.files,n=0;n<t.length;n++)if(t[n].name===e.name&&t[n].size===e.size){t.splice(n,1);break}a.setState({files:Object(Ke.a)(t)})},a.handleSave=function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],n=a.state.editId?Sc.updateHistory(a.state.editId,t):Sc.addHistory(t),a.setState({history:n,editId:void 0,editing:!1});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cancelEdit=function(){a.setState({editing:!1,editId:void 0})},a.state={isBusy:!1,showMessage:!1,variant:"success",message:"",handleClose:a.closeMessage,editing:!1,editId:void 0,files:[],history:Sc.getHistory()},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.history,o=a.editId,c=a.editing;return n.createElement(S.a,{className:t.root},n.createElement(W.a,{square:!0},n.createElement(en.a,{"aria-label":"contractor-history"},n.createElement(tn.a,null,n.createElement(S.a,{className:t.fullWidth},n.createElement(F.a,{className:t.right,onClick:this.handleAdd},n.createElement(mc.a,{fontSize:"large",color:"primary"})))),c&&!o&&n.createElement(Oc,{handleSave:this.handleSave,handleCancel:this.cancelEdit}),r.map(function(t){return c&&t.id===o?n.createElement(n.Fragment,{key:t.id},n.createElement(Oc,{item:t,handleSave:e.handleSave,handleCancel:e.cancelEdit}),n.createElement(an.a,null)):n.createElement(n.Fragment,{key:t.id},n.createElement(hc,{item:t,handleDetail:e.handleDetail,handleDelete:e.handleDelete,handleEdit:e.handleEdit}),n.createElement(an.a,null))}))))}}]),t}(n.Component),Pc={setHistoryItem:Ja},Nc=Object(s.b)(null,Pc)(Object(B.a)(Cc)(kc)),Dc=a(80),Bc=a.n(Dc),Ac=Object(z.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"flex-start",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{},item:{width:"240px",height:"180px",padding:e.spacing(1),"&:hover":{cursor:"pointer"}},icon:{color:"rgba(255, 255, 255, 0.54)"}}}),Mc=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,r=t.classes;return n.createElement(S.a,{className:r.root},a.map(function(t,a){return n.createElement("img",{key:a,src:t,alt:"item",className:r.item,onClick:function(){return e.props.selectImage(t)}})}))}}]),t}(n.Component),Tc=Object(B.a)(Ac)(Mc),_c=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectImage=function(e){a.setState({showDialog:!0,selected:e})},a.state={showDialog:!1,selected:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.historyItem;return r?n.createElement(W.a,{square:!0,className:a.root},n.createElement(en.a,{"aria-label":"contractor-history",style:{padding:0}},n.createElement(tn.a,{button:!1,className:a.titlebar},n.createElement(Q.a,{className:a.title},r.title)),n.createElement(an.a,null),n.createElement(tn.a,{button:!1,style:{paddingTop:"16px"}},n.createElement(Q.a,{className:a.subtitle},r.from," - ",r.to)),n.createElement(tn.a,{button:!1,className:a.description},n.createElement(cn.a,{source:r.description})),r.images&&r.images.length>0&&n.createElement(n.Fragment,null,n.createElement(an.a,null),n.createElement(tn.a,{button:!1},n.createElement(Tc,{items:r.images,selectImage:this.selectImage})))),n.createElement(Sn.a,{onClose:function(){return e.setState({showDialog:!1})},"aria-labelledby":"dialog-title",open:this.state.showDialog,className:a.dialog},n.createElement(S.a,{className:a.dialogContent},n.createElement(F.a,{"aria-label":"Close",className:a.closeButton,onClick:function(){return e.setState({showDialog:!1})}},n.createElement(Bc.a,null)),n.createElement("img",{src:this.state.selected,className:a.image,alt:"item"})))):n.createElement(S.a,{className:a.root},"History Item not selected")}}]),t}(n.Component),Rc=Object(s.b)(function(e){return{historyItem:e.global_data.history}},{})(Object(B.a)(function(e){return Object(z.a)({root:{position:"relative",minHeight:"calc(100vh - 64px - 56px - 48px - 16px)"},titlebar:{padding:e.spacing(3,2),fontSize:"1.5em",backgroundColor:"rgba(0, 0, 0, 0.12)"},title:{display:"inline-block",fontSize:"1.2em",textAlign:"left",fontWeight:600,color:"#111"},subtitle:{fontWeight:600,fontSize:"1.2em",padding:e.spacing(1.5,.5)},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},description:{paddingTop:e.spacing(.5),paddingBottom:e.spacing(2)},dialog:{margin:0,borderRadius:0,padding:0},dialogContent:{position:"relative",margin:0,padding:0,backgroundColor:"rgba(0, 0, 0, 0.3)"},image:{width:"100%",height:"auto",display:"block"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})})(_c)),Lc=Object(z.a)(function(e){return{root:{flexGrow:1,height:"calc(100vh - 64px - 56px - 8px)",overflow:"auto"},content:{paddingTop:e.spacing(1)},toolbarstyle:{backgroundColor:e.palette.background.paper,color:e.palette.primary.dark,flexGrow:1}}}),Ic=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleBack=function(){a.props.history.goBack()},a.contractorUpdated=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.updateContractor(a.props.match.params.id);case 2:case"end":return e.stop()}},e)})),a.state={history:void 0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.props.selectContractor(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.selectedContractor,o=t.match,c=t.location;if(!n)return r.a.createElement(U.a,{style:{position:"relative",left:"calc(50% - 10px)",top:"40vh"}});var s=o.url.includes("/m_cont"),l=[o.url+"/info",o.url+"/files",o.url+"/specialties",o.url+"/history",o.url+"/history_detail",o.url],i=l.indexOf(c.pathname)%5;return r.a.createElement(S.a,{className:a.root},r.a.createElement(S.a,{style:{display:"flex"}},r.a.createElement(ec,{value:i,goBack:this.handleBack,tabs:[{href:l[0],label:"Info"},{href:l[1],label:"Files"},{href:l[2],label:"Specialties"},{href:l[3],label:"History"},{href:l[4],label:"History Detail"}]})),r.a.createElement(S.a,{className:a.content},r.a.createElement(j.d,null,r.a.createElement(L,{path:l[0],render:function(t){return r.a.createElement(rc,Object.assign({},t,{isAdmin:s,contractor:n,contractorUpdated:e.contractorUpdated}))}}),r.a.createElement(L,{path:l[1],render:function(t){return r.a.createElement(lc,Object.assign({},t,{edit:s,contractor:n,contractorUpdated:e.contractorUpdated}))}}),r.a.createElement(L,{path:l[2],render:function(t){return r.a.createElement(dc,Object.assign({},t,{edit:s,contractor:n,contractorUpdated:e.contractorUpdated}))}}),r.a.createElement(L,{path:l[3],render:function(t){return r.a.createElement(Nc,Object.assign({},t,{edit:s,contractor:n,contractorUpdated:e.contractorUpdated}))}}),r.a.createElement(L,{path:l[4],render:function(t){return r.a.createElement(Rc,Object.assign({},t,{edit:s,contractor:n,contractorUpdated:e.contractorUpdated}))}}),r.a.createElement(j.a,{path:"".concat(o.url),to:l[0]}))))}}]),t}(r.a.Component),Fc={selectContractor:Bt,updateContractor:function(e){return function(t){return bt.selectContractor(e).then(function(e){t(Pt(e))})}}},Wc=Object(B.a)(Lc)(Object(s.b)(function(e){return{selectedContractor:e.cont_data.selectedContractor}},Fc)(Ic)),zc=function(e){var t=e.children,a=function(e){return Object(Qe.a)(function(t){return{ellipsis:{display:"-webkit-box",maxHeight:"calc(".concat(e.maxLines," * ",1.5," * ").concat(e.fontSize,")"),lineHeight:"1.5",fontSize:e.fontSize,"-webkitLineClamp":e.maxLines,"-webkitBoxOrient":"vertical",overflow:"hidden",textOverflow:"ellipsis"}}})}({fontSize:e.fontSize||"1em",maxLines:e.maxLines||2})({});return r.a.createElement("span",{className:a.ellipsis},t)},Uc=a(942),Hc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).contractorBulk=[],a.closeMessage=function(){a.setState({showMessage:!1})},a.handleAddProject=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i,u,p,d;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.userProfile,r=t.history,o=a.state,c=o.files,s=o.title,l=o.description,i=o.price,u=o.dueDate,!a.state.project){e.next=5;break}return r.push("/gen-contractor/add_project/add-levels"),e.abrupt("return");case 5:if(0!==s.length&&0!==l.length&&0!==i){e.next=8;break}return a.setState({showMessage:!0,message:"You must fill in all the items"}),e.abrupt("return");case 8:return p={title:s,description:l,budget:i,updatedBy:n.email,due:u},a.setState({isBusy:!0}),d=void 0,e.prev=11,e.next=14,a.props.addProject(n.user_metadata.contractor_id,p);case 14:return d=e.sent,e.next=17,a.props.addFilesToProject(d.id,c);case 17:a.setState({isBusy:!1,project:d,showMessage:!0,variant:"success",message:"Add project success"}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),a.setState({isBusy:!1,showMessage:!0,variant:"error",message:"Add project failed.",project:void 0});case 23:case"end":return e.stop()}},e,null,[[11,20]])})),a.handleFileChange=function(e){a.setState({files:[].concat(Object(Ke.a)(a.state.files),Object(Ke.a)(e.target.files))})},a.handleRemove=function(e){for(var t=a.state.files,n=0;n<t.length;n++)if(t[n].name===e.name&&t[n].size===e.size){t.splice(n,1);break}a.setState({files:Object(Ke.a)(t)})},a.handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+a.props.userProfile.user_metadata.contractor_id+"/projects"+"?page=".concat(n,"&size=").concat(r,"&status=ONGOING")).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state,r=n.currentPage,o=n.rowsPerPage,c=r*o,s=t.target.value,l=Math.floor(c/s),a.setState({rowsPerPage:o,currentPage:r,isBusy:!0});try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+a.props.userProfile.user_metadata.contractor_id+"/projects"+"?page=".concat(r,"& size=").concat(s,"&status=ONGOING")).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:l,rowsPerPage:s})})}catch(i){console.log("CurrentProjectView.handleChangeRowsPerPage",i)}a.setState({isBusy:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDateChange=function(e){a.setState({dueDate:e})},a.handleDescChange=function(e){a.setState({description:e})},a.handleTitleChange=function(e){a.setState({title:e})},a.handlePriceChange=function(e){a.setState({price:e})},a.addLevel=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r){var o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.state.project){e.next=4;break}return a.setState({showMessage:!0,message:"You should post a project first",variant:"warning"}),e.abrupt("return");case 4:return c=a.props,s=c.createLevel,l=c.getLevels,a.setState({isBusy:!0}),e.prev=6,e.next=9,s(o.id,{number:t,name:n,description:r});case 9:return e.next=11,l(o.id);case 11:a.setState({isBusy:!1,showMessage:!0,message:"Add Level success",variant:"success"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),console.log("AddProjectView.AddLevel: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Add Level failed",variant:"error"});case 18:case"end":return e.stop()}},e,null,[[6,14]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.updateLevel=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r,o){var c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.state.project,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.updateLevel(t,{number:n,name:r,description:o});case 5:return e.next=7,ya(c.id);case 7:a.setState({isBusy:!1,showMessage:!0,message:"Update Level success",variant:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("AddProjectView.UpdateLevel: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Update Level failed",variant:"error"});case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.deleteLvl=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.project,r=a.props,o=r.deleteLevel,c=r.getLevels,n){e.next=4;break}return e.abrupt("return");case 4:return a.setState({isBusy:!0}),e.prev=5,e.next=8,o(t);case 8:return e.next=10,c(n.id);case 10:a.setState({isBusy:!1,showMessage:!0,message:"Delete Level success",variant:"success"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("AddProjectView.RemoveLevel: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Delete Level failed",variant:"error"});case 17:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),a.addCategory=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.createRoom,c=r.getLevels,s=a.state.project,a.setState({isBusy:!0}),e.prev=3,e.next=6,o(t,{number:n.number,name:n.name,type:n.type,description:n.description,w:n.w,l:n.l,h:n.h});case 6:return e.next=8,c(s.id);case 8:a.setState({isBusy:!1,showMessage:!0,message:"Create Room success",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("AddProjectView.AddRoom: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Create Room failed",variant:"error"});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a.updateCategory=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.updateRoom,c=r.getLevels,s=a.state.project,a.setState({isBusy:!0}),e.prev=3,e.next=6,o(n.id,n);case 6:return e.next=8,c(s.id);case 8:a.setState({isBusy:!1,showMessage:!0,message:"Update Room success",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("AddProjectView.UpdateRoom: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Update Room failed",variant:"error"});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteCategory=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,o=r.deleteRoom,c=r.getLevels,s=a.state.project,a.setState({isBusy:!0}),e.prev=3,e.next=6,o(n);case 6:return e.next=8,c(s.id);case 8:a.setState({isBusy:!1,showMessage:!0,message:"Delete Room success",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("AddProjectView.DeleteRoom: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Delete Room failed",variant:"error"});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a.StartDateToggleSort=function(){var e="desc";"desc"===a.state.startDateOrder&&(e="asc"),a.state.compltedArray.sort(function(e,t){return e.project.submittedDate>t.project.submittedDate?1:-1}),a.setState({startDateOrder:e})},a.EndDateToggleSort=function(){var e="desc";"desc"===a.state.endDateOrder&&(e="asc"),a.state.compltedArray.sort(function(e,t){return e.project.endDate>t.project.endDate?1:-1}),a.setState({endDateOrder:e})},a.handleSelectProject=function(e){a.props.setCurrentProject(e),a.props.history.push("/gen-contractor/project_detail/"+e)},a.state={compltedArray:[],totalLength:0,rowsPerPage:20,currentPage:0,title:"",price:0,days:0,description:"",startDateOrder:"desc",endDateOrder:"desc",dueDate:new Date,isBusy:!1,files:[],showMessage:!1,message:"",variant:"error",handleClose:a.closeMessage,project:void 0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.clearLevels();case 2:return e.next=4,this.props.loadRoots();case 4:_.a.get("https://bcbe-service.herokuapp.com/contractors/"+this.props.userProfile.user_metadata.contractor_id+"/projects"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage,"&status=ONGOING")).then(function(e){t.setState({compltedArray:e.data.content}),t.setState({totalLength:e.data.totalElements}),e.data.content.map(function(e){var a=Math.floor((Date.parse(e.project.endDate)-Date.parse(e.project.startDate))/864e5);return t.setState({days:a})})}),this.setState({isBusy:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match,o=t.location,c=[{href:"".concat(n.url,"/submitted"),label:"Overview"},{href:"".concat(n.url,"/add-levels"),label:"Levels"},{href:"".concat(n.url,"/select"),label:"Select"}].map(function(e){return e.href}).indexOf(o.pathname);return c<0&&(c=0),0===this.state.compltedArray.length?r.a.createElement(U.a,{className:a.waitingSpin}):r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(J.a,{className:"sub-table-margin"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"Contractor"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Budget"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown ",active:!0,direction:this.state.startDateOrder,onClick:this.StartDateToggleSort},"Start Date")),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.endDateOrder,onClick:this.EndDateToggleSort},"End Date")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.compltedArray.map(function(t){return r.a.createElement(X.a,{className:"",key:t.project.id,hover:!0,onClick:function(){return e.handleSelectProject(t.project.id)}},r.a.createElement(Ae,{component:"th",scope:"row"},r.a.createElement(zc,{maxLines:2},t.project.title)),r.a.createElement(Ae,{align:"center"},t.contractor.address.name),r.a.createElement(Ae,{align:"center"},t.contractor.address.city),r.a.createElement(Ae,{align:"center"},"$",t.project.budget),r.a.createElement(Ae,{align:"center"},t.project.submittedDate&&t.project.submittedDate.slice(0,10),r.a.createElement("div",{className:"time"},t.project.submittedDate&&t.project.submittedDate.slice(10,19),"\xa0",t.project.submittedDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center"},t.project.submittedDate&&t.project.submittedDate.slice(0,10),r.a.createElement("div",{className:"notDisplayFlex"},r.a.createElement("p",{className:"font-size-12"},e.state.days,"\xa0 Days Left"))),r.a.createElement(Ae,{align:"center"},r.a.createElement(zc,{maxLines:2},On()(t.project.description))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:function(){return e.setState({showMessage:!1})}})))}}]),t}(r.a.Component),Vc={addProject:function(e,t){return function(a){return bt.addProject(e,t)}},addFilesToProject:pa,createLevel:ga,createRoom:ba,updateLevel:ha,updateRoom:va,deleteLevel:fa,deleteRoom:Ea,getLevels:ya,clearLevels:function(){return function(e){return e(ua(void 0))}},loadRoots:dr,setCurrentProject:Ha},Gc=Object(I.d)(Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,levels:e.gen_data.levels,roots:e.tem_data.roots}},Vc),Object(B.a)(function(e){return Object(z.a)({root:{position:"relative",minHeight:"100%"},contents:{width:"100%",flex:1},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},fileUpload:{display:"flex",flexWrap:"wrap",padding:e.spacing(1)},fileItem:{margin:"6px",padding:e.spacing(1),border:"1px solid #CCC"},textFieldHalf:{width:"calc(50% - 8px)",paddingRight:e.spacing(1)}})}))(Hc),qc=(a(662),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.userProfile,o=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+r.user_metadata.contractor_id+"/projects"+"?page=".concat(n,"&size=").concat(o)).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state,r=n.currentPage,o=n.rowsPerPage,c=r*o,s=t.target.value,l=Math.floor(c/s),i=a.props.userProfile;try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+i.user_metadata.contractor_id+"/projects"+"?page=".concat(r,"&size=").concat(s)).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:l,rowsPerPage:s})})}catch(u){console.log("CurrentProjectView.handleChangeRowsPerPage",u),a.setState({isBusy:!1,showMessage:!0,message:"Some errors occured",variant:"error"})}a.setState({isBusy:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteProject=Object(f.a)(h.a.mark(function e(){var t,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.userProfile,r=t.projects,a.setState({isBusy:!0,showConfirm:!1}),e.prev=2,e.next=5,a.props.deleteProject(a.state.proId);case 5:return o=a.state.currentPage,a.state.rowsPerPage*a.state.currentPage>r.totalElements-1&&o--,e.next=9,a.props.getProjectsByGenId(n.user_metadata.contractor_id,o,a.state.rowsPerPage);case 9:a.setState({isBusy:!1,showMessage:!0,message:"delete project success",variant:"success",currentPage:o}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),a.setState({isBusy:!1,showMessage:!0,variant:"error",message:"delete project failed"});case 16:case"end":return e.stop()}},e,null,[[2,12]])})),a.UploadToggleSort=function(){var e="desc";"desc"!==a.state.uploadOrder?a.state.compltedArray.sort(function(e,t){return e.project.submittedDate<t.project.submittedDate?1:-1}):(a.state.compltedArray.sort(function(e,t){return e.project.submittedDate>t.project.submittedDate?1:-1}),e="asc"),a.setState({uploadOrder:e})},a.BidsToggleSort=function(){var e="desc";"desc"===a.state.bidsOrder&&(e="asc"),a.state.compltedArray.sort(function(e,t){return new Date(e.project.endDate)>new Date(t.project.endDate)?1:-1}),a.setState({bidsOrder:e})},a.handleSelectProject=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setCurrentProject(t);case 2:a.props.history.push("/gen-contractor/project_detail/"+t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={compltedArray:[],rowsPerPage:20,currentPage:0,isBusy:!1,totalLength:0,uploadOrder:"desc",bidsOrder:"desc",showMessage:!1,message:"",variant:"success",showConfirm:!1,proId:"",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.userProfile,this.setState({isBusy:!0}),e.prev=2,_.a.get("https://bcbe-service.herokuapp.com/contractors/"+t.user_metadata.contractor_id+"/projects"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage)).then(function(e){a.setState({compltedArray:e.data.content}),a.setState({totalLength:e.data.totalElements})}),e.next=6,this.props.getProjectsByGenId(t.user_metadata.contractor_id,0,20);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:this.setState({isBusy:!1});case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;return t.projects?r.a.createElement(S.a,null,r.a.createElement(J.a,{className:"sub-table-margin"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"Bids"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Budget"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.uploadOrder,onClick:this.UploadToggleSort},"Upload Date")),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.bidsOrder,onClick:this.BidsToggleSort},"Bids Due")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.compltedArray.map(function(t){return r.a.createElement(X.a,{className:"",key:t.project.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.handleSelectProject(t.project.id)},className:"title"},r.a.createElement(zc,{maxLines:2},t.project.title)),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},t.numberOfBids),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},t.project.city),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},"$",t.project.budget),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},t.project.submittedDate&&t.project.submittedDate.slice(0,10),r.a.createElement("div",{className:"time"}," ",t.project.submittedDate&&t.project.submittedDate.slice(10,19),"\xa0",t.project.submittedDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},t.project.endDate&&t.project.endDate.slice(0,10),r.a.createElement("div",{className:"time"}," ",t.project.endDate&&t.project.endDate.slice(10,19),"\xa0",t.project.endDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(t.project.id)}},r.a.createElement(zc,{maxLines:2},On()(t.project.description))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),r.a.createElement(Mn,{open:this.state.showConfirm,onYes:this.handleDeleteProject,onCancel:function(){return e.setState({showConfirm:!1})},message:"Do you want to delete this project?"})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component)),Jc={getProjectsByGenId:function(e,t,a){return function(n){return bt.getProjects(e,t,a).then(function(e){n(ia(e))})}},deleteProject:function(e){return function(t){return Ht.archive(e)}},setCurrentProject:Ha},Yc=Object(I.d)(Object(s.b)(function(e){return{projects:e.gen_data.projects,userProfile:e.global_data.userProfile}},Jc),Object(B.a)(function(e){return Object(z.a)({root:{position:"relative"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},desc:{color:"#444",marginTop:"0","& > p":{margin:e.spacing(0,0)}},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}})}))(qc),$c=a(231),Kc=a.n($c),Xc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.userProfile,o=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+r.user_metadata.contractor_id+"/projects"+"?page=".concat(n,"&size=").concat(o,"&status=ARCHIVED")).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state,r=n.currentPage,o=n.rowsPerPage,c=r*o,s=t.target.value,l=Math.floor(c/s),i=a.props.userProfile;try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+i.user_metadata.contractor_id+"/projects"+"?page=".concat(r,"&size=").concat(s,"&status=ARCHIVED")).then(function(e){a.setState({compltedArray:e.data.content,isBusy:!1,currentPage:l,rowsPerPage:s})})}catch(u){console.log("CurrentProjectView.handleChangeRowsPerPage",u),a.setState({isBusy:!1,showMessage:!0,message:"Some errors occured",variant:"error"})}a.setState({isBusy:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteProject=Object(f.a)(h.a.mark(function e(){var t,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.userProfile,r=t.projects,a.setState({isBusy:!0,showConfirm:!1}),e.prev=2,e.next=5,a.props.deleteProject(a.state.proId);case 5:return o=a.state.currentPage,a.state.rowsPerPage*a.state.currentPage>r.totalElements-1&&o--,e.next=9,a.props.getArchivedProjectsByGenId(n.user_metadata.contractor_id,o,a.state.rowsPerPage);case 9:a.setState({isBusy:!1,showMessage:!0,variant:"success",message:"delete project success",currentPage:o}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),a.setState({isBusy:!1,showMessage:!0,variant:"error",message:"delete project failed"});case 16:case"end":return e.stop()}},e,null,[[2,12]])})),a.handleSelectProject=function(e){a.props.setCurrentProject(e),a.props.history.push("/gen-contractor/project_detail/"+e)},a.StartDateToggleSort=function(){var e="desc";"desc"===a.state.startDateOrder&&(e="asc"),a.state.compltedArray.sort(function(e,t){return e.project.startDate>t.project.startDate?1:-1}),a.setState({startDateOrder:e})},a.EndDateToggleSort=function(){var e="desc";"desc"===a.state.endDateOrder&&(e="asc"),a.state.compltedArray.sort(function(e,t){return e.project.endDate>t.project.endDate?1:-1}),a.setState({endDateOrder:e})},a.state={compltedArray:[],rowsPerPage:20,currentPage:0,totalLength:0,isBusy:!0,startDateOrder:"desc",endDateOrder:"desc",startDate:new Date,endDate:new Date,days:0,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage,showConfirm:!1,proId:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.userProfile,this.setState({isBusy:!0}),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+t.user_metadata.contractor_id+"/projects"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage,"&status=ARCHIVED")).then(function(e){a.setState({compltedArray:e.data.content}),a.setState({totalLength:e.data.totalElements})}),this.setState({isBusy:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return 0===this.state.compltedArray.length?r.a.createElement(U.a,{className:t.waitingSpin}):r.a.createElement(S.a,{className:t.root},r.a.createElement(J.a,{className:"sub-table-margin"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"Contractor"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Budget"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown ",active:!0,direction:this.state.startDateOrder,onClick:this.StartDateToggleSort}," Start Date ")),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.endDateOrder,onClick:this.EndDateToggleSort},"End Date")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.compltedArray.map(function(t){return r.a.createElement(X.a,{className:"",key:t.project.id,hover:!0,onClick:function(){return e.handleSelectProject(t.project.id)}},r.a.createElement(Ae,{component:"th",scope:"row",className:"margintopbottom"},r.a.createElement(zc,{maxLines:2},t.project.title)),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},t.contractor.address.name),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},t.contractor.address.city),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},"$",t.project.budget),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},t.project.startDate&&t.project.startDate.slice(0,10),r.a.createElement("div",{className:"time"},t.project.startDate&&t.project.startDate.slice(10,19),"\xa0",t.project.startDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},t.project.endDate&&t.project.endDate.slice(0,10),r.a.createElement("div",{className:"time"},t.project.endDate&&t.project.endDate.slice(10,19),"\xa0",t.project.endDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center",className:"margintopbottom"},r.a.createElement(zc,{maxLines:2},r.a.createElement(F.a,{"aria-label":"Delete",color:"primary"},r.a.createElement(Kc.a,{className:"bluedoneicon"})),On()(t.project.description))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:function(){return e.setState({showMessage:!1})}}),r.a.createElement(Mn,{open:this.state.showConfirm,onYes:this.handleDeleteProject,onCancel:function(){return e.setState({showConfirm:!1})},message:"Do you want to delete this project?"}),this.state.isBusy&&r.a.createElement(U.a,{className:t.busy}))}}]),t}(r.a.Component),Qc={getArchivedProjectsByGenId:function(e,t,a){return function(n){return bt.getProjects(e,t,a,"ARCHIVED").then(function(e){n(ia(e))})}},deleteProject:da,setCurrentProject:Ha},Zc=Object(I.d)(Object(s.b)(function(e){return{projects:e.gen_data.projects,userProfile:e.global_data.userProfile}},Qc),Object(B.a)(function(e){return Object(z.a)({root:{position:"relative"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},desc:{color:"#444",marginTop:"0","& > p":{margin:e.spacing(0,0)}},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}})}))(Xc),es=a(151),ts=a.n(es),as=a(398),ns=a.n(as),rs=a(114),os=a.n(rs),cs=a(92),ss=a(450),ls=a(916),is=a(106),us=a.n(is),ps=a(105),ds=a.n(ps),ms=a(915),gs=a(914);var hs=function(e){var t=Object(B.a)({root:{color:Ue.a[400],"&$checked":{color:Ue.a[600]}},checked:{}})(function(e){return r.a.createElement(Er.a,Object.assign({color:"default"},e))});return r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text font-weight text-left",variant:"h5"},"What is the estimated square footage of the area that needs flooring?"),r.a.createElement(en.a,{className:"service-modal-list",onChange:function(t){e.areaCallback(t.target.value)}},r.a.createElement(gs.a,{"aria-label":"gender",name:"gender1"},r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Less then 500"===e.data[2],value:"Less then 500",control:r.a.createElement(t,null),label:"Less then 500",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"500-1000"===e.data[2],value:"500-1000",control:r.a.createElement(t,null),label:"500-1000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"1000-2000"===e.data[2],value:"1000-2000",control:r.a.createElement(t,null),label:"1000-2000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"2000-3000"===e.data[2],value:"2000-3000",control:r.a.createElement(t,null),label:"2000-3000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"More then 3000"===e.data[2],value:"More then 3000",control:r.a.createElement(t,null),label:"More then 3000",name:"radio-button-demo"})))),r.a.createElement("p",{className:"red"},e.errorMessage))},fs=(a(168),a(854));var bs=function(e){var t=r.a.useState([]),a=Object(O.a)(t,2),n=a[0],o=a[1],c=e.data[5],s=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{className:"service-modal-col city-head-text font-weight",item:!0,xs:10},r.a.createElement(Q.a,{className:"heading-service",variant:"h5"},"Which Service(s) are you Looking for?"),r.a.createElement(Q.a,{className:"service-sub-text",variant:"body1"},"Select all that Apply"),r.a.createElement(en.a,{className:"service-modal-list"},r.a.createElement(fs.a,{"aria-label":"position",onClick:function(t){var a=n.indexOf(t.target.value),r=Object(Ke.a)(n);-1===a?r.push(t.target.value):r.splice(a,1),o(r),e.serviceCallback(r)},row:!0},r.a.createElement(tn.a,{className:"list-border",dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Design Service"===s||"Design Service"===l,value:"Design Service",control:r.a.createElement(ot.a,{style:{color:"green"}}),label:"Design Service"})),r.a.createElement(tn.a,{className:"list-border",dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Construction Service"===s||"Construction Service"===l,value:"Construction Service",control:r.a.createElement(ot.a,{style:{color:"green"}}),label:"Construction Service"})))),r.a.createElement("p",{className:"red font"},e.errorMessage)))},vs=a(232),Es=a.n(vs);var ys=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],c=a[1],s=Object(B.a)({root:{color:Ue.a[400],"&$checked":{color:Ue.a[600]}},checked:{}})(function(e){return r.a.createElement(Er.a,Object.assign({color:"default"},e))});return r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text font-weight text-left",variant:"h5"},"What is your budget for this Project?"),r.a.createElement(Q.a,{color:"textSecondary",variant:"body1"},"Enter Yout Budget will help us contect you with the right pro"),r.a.createElement(at.a,{className:"width100"},r.a.createElement(Xe.a,{id:"filled-full-width",margin:"normal",value:o,onChange:function(t){var a=t.target.value;c(a),e.budjetCallbackvalue(a)},variant:"outlined",InputProps:{startAdornment:r.a.createElement(Sr.a,{position:"start"},r.a.createElement(Es.a,{className:"dollar"}))}})),r.a.createElement(Q.a,{color:"textSecondary",variant:"body1"},"Or Select from the following option."),r.a.createElement(en.a,{className:"service-modal-list list-overflow",onChange:function(t){e.budjetCallback(t.target.value)}},r.a.createElement(gs.a,{"aria-label":"gender",name:"gender1"},r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"I m Not sure"===e.data[3],value:"I m Not sure",control:r.a.createElement(s,null),label:"I m Not sure",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Less then $12,000"===e.data[3],value:"Less then 12,000",control:r.a.createElement(s,null),label:"Less then $12,000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"$12000-$50000"===e.data[3],value:"12000-50000",control:r.a.createElement(s,null),label:"$12000-$50000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"$50000-$100000"===e.data[3],value:"50000-100000",control:r.a.createElement(s,null),label:"$50000-$100000",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"More then $10000"===e.data[3],value:"More then 10000",control:r.a.createElement(s,null),label:"More then $10000",name:"radio-button-demo"}))),r.a.createElement("p",{className:"red"},e.errorMessage)))},xs=a(847),js=a(309),ws=a.n(js);var Os=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(0),l=Object(O.a)(s,2),i=l[0],u=l[1];return r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text font-weight text-left bootom",variant:"h5"},"Anything else the pro should know to provide the best service/quote for you?"),r.a.createElement(at.a,{className:"width100"},r.a.createElement(xs.a,{id:"filled-full-width",value:o,onChange:function(t){var a=t.target.value,n=t.target.value.length;u(n),c(a),e.discCallback(a),e.charCountback(n)},style:{minHeight:"150px",color:" #bbb"},rowsMax:10,"aria-label":"maximum height",placeholder:"Minimum 10 rows"}),r.a.createElement("p",{className:"red"},e.errorMessage)),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Q.a,{color:"textSecondary",variant:"inherit"},"Charecters:",i),r.a.createElement(Q.a,{className:"city-sub-text",variant:"h6"},r.a.createElement(ws.a,{className:"right-icon"})," write at least 40 Charecters,"),r.a.createElement(Q.a,{className:"city-sub-text",variant:"h6"},r.a.createElement(ws.a,{className:"right-icon"})," Include spacific challenges or requirments.")))};a(358);var Ss=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],c=a[1];return r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text",variant:"h5"},"Answer a few question to get matched professionals near you"),r.a.createElement(Q.a,{className:"city-sub-text",variant:"body1"},"Please confirm your project zipcode"),r.a.createElement(at.a,{className:"width100"},r.a.createElement(Xe.a,{id:"outlined-bare",value:o,onChange:function(t){var a=t.target.value;c(a),e.parentCallback(a)},margin:"normal",variant:"outlined",autoComplete:"off",inputProps:{"aria-label":"bare"},required:!0}),r.a.createElement("p",{className:"red"},e.errorMessage),r.a.createElement("div",null)))};var Cs=function(e){var t=Object(B.a)({root:{color:Ue.a[400],"&$checked":{color:Ue.a[600]}},checked:{}})(function(e){return r.a.createElement(Er.a,Object.assign({color:"default"},e))});return r.a.createElement(it.a,{container:!0,spacing:2},r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text font-weight text-left",variant:"h5"},"What type of property is this?"),r.a.createElement(en.a,{className:"service-modal-list",onChange:function(t){e.propertyCallback(t.target.value)}},r.a.createElement(gs.a,{"aria-label":"gender",name:"gender1"},r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"House"===e.data[1],value:"House",control:r.a.createElement(t,null),label:"House",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Apartment"===e.data[1],value:"Apartment",control:r.a.createElement(t,null),label:"Apartment",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Condominium"===e.data[1],value:"Condominium",control:r.a.createElement(t,null),label:"Condominium",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Townhouse"===e.data[1],value:"Townhouse",control:r.a.createElement(t,null),label:"Townhouse",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Other"===e.data[1],value:"Other",control:r.a.createElement(t,null),label:"Other",name:"radio-button-demo"})))),r.a.createElement("p",{className:"red"},e.errorMessage)))};var ks,Ps=function(e){var t=Object(B.a)({root:{color:Ue.a[400],"&$checked":{color:Ue.a[600]}},checked:{}})(function(e){return r.a.createElement(Er.a,Object.assign({color:"default"},e))});return r.a.createElement(it.a,{container:!0,spacing:2},r.a.createElement(it.a,{className:"service-modal-col",item:!0,xs:10},r.a.createElement(Q.a,{className:"city-head-text font-weight text-left",variant:"h5"},"Will you Provide the flooring for this project?"),r.a.createElement(en.a,{className:"service-modal-list"},r.a.createElement(gs.a,{"aria-label":"gender",name:"gender1",onChange:function(t){e.MaterialCallback(t.target.value)}},r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"Yes"===e.data[4],value:"Yes",control:r.a.createElement(t,null),label:"Yes",name:"radio-button-demo"})),r.a.createElement(tn.a,{className:"list-border",role:void 0,dense:!0,button:!0},r.a.createElement(ms.a,{checked:"No"===e.data[4],value:"No",control:r.a.createElement(t,null),label:"No",name:"radio-button-demo"})))),r.a.createElement("p",{className:"red"},e.errorMessage)))},Ns={dummyVar:[],BASE_URL:"https://bcbe-service.herokuapp.com",Image_URL:"https://ui-avatars.com/api",headers:{"Content-Type":"application/json",Authorization:""}},Ds=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e,t){var a=Object(n.useState)(e.userProfile.user_metadata.contractor_id),o=Object(O.a)(a,1)[0],c=Object(n.useState)(""),s=Object(O.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(!1),p=Object(O.a)(u,2),d=p[0],m=p[1],g=Object(n.useState)(""),h=Object(O.a)(g,2),f=h[0],b=h[1],v=Object(n.useState)(""),E=Object(O.a)(v,2),y=E[0],x=E[1],w=Object(n.useState)(""),C=Object(O.a)(w,2),P=C[0],N=C[1],D=Object(n.useState)(""),B=Object(O.a)(D,2),M=B[0],T=B[1],R=Object(n.useState)(""),I=Object(O.a)(R,2),F=I[0],W=I[1],z=Object(n.useState)(""),U=Object(O.a)(z,2),H=U[0],V=U[1],G=Object(n.useState)(""),q=Object(O.a)(G,2),J=q[0],Y=q[1],$=Object(n.useState)(0),K=Object(O.a)($,2),X=K[0],Z=K[1],ee=Object(n.useState)([]),te=Object(O.a)(ee,1)[0],ae=Object(cs.a)(),ne=[l,f,y,P,F,d],re=r.a.useState(!1),oe=Object(O.a)(re,2),ce=oe[0],le=oe[1],ie=r.a.useState(0),ue=Object(O.a)(ie,2),pe=ue[0],de=ue[1],me=function(){var e="/contractors/".concat(o,"/projects");if(7===pe){var t={title:"A project",description:H,budget:Number(P),endDate:new Date};t&&_.a.post("https://bcbe-service.herokuapp.com/"+e,t,{headers:Ns.headers}).then(function(e){te.push(e.data)})}de(0),le(!1)},ge=e.userProfile,he=e.match,fe=e.location;if(!ge.user_metadata.roles.includes("Gen")&&!ge.user_metadata.roles.includes("GenSub")&&!ge.user_metadata.roles.includes("SuperAdmin"))return r.a.createElement(S.a,null," Access Forbidden ");var be=0;return fe.pathname.includes("add_project")&&(be=1),fe.pathname.includes("archived")&&(be=2),r.a.createElement(S.a,{style:{flexGrow:1,backgroundColor:"white",color:"#68e191"}},r.a.createElement(A,{tabs:[{className:"icon-size",label:"New",href:"".concat(he.url,"/current_pros"),icon:k.a},{className:"icon-size",label:"Ongoing",href:"".concat(he.url,"/add_project"),icon:ts.a},{className:"icon-size",label:"Completed",href:"".concat(he.url,"/archived"),icon:ns.a}],init:be}),r.a.createElement("div",{className:"gen-contractor-add-btn",style:{display:"flex",justifyContent:"space-between",padding:"0px 30px",margin:"10px 0px"}},r.a.createElement(Xe.a,{id:"outlined-start-adornment",placeholder:"Search",className:"gensearch",InputProps:{startAdornment:r.a.createElement(Sr.a,{position:"start"},r.a.createElement(os.a,{className:"searchicon"}))},variant:"outlined"}),r.a.createElement(se.a,{onClick:function(){le(!0)},color:"default",variant:"contained"},r.a.createElement(zn.a,{className:"Addicon"}),"Add Project")),r.a.createElement(S.a,{style:{height:"calc(100vh - 64px - 56px)",paddingTop:"8px",overflow:"auto"}},r.a.createElement(j.d,null,r.a.createElement(L,{path:"".concat(he.url,"/current_pros"),component:Yc}),r.a.createElement(L,{path:"".concat(he.url,"/add_project"),component:Gc}),r.a.createElement(L,{path:"".concat(he.url,"/archived"),component:Zc}),r.a.createElement(L,{path:"".concat(he.url,"/proposal_detail/:id"),component:Qo}),r.a.createElement(L,{path:"".concat(he.url,"/project_detail/:id"),component:ao}),r.a.createElement(L,{path:"".concat(he.url,"/contractor_detail/:id"),component:Wc}),r.a.createElement(j.a,{path:"".concat(he.url),to:"".concat(he.url,"/current_pros")}))),r.a.createElement(S.a,null,r.a.createElement(ss.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:ce,onClose:me},r.a.createElement("div",{className:"service-modal"},r.a.createElement(Bc.a,{onClick:me,className:"modal-close"}),r.a.createElement(it.a,{className:"modal-page-col",item:!0,xs:10},r.a.createElement(Q.a,{variant:"subtitle2",color:"textSecondary"},0===pe?1:1===pe?2:2===pe?3:3===pe?4:4===pe?5:5===pe?6:6===pe?7:""," of 7")),r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{container:!0,spacing:2},r.a.createElement(it.a,{item:!0,lg:12,xs:12},r.a.createElement("div",null," ",0===pe?r.a.createElement(Ss,{parentCallback:function(e){i(e)},errorMessage:J}):1===pe?r.a.createElement(bs,{data:ne,serviceCallback:function(e){m(e)},errorMessage:J}):2===pe?r.a.createElement(Cs,{data:ne,propertyCallback:function(e){b(e),""!==e&&de(function(e){return e+1})},errorMessage:J}):3===pe?r.a.createElement(hs,{data:ne,areaCallback:function(e){x(e),""!==e&&de(function(e){return e+1})},errorMessage:J}):4===pe?r.a.createElement(ys,{data:ne,budjetCallbackvalue:function(e){T(e)},budjetCallback:function(e){N(e),""!==e&&de(function(e){return e+1})},errorMessage:J}):5===pe?r.a.createElement(Ps,{data:ne,MaterialCallback:function(e){W(e),""!==e&&de(function(e){return e+1})},errorMessage:J}):6===pe?r.a.createElement(Os,{charCountback:function(e){Z(e)},discCallback:function(e){V(e)},errorMessage:J}):me()))),r.a.createElement(ls.a,Object.assign({},t,{variant:"progress",steps:7,position:"static",activeStep:pe}))),r.a.createElement(it.a,{container:!0,spacing:0},r.a.createElement(it.a,{item:!0,xs:12,style:{textAlign:"center",margin:"20px 0px"}},r.a.createElement(se.a,{variant:"contained",className:"service-modal-prev",onClick:function(){de(function(e){return e-1})},disabled:0===pe},"rtl"===ae.direction?r.a.createElement(ds.a,null):r.a.createElement(us.a,null),"Prev"),r.a.createElement(se.a,{variant:"contained",className:"service-modal-next",onClick:function(){0===pe&&""===l||null===l||1===pe&&!1===d||2===pe&&""===f||3===pe&&""===y||4===pe&&""===P&&(""===M||null===M)||5===pe&&""===F||6===pe&&X<40?Y("Please fill the field"):(Y(""),de(function(e){return e+1})),(7===pe&&""===H||null===H)&&(de(function(e){return e+1}),me())}},6===pe?"Submit":"Next","rtl"===ae.direction?r.a.createElement(us.a,null):r.a.createElement(ds.a,null))))))))}),Bs=a(879),As=a(152),Ms=a.n(As),Ts=a(404),_s=a.n(Ts),Rs=a(405),Ls=a.n(Rs),Is=a(403),Fs=a.n(Is),Ws=a(399),zs=a(443),Us=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={dataLine:{labels:["January","February","March","April","May","June","July","Auguest","September","October","November","December"],datasets:[{label:"My First dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(74,20,140,0.4)",borderColor:"rgba(74,20,140,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(74,20,140,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(74,20,140,1)",pointHoverBorderColor:"rgba(24,20,100,0.5)",pointHoverBorderWidth:3,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,34,25,5,37,12,90]},{label:"My Second dataset",fill:!1,lineTension:.1,backgroundColor:"rgba(150,100,200,0.4)",borderColor:"rgba(150,100,200,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(150,100,200,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(150,100,200,1)",pointHoverBorderColor:"rgba(100,50,150,0.5)",pointHoverBorderWidth:3,pointRadius:1,pointHitRadius:10,data:[12,34,46,70,56,12,40,20,31,57,80,78]}]}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(q.a,{className:e.root},r.a.createElement(zs.a,{className:e.graph},r.a.createElement(Ws.a,{data:this.state.dataLine,options:{responsive:!0}})))}}]),t}(r.a.Component),Hs=Object(B.a)(function(e){return{root:{flexGrow:1,height:"calc(100vh - 64px - 48px - 16px)",display:"flex",justifyContent:"center",alignItems:"center"},graph:{width:"90%"}}})(Us),Vs=a(127),Gs=a(917),qs=a(445),Js=a(307),Ys=a(304),$s=a(305),Ks=a(306),Xs=a(308),Qs=a(918),Zs=a(386),el=a(444),tl=(a(757),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={currentMonth:new Date,selectedDate:new Date},a.onDateClick=function(e){a.setState({selectedDate:e})},a.nextMonth=function(){a.setState({currentMonth:Object(Vs.a)(a.state.currentMonth,1)})},a.prevMonth=function(){a.setState({currentMonth:Object(Gs.a)(a.state.currentMonth,1)})},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"renderHeader",value:function(){return r.a.createElement("div",{className:"header row flex-middle"},r.a.createElement("div",{className:"col col-start"},r.a.createElement("div",{className:"icon",onClick:this.prevMonth},"chevron_left")),r.a.createElement("div",{className:"col col-center"},r.a.createElement("span",null,Object(qs.a)(this.state.currentMonth,"MMMM yyyy"))),r.a.createElement("div",{className:"col col-end",onClick:this.nextMonth},r.a.createElement("div",{className:"icon"},"chevron_right")))}},{key:"renderDays",value:function(){for(var e=[],t=Object(Js.a)(this.state.currentMonth),a=0;a<7;a++)e.push(r.a.createElement("div",{className:"col col-center",key:a},Object(qs.a)(Object(Ys.a)(t,a),"dddd")));return r.a.createElement("div",{className:"days row"},e)}},{key:"renderCells",value:function(){for(var e=this,t=this.state,a=t.currentMonth,n=t.selectedDate,o=Object($s.a)(a),c=Object(Ks.a)(o),s=Object(Js.a)(o),l=Object(Xs.a)(c),i=[],u=[],p=s,d="";p<=l;){for(var m=function(t){d=Object(qs.a)(p,"d");var a=p;u.push(r.a.createElement("div",{className:"col cell ".concat(Object(Qs.a)(p,o)?Object(Zs.a)(p,n)?"selected":"":"disabled"),key:p,onClick:function(){return e.onDateClick(Object(el.a)(a))}},r.a.createElement("span",{className:"number"},d),r.a.createElement("span",{className:"bg"},d))),p=Object(Ys.a)(p,1)},g=0;g<7;g++)m();i.push(r.a.createElement("div",{className:"row",key:p},u)),u=[]}return r.a.createElement("div",{className:"body"},i)}},{key:"render",value:function(){return r.a.createElement("div",{className:"calendar"},this.renderHeader(),this.renderDays(),this.renderCells())}}]),t}(r.a.Component)),al=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(tl,null)}}]),t}(r.a.Component),nl=Object(z.a)(function(e){return{root:{position:"relative",marginTop:e.spacing(1),minHeight:"calc(100vh - 64px - 56px - 16px - 48px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),rl=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.userProfile,o=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+r.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=AWARDED")).then(function(e){console.log(e),a.setState({inviteData:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(e){var t=a.state,n=t.currentPage,r=n*t.rowsPerPage,o=e.target.value,c=Math.floor(r/o),s=a.props.userProfile;try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+s.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=AWARDED")).then(function(e){a.setState({inviteData:e.data.content,isBusy:!1,currentPage:c,rowsPerPage:o})})}catch(l){console.log(l)}},a.handleDeleteProject=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.projects,o=n.userProfile,a.setState({isBusy:!0,alertConfirm:!1}),e.prev=2,e.next=5,a.props.deleteProject(a.state.proId);case 5:return c=a.state.currentPage,a.state.rowsPerPage*c>=r.totalElements-1&&c--,e.next=10,a.props.getInvitedProjects(o.user_metadata.contractor_id,c,a.state.rowsPerPage);case 10:a.setState({isBusy:!1,showMessage:!0,message:"Delete project success",variant:"success",currentPage:c}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("InvitedProView.handleDeleteProject: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Delete project failed",variant:"error"});case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteProject=function(e){a.setState({alertConfirm:!0,proId:e})},a.handleSelectProject=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/s_cont/proposal_detail/"+t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.StartDateToggleSort=function(){var e="desc";"desc"===a.state.startDateOrder&&(e="asc"),a.state.inviteData.sort(function(e,t){return e.project.startDate>t.project.startDate?1:-1}),a.setState({startDateOrder:e})},a.EndDateToggleSort=function(){var e="desc";"desc"===a.state.endDateOrder&&(e="asc"),a.state.inviteData.sort(function(e,t){return e.project.endDate>t.project.endDate?1:-1}),a.setState({endDateOrder:e})},a.state={rowsPerPage:20,inviteData:[],currentPage:0,isBusy:!1,showMessage:!1,startDateOrder:"desc",endDateOrder:"desc",totalLength:0,message:"",variant:"success",alertConfirm:!1,proId:"",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userProfile;_.a.get("https://bcbe-service.herokuapp.com/contractors/"+t.user_metadata.contractor_id+"/proposals"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage,"&status=AWARDED")).then(function(t){e.setState({inviteData:t.data.content}),e.setState({totalLength:t.data.totalElements})}),this.props.getInvitedProjects(t.user_metadata.contractor_id,0,0)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.showMessage,o=a.variant,c=a.message;return 0===this.state.inviteData.length?r.a.createElement(U.a,{className:t.busy}):r.a.createElement(S.a,{className:t.root},r.a.createElement(J.a,{className:"sub-table-margin"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"Owner"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Price"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.startDateOrder,onClick:this.StartDateToggleSort},"Start Date ")," "),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.endDateOrder,onClick:this.EndDateToggleSort},"End Date")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.inviteData.map(function(a){return r.a.createElement(X.a,{className:t.row,key:a.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.handleSelectProject(a.id)}},r.a.createElement(zc,{maxLines:2},a.project.title)),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(a.id)}},a.subContractor.address.name),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(a.id)}},a.project.city),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(a.id)}},r.a.createElement(zc,{maxLines:2},a.budget)),r.a.createElement(Ae,{align:"center",onClick:function(){return e.handleSelectProject(a.id)}},a.project.startDate&&a.project.startDate.slice(0,10),r.a.createElement("div",{className:"time"},a.project.startDate&&a.project.startDate.slice(10,19),"\xa0",a.project.startDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.handleSelectProject(a.id)}},r.a.createElement(zc,{maxLines:2},a.project.endDate&&a.project.endDate.slice(0,10),r.a.createElement("div",{className:"time"},a.project.endDate&&a.project.endDate.slice(10,19),"\xa0",a.project.endDate.slice(10,13)<=11?"AM":"PM"))),r.a.createElement(Ae,{onClick:function(){return e.handleSelectProject(a.id)},component:"th",scope:"row"},r.a.createElement(zc,{maxLines:2},a.project.description)))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:n,variant:o,message:c,handleClose:this.state.handleClose}),r.a.createElement(Sn.a,{open:this.state.alertConfirm,onClose:function(){return e.setState({alertConfirm:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},"Delete Project?"),r.a.createElement(kn.a,null,r.a.createElement(Pn.a,{id:"alert-dialog-description"},"Do you want to delete this project?")),r.a.createElement(Cn.a,null,r.a.createElement(De,{onClick:function(){return e.setState({alertConfirm:!1})}},"No"),r.a.createElement(De,{onClick:function(){return e.handleDeleteProject(e.state.proId)},color:"primary",autoFocus:!0},"Yes"))))}}]),t}(r.a.Component),ol={getInvitedProjects:function(e,t,a){return function(n){return bt.getInvitedProjects(e,t,a).then(function(e){n(Ra(e))})}},deleteProject:da},cl=Object(I.d)(Object(B.a)(nl),Object(s.b)(function(e){return{projects:e.sub_data.projects,userProfile:e.global_data.userProfile}},ol))(rl),sl=Object(z.a)(function(e){return{root:{position:"relative",marginTop:e.spacing(1),minHeight:"calc(100vh - 64px - 56px - 16px - 48px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},btnSubmitProposal:{marginBottom:5,backgroundColor:e.palette.primary.light,color:"#FFF",borderRadius:0},titleBtn:{color:"#4a148c",padding:"6px"},button:{padding:"6px"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),ll=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.userProfile,o=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+r.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=SUBMITTED")).then(function(e){console.log(e),a.setState({submitData:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(e){var t=a.state,n=t.currentPage,r=n*t.rowsPerPage,o=e.target.value,c=Math.floor(r/o),s=a.props.userProfile;try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+s.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=SUBMITTED")).then(function(e){a.setState({submitData:e.data.content,isBusy:!1,currentPage:c,rowsPerPage:o})})}catch(l){console.log(l)}},a.handleDeleteProposal=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isBusy:!0}),n=a.props,r=n.userProfile,o=n.proposals,e.prev=2,e.next=5,a.props.deleteProposal(t);case 5:if(!(a.state.rowsPerPage*a.state.currentPage<o.totalElements-1)){e.next=11;break}return e.next=8,a.props.getProposals(r.user_metadata.contractor_id,a.state.currentPage,a.state.rowsPerPage,"SUBMITTED");case 8:a.setState({isBusy:!1,showMessage:!0,message:"delete proposal success",variant:"success"}),e.next=15;break;case 11:return c=a.state.currentPage-1,e.next=14,a.props.getProposals(r.user_metadata.contractor_id,c,a.state.rowsPerPage,"SUBMITTED");case 14:a.setState({isBusy:!1,showMessage:!0,message:"delete proposal success",variant:"success",currentPage:c});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0),a.setState({isBusy:!1,showMessage:!0,message:"delete proposal failed",variant:"error"});case 21:case"end":return e.stop()}},e,null,[[2,17]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSelectProposal=function(e){a.props.history.push("/s_cont/proposal_detail/".concat(e))},a.StartDateToggleSort=function(){var e="desc";"desc"===a.state.startDateOrder&&(e="asc"),a.state.submitData.sort(function(e,t){return e.project.startDate>t.project.startDate?1:-1}),a.setState({startDateOrder:e})},a.EndDateToggleSort=function(){var e="desc";"desc"===a.state.endDateOrder&&(e="asc"),a.state.submitData.sort(function(e,t){return e.project.endDate>t.project.endDate?1:-1}),a.setState({endDateOrder:e})},a.state={submitData:[],rowsPerPage:20,currentPage:0,totalLength:0,isBusy:!1,showMessage:!1,startDateOrder:"desc",endDateOrder:"desc",message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userProfile;_.a.get("https://bcbe-service.herokuapp.com/contractors/"+t.user_metadata.contractor_id+"/proposals"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage,"&status=SUBMITTED")).then(function(t){e.setState({submitData:t.data.content}),e.setState({totalLength:t.data.totalElements})}),this.props.getProposals(t.user_metadata.contractor_id,0,0,"SUBMITTED")}},{key:"render",value:function(){var e=this,t=this.props.classes;return 0===this.state.submitData.length?r.a.createElement(U.a,{className:t.busy}):r.a.createElement(S.a,{className:t.root},r.a.createElement(J.a,{className:t.table},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"Bids"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Price"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown ",active:!0,direction:this.state.startDateOrder,onClick:this.StartDateToggleSort},"Upload Date  ")),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.endDateOrder,onClick:this.EndDateToggleSort},"Bids Due  ")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.submitData.map(function(a){return r.a.createElement(X.a,{className:t.row,key:a.id,hover:!0,onClick:function(){return e.handleSelectProposal(a.id)}},r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},r.a.createElement(zc,{maxLines:2},a.project.title)),r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},a.project.budget),r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},a.project.city),r.a.createElement(Ae,{component:"th",scope:"row",align:"center"},"$",a.budget),r.a.createElement(Ae,{align:"center"},a.project.startDate&&a.project.startDate.slice(0,10),r.a.createElement("div",{className:"time"},a.project.startDate&&a.project.startDate.slice(10,19),"\xa0",a.project.startDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{align:"center"},r.a.createElement(zc,{maxLines:2},On()(a.project.endDate&&a.project.endDate.slice(0,10)),r.a.createElement("div",{className:"time"},a.project.endDate&&a.project.endDate.slice(10,19),"\xa0",a.project.endDate.slice(10,13)<=11?"AM":"PM"))),r.a.createElement(Ae,{align:"center"},a.project.description))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:t.busy}))}}]),t}(r.a.Component),il={getProposals:Ia,deleteProposal:La},ul=Object(I.d)(Object(B.a)(sl),Object(s.b)(function(e){return{proposals:e.sub_data.proposals,userProfile:e.global_data.userProfile}},il))(ll),pl=Object(z.a)(function(e){return{root:{position:"relative",marginTop:e.spacing(1),minHeight:"calc(100vh - 64px - 56px - 16px - 48px)"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},btnSubmitProposal:{marginBottom:5,backgroundColor:e.palette.primary.light,color:"#FFF",borderRadius:0},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}}}),dl=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.userProfile,o=a.state.rowsPerPage;try{n>=a.state.totalLength&&(n=a.state.totalLength-1),_.a.get("https://bcbe-service.herokuapp.com/contractors/"+r.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=INACTIVE")).then(function(e){console.log(e),a.setState({awardData:e.data.content,isBusy:!1,currentPage:n})}),a.setState({isBusy:!1})}catch(t){console.log("CurrentProjectView.handleChangePage",t)}a.setState({isBusy:!1});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(e){var t=a.state,n=t.currentPage,r=n*t.rowsPerPage,o=e.target.value,c=Math.floor(r/o),s=a.props.userProfile;try{_.a.get("https://bcbe-service.herokuapp.com/contractors/"+s.user_metadata.contractor_id+"/proposals"+"?page=".concat(n,"&size=").concat(o,"&status=INACTIVE")).then(function(e){a.setState({awardData:e.data.content,isBusy:!1,currentPage:c,rowsPerPage:o})})}catch(l){console.log(l)}},a.handleDeleteProposal=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.proposals,a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.deleteProposal(t);case 5:return c=a.state.currentPage,a.state.rowsPerPage*a.state.currentPage>=o.totalElements-1&&c--,e.next=9,a.props.getProposals(r.user_metadata.contractor_id,c,a.state.rowsPerPage,"AWARDED");case 9:a.setState({isBusy:!1,showMessage:!0,message:"Delete proposal success",variant:"success",currentPage:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("WonProView.handleDeleteProposal: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Delete proposal failed",variant:"error"});case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSelectProposal=function(e){a.props.history.push("/s_cont/proposal_detail/".concat(e))},a.StartDateToggleSort=function(){var e="desc";"desc"===a.state.startDateOrder&&(e="asc"),a.state.awardData.sort(function(e,t){return e.project.startDate>t.project.startDate?1:-1}),a.setState({startDateOrder:e})},a.EndDateToggleSort=function(){var e="desc";"desc"===a.state.endDateOrder&&(e="asc"),a.state.awardData.sort(function(e,t){return e.project.endDate>t.project.endDate?1:-1}),a.setState({endDateOrder:e})},a.state={awardData:[],rowsPerPage:20,currentPage:0,totalLength:0,isBusy:!1,showMessage:!1,startDateOrder:"desc",endDateOrder:"desc",message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userProfile;_.a.get("https://bcbe-service.herokuapp.com/contractors/"+t.user_metadata.contractor_id+"/proposals"+"?page=".concat(this.state.currentPage,"&size=").concat(this.state.rowsPerPage,"&status=INACTIVE")).then(function(t){e.setState({awardData:t.data.content})}),this.props.getProposals(t.user_metadata.contractor_id,0,0,"AWARDED")}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.showMessage,n=t.variant,o=t.message;return 0===this.state.awardData.length?r.a.createElement("div",{className:"nodata"},"No Data Available!"):(console.log("awa",this.state.awardData),r.a.createElement(S.a,{className:e.root},r.a.createElement(J.a,{className:"sub-table-margin"},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{className:"sub-table-col-1"}," Project Title "),r.a.createElement(Ae,{align:"center"},"owner"),r.a.createElement(Ae,{align:"center"},"Location"),r.a.createElement(Ae,{align:"center"},"Price"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.startDateOrder,onClick:this.StartDateToggleSort},"Start Date ")," "),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{style:{fontSize:"15px",cursor:"pointer"},className:"Arrowdown",active:!0,direction:this.state.endDateOrder,onClick:this.EndDateToggleSort},"End Date")),r.a.createElement(Ae,{align:"center",className:"sub-table-col-width"},"Project Details"))),r.a.createElement(Y.a,null,this.state.awardData.map(function(t){return r.a.createElement(X.a,{className:e.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row"},r.a.createElement(zc,{maxLines:2},t.project.title)),r.a.createElement(Ae,{align:"center"},t.subContractor.address.name),r.a.createElement(Ae,{align:"center"},t.project.city),r.a.createElement(Ae,{align:"center"},r.a.createElement(zc,{maxLines:2},"$",t.budget)),r.a.createElement(Ae,{align:"center"},t.project.startDate&&t.project.startDate.slice(0,10),r.a.createElement("div",{className:"time"},t.project.startDate&&t.project.startDate.slice(10,19),"\xa0",t.project.startDate.slice(10,13)<=11?"AM":"PM")),r.a.createElement(Ae,{component:"th",scope:"row"},r.a.createElement(zc,{maxLines:2},t.project.endDate&&t.project.endDate.slice(0,10),r.a.createElement("div",{className:"time"},t.project.endDate&&t.project.endDate.slice(10,19),"\xa0",t.project.endDate.slice(10,13)<=11?"AM":"PM"))),r.a.createElement(Ae,{component:"th",scope:"row"},r.a.createElement(zc,{maxLines:2},t.project.description)))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:this.state.totalLength,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:a,variant:n,message:o,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:e.busy})))}}]),t}(r.a.Component),ml={getProposals:Ia,deleteProposal:La},gl=Object(I.d)(Object(B.a)(pl),Object(s.b)(function(e){return{proposals:e.sub_data.proposals,userProfile:e.global_data.userProfile}},ml))(dl),hl=Object(z.a)(function(e){return{root:{flexGrow:1}}}),fl=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.match,a=e.location,n=["".concat(t.url,"/submitted"),"".concat(t.url,"/invited"),"".concat(t.url,"/awarded")],o=n.indexOf(a.pathname);return o<0&&(o=0),r.a.createElement(S.a,{className:"/s_cont/pipeline/awarded"===n[2]?"Shubh":"Labh"},r.a.createElement("div",{className:"sub-header-tab",style:{justifyContent:"space-between",display:"flex",padding:"0px 30px",margin:"10px 0px"}},r.a.createElement(A,{init:o,tabs:[{href:n[0],label:"Submited"},{href:n[1],label:"Awarded"},{href:n[2],label:"Completed"}]}),r.a.createElement(Xe.a,{id:"outlined-start-adornment",placeholder:"Search",className:"gensearch",InputProps:{startAdornment:r.a.createElement(Sr.a,{position:"start"},r.a.createElement(os.a,{className:"searchicon"}))},variant:"outlined"})),r.a.createElement(j.d,null,r.a.createElement(L,{path:n[0],component:ul}),r.a.createElement(L,{path:n[1],component:cl}),r.a.createElement(L,{path:n[2],component:gl}),r.a.createElement(j.a,{path:"".concat(t.url),to:n[0]})))}}]),t}(r.a.Component),bl=Object(B.a)(hl)(fl),vl=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"))),r.a.createElement(Y.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A"),r.a.createElement(Ae,{align:"center"},"A")))))}}]),t}(r.a.Component),El=Object(B.a)(function(e){return{root:{marginTop:e.spacing(1)}}})(vl),yl=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Settings")}}]),t}(r.a.Component),xl=Object(Qe.a)(function(e){return{root:{flexGrow:1},buttonAdditional:{position:"absolute",float:"right",right:"0"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},mainWrapper:{marginTop:e.spacing(1)}}}),jl=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e){var t=e.match,a=e.userProfile,n=e.location,o=xl({});if(!a.user_metadata.roles.includes("Sub")&&!a.user_metadata.roles.includes("GenSub")&&!a.user_metadata.roles.includes("SuperAdmin"))return r.a.createElement(S.a,null," Access Forbidden ");var c=[{href:"".concat(t.url,"/pipeline"),label:"Projects",icon:Fs.a},{href:"".concat(t.url,"/calendar"),label:"Calendar",icon:ts.a},{href:"".concat(t.url,"/analytics"),label:"Analytics",icon:_s.a},{href:"".concat(t.url,"/reports"),label:"Reports",icon:Ls.a},{href:"".concat(t.url,"/settings"),label:"Setting",icon:Ms.a}],s=c.map(function(e){return e.href}).indexOf(n.pathname);return s<0&&(s=0),r.a.createElement(Bs.a,null,r.a.createElement(S.a,{className:o.root},r.a.createElement(A,{tabs:c,init:s}),r.a.createElement("main",{className:o.mainWrapper},r.a.createElement(j.d,null,r.a.createElement(L,{path:"".concat(t.url,"/pipeline"),component:bl}),r.a.createElement(L,{path:"".concat(t.url,"/calendar"),component:al}),r.a.createElement(L,{path:"".concat(t.url,"/analytics"),component:Hs}),r.a.createElement(L,{path:"".concat(t.url,"/reports"),component:El}),r.a.createElement(L,{path:"".concat(t.url,"/settings"),component:yl}),r.a.createElement(L,{path:"".concat(t.url,"/proposal_detail/:id"),component:Qo}),r.a.createElement(L,{path:"".concat(t.url,"/project_detail/:id"),component:ao}),r.a.createElement(L,{path:"".concat(t.url,"/contractor_detail/:id"),component:Wc}),r.a.createElement(j.a,{path:"/s_cont",to:"".concat(t.url,"/pipeline")})))))}),wl=Object(z.a)(function(e){return{root:{flexGrow:1},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},cursor:"pointer"},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(1,2)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},btnSearchWrapper:{textAlign:"end",alignSelf:"center"}}}),Ol=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectRef=void 0,a.handleChangePage=function(e,t){a.setState({currentPage1:t}),a.props.getContractors(t,a.state.rowsPerPage1)},a.handleChangeRowsPerPage=function(e){var t=a.props.contractors,n=e.target.value,r=n>=t.totalElements?0:a.state.currentPage;a.setState({rowsPerPage:n,currentPage:r}),a.props.getContractors(r,n)},a.handleSearch=function(e,t,n){n&&n.length>0?a.props.searchContractors(e,t,n):a.props.getContractors(0,20)},a.rowSelected=function(e){a.props.history.push("/b_list/contractor_detail/"+e)},a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",order:"desc",rowsPerPage1:null,currentPage1:null,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a.selectRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getContractors(0,20);case 2:this.props.getSpecialties();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=t.userProfile,c=t.contractors,s=n?n.content.map(function(e){return{id:e.id,name:e.name}}):[];return c?o.user_metadata.roles.includes("Gen")||o.user_metadata.roles.includes("GenSub")||o.user_metadata.roles.includes("SuperAdmin")?r.a.createElement(S.a,{className:a.root},r.a.createElement(dt,{search:this.handleSearch,suggestions:s||[]}),r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Logo "),r.a.createElement(Ae,{align:"center"},"Name"),r.a.createElement(Ae,{align:"center"},"Email"),r.a.createElement(Ae,{align:"center"},"Rating"),r.a.createElement(Ae,{align:"center"},"Other"))),r.a.createElement(Y.a,null,c.content&&c.content.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0,onClick:function(){return e.rowSelected(t.id)}},r.a.createElement(Ae,{component:"th",scope:"row"}),r.a.createElement(Ae,{align:"center"},t.address?t.address.name:"N/A"),r.a.createElement(Ae,{align:"center"},t.email?t.email:"N/A"),r.a.createElement(Ae,{align:"center"}),r.a.createElement(Ae,{align:"center"}))}))),c.content&&r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:c.content.length,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose})):r.a.createElement(S.a,null," Access Forbidden "):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),Sl={getContractors:Mt,selectContractor:Bt,getSpecialties:Lt,searchContractors:It},Cl=Object(I.d)(Object(B.a)(wl),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractors:e.cont_data.contractors,specialties:e.cont_data.specialties}},Sl))(Ol),kl=Object(Qe.a)(function(e){return{root:{flexGrow:1}}}),Pl=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e){var t=kl({}),a=e.userProfile,n=e.match;return a.user_metadata.roles.includes("Gen")||a.user_metadata.roles.includes("GenSub")||a.user_metadata.roles.includes("SuperAdmin")?r.a.createElement(S.a,{className:t.root},r.a.createElement(j.d,null,r.a.createElement(L,{path:"".concat(n.url,"/search_bidder"),component:Cl}),r.a.createElement(L,{path:"".concat(n.url,"/contractor_detail/:id"),component:Wc}),r.a.createElement(j.a,{path:"*",to:"".concat(n.url,"/search_bidder")}))):r.a.createElement(S.a,null," Access Forbidden ")}),Nl=a(115),Dl=a.n(Nl),Bl=a(233),Al=a.n(Bl),Ml=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleChangePage=function(e,t){a.setState({currentPage:t})},a.handleChangeRowsPerPage=function(e){var t=e.target.value,n=a.state.currentPage*a.state.rowsPerPage/t;a.setState({rowsPerPage:t,currentPage:n})},a.createRoot=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,r=t.value,o=t.type,c=t.description,s=a.props,l=s.addRoot,i=s.loadRoots,a.setState({isBusy:!0,showDialog:!1}),e.prev=3,e.next=6,l(n,o,r,c);case 6:return e.next=8,i();case 8:a.setState({showMessage:!0,message:"Create Template success",variant:"success",isBusy:!1,name:"",description:""}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("AllTemplatesView.createRoot: ",e.t0),a.setState({showMessage:!0,message:"Create Template failed",variant:"error",isBusy:!1});case 15:case"end":return e.stop()}},e,null,[[3,11]])})),a.deleteRoot=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l,i,u,p;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.loadRoots,o=n.deleteNode,c=n.roots,s=a.state,l=s.rowsPerPage,i=s.currentPage,u=c.length,a.setState({isBusy:!0}),e.prev=4,e.next=7,o(t);case 7:return e.next=9,r();case 9:p=i,l*i>=u-1&&p--,a.setState({isBusy:!1,showMessage:!0,variant:"success",message:"Delete Template success",currentPage:p}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("AllTemplatesView.deleteRoot: ",e.t0),a.setState({isBusy:!1,showMessage:!0,variant:"error",message:"Please delete child nodes"});case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}(),a.selectTemplate=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.push("/m_temp/template_detail/".concat(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={rowsPerPage:20,currentPage:0,isBusy:!1,showDialog:!1,name:"",description:"",value:"",type:"",showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.loadRoots()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.roots,o=this.state,c=o.type,s=o.name,l=o.value,i=o.description;return n?r.a.createElement(W.a,{className:a.root},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null,"Name"),r.a.createElement(Ae,null,"Type"),r.a.createElement(Ae,null,"Value"),r.a.createElement(Ae,{align:"center"},"Description"),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{style:{color:"#4a148c"},onClick:function(){return e.setState({showDialog:!0,name:"",type:"",value:"",description:""})}},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,n.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.selectTemplate(t.id)}},t.name),r.a.createElement(Ae,{align:"center",onClick:function(){return e.selectTemplate(t.id)}},t.type),r.a.createElement(Ae,{align:"center",onClick:function(){return e.selectTemplate(t.id)}},t.value),r.a.createElement(Ae,{align:"center",onClick:function(){return e.selectTemplate(t.id)}},On()(t.description)),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.deleteRoot(t.id)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:n?n.length:0,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Sn.a,{open:this.state.showDialog,onClose:function(){return e.setState({showDialog:!1})},"aria-labelledby":"create-template"},r.a.createElement(Nn.a,{id:"create-template"},"Create template"),r.a.createElement(kn.a,null,r.a.createElement(Pn.a,null,"Please input the template information"),r.a.createElement(Xe.a,{autoFocus:!0,margin:"normal",label:"Name",fullWidth:!0,required:!0,value:s,onChange:function(t){return e.setState({name:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{margin:"normal",label:"Type",fullWidth:!0,value:c,onChange:function(t){return e.setState({type:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{margin:"normal",label:"Value",fullWidth:!0,value:l,onChange:function(t){return e.setState({value:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(pn.a,{value:i,onChange:function(t){return e.setState({description:t})},options:{placeholder:"Description here"}})),r.a.createElement(Cn.a,null,r.a.createElement(De,{disabled:this.state.isBusy,onClick:function(){return e.setState({showDialog:!1})},className:a.marginRight},"Cancel"),r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.createRoot,color:"primary"},"Add"))),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(n.Component),Tl=Object(I.d)(j.g,Object(B.a)(function(e){return Object(z.a)({root:{position:"relative"},marginRight:{marginRight:"5px"},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},busy:{position:"fixed",left:"calc(50vw - 20px)",top:"calc(50vh - 20px)"}})}),Object(s.b)(function(e){return{roots:e.tem_data.roots,userProfile:e.global_data.userProfile}},function(e){return{selectTemplate:function(t){return e(function(e){return function(t){return t(sr()),Gn.getById(e).then(function(e){t(cr(e))})}}(t))},loadRoots:function(){return e(dr())},addRoot:function(t,a,n,r){return e(function(e,t,a,n){return function(r){return Gn.createRoot(e,t,a,n)}}(t,a,n,r))},deleteNode:function(t){return e(gr(t))}}}))(Ml),_l=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.handleCancel=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.history,r=t.nodeTree,o=t.clearTree,c=t.selectTree,s=t.selectNode,r&&!(r.length<2)){e.next=6;break}o(),n.replace("/m_temp/all_templates"),e.next=20;break;case 6:return a.setState({isBusy:!0}),e.prev=7,e.next=10,s(r[r.length-2].id);case 10:l=e.sent,c(r[r.length-2].id),a.setState({name:l.name,type:l.type?l.type:"",value:l.value?l.value:"",description:l.description?l.description:"",isBusy:!1}),n.replace("/m_temp/template_detail/".concat(r[r.length-2].id)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),console.log("TemplateDetailView.handleCancel: ",e.t0),a.setState({isBusy:!1});case 20:case"end":return e.stop()}},e,null,[[7,16]])})),a.handleSave=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.currentNode,r=t.updateNode,o=a.state,c=o.name,s=o.type,l=o.value,i=o.description,n){e.next=4;break}return e.abrupt("return");case 4:return a.setState({isBusy:!0}),e.prev=5,e.next=8,r(n.id,c,s,l,i);case 8:a.setState({isBusy:!1,showMessage:!0,message:"Save content success",variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("TemplateDetailView.handleSave: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Save content failed",variant:"error"});case 15:case"end":return e.stop()}},e,null,[[5,11]])})),a.handleDelete=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentNode,r=t.deleteNode,o=t.nodeTree,c=t.selectTree,s=t.history,l=t.clearTree,i=t.selectNode,a.setState({isBusy:!0}),e.prev=2,e.next=5,r(n.id);case 5:if(o&&!(o.length<2)){e.next=10;break}l(),s.replace("/m_temp/all_templates"),e.next=16;break;case 10:return e.next=12,i(o[o.length-2].id);case 12:u=e.sent,c(o[o.length-2].id),s.replace("/m_temp/template_detail/".concat(o[o.length-2].id)),a.setState({name:u.name,type:u.type?u.type:"",value:u.value?u.value:"",description:u.description?u.description:"",isBusy:!1});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),a.setState({showMessage:!0,message:"Please delete child categories first",variant:"error",isBusy:!1});case 21:case"end":return e.stop()}},e,null,[[2,18]])})),a.gotoChild=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.selectNode,o=n.appendTree,a.setState({isBusy:!0}),e.prev=2,e.next=5,r(t);case 5:c=e.sent,o(c.name,c.id),a.props.history.push("/m_temp/template_detail/".concat(t)),a.setState({name:c.name,type:c.type?c.type:"",value:c.value?c.value:"",description:c.description?c.description:"",isBusy:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("TemplateDetailView.gotoChild: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteChild=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.currentNode,o=n.selectNode,c=n.deleteNode,a.setState({isBusy:!0}),e.prev=2,e.next=5,c(t);case 5:return e.next=7,o(r.id);case 7:a.setState({showMessage:!0,message:"Delete child success",variant:"success",isBusy:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({showMessage:!0,message:"Please delete childs first",variant:"error",isBusy:!1});case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.addChild=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l,i,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentNode,r=t.addNode,o=t.selectNode,c=a.state,s=c.cname,l=c.ctype,i=c.cvalue,u=c.cdescription,a.setState({isBusy:!0}),e.prev=3,e.next=6,r(n.id,s,l,i,u);case 6:return e.next=8,o(n.id);case 8:a.setState({showMessage:!0,message:"Add Category success",variant:"success",showDialog:!1,isBusy:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("TemplateDetailView.addChild: ",e.t0),a.setState({showMessage:!0,message:"Add Category failed",variant:"error",showDialog:!1,isBusy:!1});case 15:case"end":return e.stop()}},e,null,[[3,11]])})),a.clickCrumb=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.selectTree,o=n.selectNode,a.setState({isBusy:!0}),e.prev=2,e.next=5,r(t);case 5:return e.next=7,o(t);case 7:c=e.sent,a.setState({name:c.name,type:c.type?c.type:"",value:c.value?c.value:"",description:c.description?c.description:"",isBusy:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("TemplateDetailView.clickCrumb: ",e.t0),a.setState({isBusy:!1});case 15:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",type:"",value:"",description:"",cname:"",ctype:"",cvalue:"",cdescription:"",showDialog:!1,isBusy:!1,showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,n=t.selectNode,r=t.appendTree,e.prev=1,e.next=4,n(a.params.id);case 4:o=e.sent,r(o.name,o.id),this.setState({name:o.name,type:o.type?o.type:"",value:o.value?o.value:"",description:o.description?o.description:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("TemplateDetailView.CDM: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.currentNode,o=t.nodeTree,c=this.state,s=c.name,l=c.type,i=c.value,u=c.description;return n?r.a.createElement(S.a,{className:a.root},r.a.createElement(Ao.a,{split:"vertical",minSize:50,defaultSize:400,style:{position:"relative"}},r.a.createElement(W.a,{className:a.descTag},o&&r.a.createElement(Vr.a,null,o.map(function(t){return r.a.createElement(Gr.a,{key:t.id,onClick:function(){return e.clickCrumb(t.id)},style:{cursor:"pointer"}},t.name)})),r.a.createElement(Xe.a,{label:"Name",margin:"normal",value:s,fullWidth:!0,onChange:function(t){return e.setState({name:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{label:"Type",margin:"normal",value:l,fullWidth:!0,onChange:function(t){return e.setState({type:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{label:"Value",margin:"normal",value:i,fullWidth:!0,onChange:function(t){return e.setState({value:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(pn.a,{value:u,onChange:function(t){return e.setState({description:t})},options:{placeholder:"Description here"}}),r.a.createElement(S.a,null,r.a.createElement(De,{disabled:this.state.isBusy,className:a.marginRight,onClick:this.handleCancel},"Cancel"),r.a.createElement(De,{disabled:this.state.isBusy,className:a.marginRight,onClick:this.handleSave,color:"success"},"Save"),r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.handleDelete,color:"danger"},"Delete"))),r.a.createElement(W.a,{className:a.cateList},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null,"Category Name"),r.a.createElement(Ae,{align:"center"},"Type"),r.a.createElement(Ae,{align:"center"},"Value"),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{style:{color:"#fff"},onClick:function(){return e.setState({showDialog:!0,cname:"",ctype:"",cvalue:"",cdescription:""})}},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,n&&n.children&&n.children.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.gotoChild(t.id)}},t.name),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoChild(t.id)}},t.type),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoChild(t.id)}},t.value),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.deleteChild(t.id)}},r.a.createElement(Da.a,null))))}))))),r.a.createElement(Sn.a,{open:this.state.showDialog,onClose:function(){return e.setState({showDialog:!1})},"aria-labelledby":"form-dialog-title"},r.a.createElement(Nn.a,{id:"form-dialog-title"},"Create category"),r.a.createElement(kn.a,null,r.a.createElement(Pn.a,null,"please input the correct category information"),r.a.createElement(Xe.a,{autoFocus:!0,margin:"dense",label:"name",type:"email",fullWidth:!0,value:this.state.cname,onChange:function(t){return e.setState({cname:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{margin:"dense",label:"type",type:"text",fullWidth:!0,value:this.state.ctype,onChange:function(t){return e.setState({ctype:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{margin:"dense",label:"value",type:"text",fullWidth:!0,value:this.state.cvalue,onChange:function(t){return e.setState({cvalue:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(pn.a,{value:this.state.cdescription,onChange:function(t){return e.setState({cdescription:t})},options:{placeholder:"Description here"}})),r.a.createElement(Cn.a,null,r.a.createElement(De,{disabled:this.state.isBusy,onClick:function(){return e.setState({showDialog:!1})}},"Cancel"),r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.addChild,color:"primary"},"Add"))),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(S.a,null,"Node not selected")}}]),t}(n.Component),Rl=Object(I.d)(Object(B.a)(function(e){var t,a;return Object(z.a)({root:{position:"relative"},descTag:(t={padding:e.spacing(1),color:e.palette.text.secondary,whiteSpace:"nowrap",margin:e.spacing(1),borderBottom:"5px solid "+e.palette.primary.light,height:"calc((100vh - 64px - 48px - 16px) / 2)"},Object(G.a)(t,e.breakpoints.up("md"),{height:"calc(100vh - 64px - 48px - 16px)"}),Object(G.a)(t,"display","flex"),Object(G.a)(t,"flexDirection","column"),Object(G.a)(t,"overflow","scroll"),t),marginRight:{marginRight:"5px"},cateList:(a={textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",margin:e.spacing(1),borderBottom:"5px solid "+e.palette.primary.light,height:"calc((100vh - 64px - 48px - 16px) / 2)"},Object(G.a)(a,e.breakpoints.up("md"),{height:"calc(100vh - 64px - 48px - 16px)"}),Object(G.a)(a,"display","flex"),Object(G.a)(a,"flexDirection","column"),Object(G.a)(a,"overflow","scroll"),a),waitingSpin:{position:"relative",left:"calc(50vw - 10px)",top:"calc(50vh - 10px)"},successAlert:{margin:e.spacing(1)},editField:{lineHeight:"1.5rem"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"}})}),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,nodeTree:e.tem_data.nodeTree,currentNode:e.tem_data.currentNode}},function(e){return{selectNode:function(t){return e(mr(t))},addNode:function(t,a,n,r,o){return e(function(e,t,a,n,r){return function(o){return Gn.createNode(e,t,a,n,r)}}(t,a,n,r,o))},updateNode:function(t,a,n,r,o){return e(function(e,t,a,n,r){return function(o){return Gn.updateNode(e,t,a,n,r)}}(t,a,n,r,o))},deleteNode:function(t){return e(gr(t))},selectTree:function(t){return e(ur(t))},appendTree:function(t,a){return e(ir(t,a))},clearTree:function(){return e(pr())}}}))(_l),Ll=Object(Qe.a)(function(e){return{root:{flexGrow:1,minHeight:"calc(100vh - 64px - 56px)"},contentWrapper:{paddingTop:e.spacing(1)}}}),Il=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e){var t=e.userProfile,a=e.location,n=e.match,o=Ll({});if(!t.user_metadata.roles.includes("SuperAdmin"))return r.a.createElement(S.a,null," Access Forbidden ");var c=[n.url+"/all_templates",n.url+"/template_detail/:id"],s=1;return a.pathname.includes("/all_templates")&&(s=0),r.a.createElement(S.a,{className:o.root},r.a.createElement(ec,{tabs:[{href:"".concat(c[0]),label:"All Templates",icon:Dl.a},{href:"".concat(n.url,"/template_detail/"),label:"Template Detail",icon:Al.a}],value:s}),r.a.createElement("main",{className:o.contentWrapper},r.a.createElement(j.d,null,r.a.createElement(L,{path:"".concat(n.url,"/all_templates"),component:Tl}),r.a.createElement(L,{path:"".concat(n.url,"/template_detail/:id"),component:Rl}),r.a.createElement(j.a,{path:"/m_temp",to:"".concat(n.url,"/all_templates")}))))}),Fl=Object(Qe.a)(function(e){return{row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"}}}),Wl=function(e){var t=Fl({}),a=e.specialties,n=e.handleAdd,o=e.handleDelete,c=e.handleSelect;return r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Specialty Name "),r.a.createElement(Ae,{align:"center"},"Specialty Description"),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{style:{color:"#4a148c"},onClick:n},r.a.createElement(Aa.a,null))))),r.a.createElement(Y.a,null,a.map(function(e){return r.a.createElement(X.a,{className:t.row,key:e.id,hover:!0,onClick:function(t){t.preventDefault(),c(e.id)}},r.a.createElement(Ae,{component:"th",scope:"specialty"},e.name),r.a.createElement(Ae,{align:"center"},e.description),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{"aria-label":"Delete",color:"primary",onClick:function(t){t.stopPropagation(),o(e.id)}},r.a.createElement(Da.a,null))))})))},zl=Object(mt.a)((ks={},Object(G.a)(ks,"SPEC_CREATED",function(){return!0}),Object(G.a)(ks,"SPEC_DELETED",function(){return!0}),Object(G.a)(ks,"SPEC_UPDATED",function(){return!0}),Object(G.a)(ks,"SPECS_LOADED",function(e){return e}),Object(G.a)(ks,"SPEC_LOADED",function(e){return e}),Object(G.a)(ks,"SPEC_SET_PAGEINFO",function(e,t,a,n){return{totalItems:n,totalPages:a,currentPage:e,pageSize:t}}),Object(G.a)(ks,"SPEC_SELECTED",function(e){return e}),ks)),Ul=zl.specCreated,Hl=zl.specDeleted,Vl=zl.specUpdated,Gl=zl.specsLoaded,ql=zl.specLoaded;zl.specSetPageinfo,zl.specSelected;function Jl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Yl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jl(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jl(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var $l=Object(z.a)(function(e){return{root:{flexGrow:1,position:"relative",minHeight:"calc(100vh - 64px - 56px - 8px)",overflow:"auto"},busy:{position:"absolute",left:"calc(50% - 16px)",top:"calc(50% - 16px)"}}}),Kl=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).specId=void 0,a.showAddDialog=function(){a.setState({showNewDlg:!0,isBusy:!1,newSpec:{name:"",value:"",description:""}})},a.showConfirmDialog=function(){a.setState({showConfirmDlg:!0,isBusy:!1})},a.closeConfirmDialog=function(){a.setState({showConfirmDlg:!1})},a.handleAdd=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yl({},t,{updatedBy:a.props.userProfile.email}),r=a.state,o=r.currentPage,c=r.pageSize,a.setState({isBusy:!0}),e.prev=3,e.next=6,a.props.createSpec(n);case 6:return e.next=8,a.props.loadSpecs(o,c);case 8:a.setState({isBusy:!1,showNewDlg:!1,showMessage:!0,variant:"success",message:"Specialty Add success"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a.setState({isBusy:!1,showNewDlg:!1,showMessage:!0,variant:"error",message:"Specialty Add failed"});case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.specId=t,a.showConfirmDialog();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.delete=Object(f.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.specId){e.next=2;break}return e.abrupt("return");case 2:return t=a.state,n=t.currentPage,r=t.pageSize,a.setState({isBusy:!0}),e.prev=4,e.next=7,a.props.deleteSpec(a.specId);case 7:return e.next=9,a.props.loadSpecs(n,r);case 9:a.setState({isBusy:!1,showConfirmDlg:!1,showMessage:!0,variant:"success",message:"Specialty Delete success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),a.setState({showConfirmDlg:!1,isBusy:!1,showMessage:!0,variant:"error",message:"specialty Delete failed"});case 15:case"end":return e.stop()}},e,null,[[4,12]])})),a.handleSelect=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.loadSpec(t);case 2:a.props.history.push("/m_spec/specialty_detail");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),r=a.props.specialties,o=a.state.pageSize,!r){e.next=16;break}return a.setState({isBusy:!0}),e.prev=5,n>=r.totalPages&&(n=r.totalPages-1),e.next=9,a.props.loadSpecs(n,o);case 9:a.setState({isBusy:!1,currentPage:n}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("AllSpecialties.handleChangePage: ",e.t0),a.setState({isBusy:!1});case 16:case"end":return e.stop()}},e,null,[[5,12]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.currentPage,o=n.pageSize,c=r*o,s=t.target.value,l=Math.floor(c/s),e.prev=4,a.setState({isBusy:!0}),e.next=8,a.props.loadSpecs(l,s);case 8:a.setState({isBusy:!1,currentPage:l,pageSize:s}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("AllSpecialties.handleChangeRowsPerPage: ",e.t0),a.setState({isBusy:!1});case 15:case 16:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),a.state={currentPage:0,pageSize:20,isBusy:!1,showNewDlg:!1,showConfirmDlg:!1,newSpec:{name:"",value:"",description:""},showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.dirty){e.next=5;break}return this.setState({isBusy:!0}),e.next=4,this.props.loadSpecs(this.state.currentPage,this.state.pageSize);case 4:this.setState({isBusy:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=this.state,c=o.currentPage,s=o.pageSize;return n?r.a.createElement(W.a,{className:a.root},r.a.createElement(Wl,{specialties:n.content,handleDelete:this.handleDelete,handleAdd:this.showAddDialog,handleSelect:this.handleSelect}),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:n.totalElements,rowsPerPage:s,page:c,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement(Sn.a,{open:this.state.showNewDlg,onClose:function(){return e.setState({showNewDlg:!1})},"aria-labelledby":"form-dialog-title"},r.a.createElement(Nn.a,{id:"form-dialog-title"},"Create Specialty"),r.a.createElement(kn.a,{className:a.relative},r.a.createElement(Pn.a,null,"please input the correct specialty information"),r.a.createElement(Xe.a,{autoFocus:!0,margin:"normal",label:"name",fullWidth:!0,value:this.state.newSpec.name,onChange:function(t){return e.setState({newSpec:Yl({},e.state.newSpec,{name:t.target.value})})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{margin:"normal",label:"value",fullWidth:!0,value:this.state.newSpec.value,onChange:function(t){return e.setState({newSpec:Yl({},e.state.newSpec,{value:t.target.value})})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{label:"description",margin:"dense",multiline:!0,rows:"6",fullWidth:!0,value:this.state.newSpec.description,onChange:function(t){return e.setState({newSpec:Yl({},e.state.newSpec,{description:t.target.value})})}})),r.a.createElement(Cn.a,null,r.a.createElement(De,{disabled:this.state.isBusy,onClick:function(){return e.setState({showNewDlg:!1})}},"Cancel"),r.a.createElement(De,{disabled:this.state.isBusy,onClick:function(){return e.handleAdd(e.state.newSpec)},color:"primary"},"Add"))),r.a.createElement(Sn.a,{open:this.state.showConfirmDlg,onClose:this.closeConfirmDialog,"aria-labelledby":"alert-dialog-title"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},"Confirm"),r.a.createElement(kn.a,{className:a.relative},r.a.createElement(Pn.a,{id:"alert-dialog-description"},"Do you really want to delete this specialty?")),r.a.createElement(Cn.a,null,r.a.createElement(De,{onClick:this.closeConfirmDialog,autoFocus:!0},"Cancel"),r.a.createElement(De,{onClick:this.delete,color:"primary"},"Yes"))),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(U.a,{className:a.busy})}}]),t}(n.Component),Xl={loadSpecs:function(e,t){return function(a){return Et(e,t).then(function(e){a(Gl(e))})}},deleteSpec:function(e){return function(t){return jt(e).then(function(e){t(Hl())})}},createSpec:function(e){return function(t){return wt(e).then(function(a){t(Ul(e))})}},loadSpec:function(e){return function(t){return yt(e).then(function(e){t(ql(e))})}}},Ql=Object(I.d)(Object(B.a)($l),Object(s.b)(function(e){return{specialties:e.spec_data.specialties,dirty:e.spec_data.dirty,userProfile:e.global_data.userProfile}},Xl))(Kl),Zl=a(919),ei=Object(z.a)(function(e){var t,a;return{root:(t={width:"400px"},Object(G.a)(t,e.breakpoints.up("sm"),{width:"540px"}),Object(G.a)(t,"position","relative"),t),waitingSpin:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},busy:{position:"absolute",left:"calc(50% - 16px)",top:"calc(50% - 16px)"},btnWidth:{width:"calc(33% - 20px)",margin:e.spacing(0,2)},descTag:(a={padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",margin:e.spacing(1),borderBottom:"5px solid "+e.palette.primary.light,height:"calc(100vh - 64px - 48px - 16px)"},Object(G.a)(a,e.breakpoints.up("md"),{height:"calc(100vh - 64px - 48px - 16px)"}),Object(G.a)(a,"display","flex"),Object(G.a)(a,"flexDirection","column"),Object(G.a)(a,"overflow","auto"),a)}}),ti=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleSave=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:a.props.specialty.id,name:a.state.name,value:a.state.value,description:a.state.description,updatedBy:a.props.user.email},a.setState({isBusy:!0}),e.prev=2,e.next=5,a.props.updateSpec(t);case 5:a.setState({isBusy:!1,showMessage:!0,message:"Specialty updated successfully.",variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({isBusy:!1,showMessage:!0,message:"Specialty Update failed.",variant:"error"});case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a.goBack=function(){a.props.history.goBack()},a.state={isBusy:!1,name:e.specialty&&e.specialty.name,value:e.specialty&&e.specialty.value,description:e.specialty&&e.specialty.description,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes;return t.specialty?r.a.createElement(Zl.a,{fixed:!0,className:a.root},this.state.isBusy&&r.a.createElement(U.a,{className:a.busy}),r.a.createElement(W.a,{className:a.descTag},r.a.createElement(Xe.a,{label:"specialty name",margin:"normal",InputLabelProps:{shrink:!0},value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},InputProps:{classes:{input:a.editField}}}),r.a.createElement(Xe.a,{label:"value",margin:"normal",InputLabelProps:{shrink:!0},value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}}),r.a.createElement(Xe.a,{label:"description",multiline:!0,rows:"10",margin:"normal",InputLabelProps:{shrink:!0},value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}),r.a.createElement(S.a,null,r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.goBack,className:a.btnWidth},"Cancel"),r.a.createElement(De,{disabled:this.state.isBusy,onClick:this.handleSave,color:"primary",className:a.btnWidth},"Save"))),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose}),this.state.isBusy&&r.a.createElement(U.a,{className:a.busy})):r.a.createElement(S.a,null,"Specialty not selected")}}]),t}(n.Component),ai={updateSpec:function(e){return function(t){return xt(e).then(function(a){t(Vl(e))})}}},ni=Object(I.d)(Object(B.a)(ei),Object(s.b)(function(e){return{specialty:e.spec_data.specialty,user:e.global_data.userProfile}},ai))(ti),ri=Object(Qe.a)(function(e){return{root:{flexGrow:1},contents:{marginTop:e.spacing(1)}}}),oi=Object(I.d)(j.g,Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}}))(function(e){var t=e.userProfile,a=e.location,n=ri({});if(!t.user_metadata.roles.includes("SuperAdmin"))return r.a.createElement(S.a,{className:n.root}," Access Forbidden ");var o=["/m_spec/all_specialties","/m_spec/specialty_detail"],c=0;return a.pathname.includes(o[1])&&(c=1),r.a.createElement(S.a,{className:n.root},r.a.createElement(A,{init:c,tabs:[{href:o[0],label:"All Specialties",icon:Dl.a},{href:o[1],label:"Specialty Detail",icon:Al.a}]}),r.a.createElement(S.a,{component:"main",className:n.contents},r.a.createElement(j.d,null,r.a.createElement(L,{path:o[0],component:Ql}),r.a.createElement(L,{path:o[1],component:ni}),r.a.createElement(j.a,{path:"/m_spec",to:o[0]}))))}),ci=Object(z.a)(function(e){return{root:{flexGrow:1,position:"relative",minHeight:"calc(100vh - 64px - 56px - 8px)"},row:{cursor:"pointer","&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},busy:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)"},marginRight:{marginRight:e.spacing(1)},editField:{lineHeight:"1.5rem"}}}),si=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeMessage=function(){a.setState({showMessage:!1})},a.changePage=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({currentPage:t,isBusy:!0}),e.prev=1,e.next=4,a.props.getContractors(t,a.state.rowsPerPage);case 4:a.setState({isBusy:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("AllContractorsView.changePage: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Some errors occured",variant:"error"});case 11:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.changeRowsPerPage=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.contractors,r=t.target.value,o=r>=n.totalElements?0:a.state.currentPage,a.setState({rowsPerPage:r,currentPage:o,isBusy:!0}),e.prev=4,e.next=7,a.props.getContractors(o,r);case 7:a.setState({isBusy:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("AllContractorsView.changePage: ",e.t0),a.setState({isBusy:!1,showMessage:!0,message:"Some errors occured",variant:"error"});case 14:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t){return e.apply(this,arguments)}}(),a.toggleSort=function(){var e="desc";"desc"===a.state.order&&(e="asc"),a.state.contractors.content.sort(function(e,t){return e.status>t.status?1:-1}),a.setState({order:e})},a.gotoDetail=function(e){a.props.history.push("/m_cont/contractor_detail/".concat(e))},a.delete=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.currentPage,o=n.rowsPerPage,c=n.contractors,s=r,a.setState({isBusy:!0}),e.prev=3,e.next=6,a.props.deleteContractor(t);case 6:return s*o>=c.totalElements-1&&s--,a.setState({currentPage:s,showMessage:!0,message:"Contractor Delete success",variant:"success",isBusy:!1}),e.next=10,a.props.getContractors(s,o);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("AllContractorsView.delete: ",e.t0),a.setState({showMessage:!0,message:"Some errors occured",variant:"error",isBusy:!1});case 16:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),a.state={rowsPerPage:20,currentPage:0,order:"desc",isBusy:!1,openCategoryForm:!1,name:"",description:"",showMessage:!1,message:"",variant:"success",handleClose:a.closeMessage,contractors:void 0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getContractors(this.state.currentPage,this.state.rowsPerPage)}},{key:"componentWillReceiveProps",value:function(e){var t=e.contractors;this.setState({contractors:t})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.contractors;return a?r.a.createElement(S.a,{className:t.root},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Contractor Email "),r.a.createElement(Ae,{align:"center"},"Contractor Name"),r.a.createElement(Ae,{align:"center"},"Contractor Street"),r.a.createElement(Ae,{align:"center"},"Contractor City"),r.a.createElement(Ae,{align:"center"},"Contractor Phone"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Uc.a,{active:!0,direction:this.state.order,onClick:this.toggleSort},"Contractor Status")),r.a.createElement(Ae,{align:"center"},"Action"))),r.a.createElement(Y.a,null,a.content.map(function(a){return r.a.createElement(X.a,{className:t.row,key:a.id,hover:!0},r.a.createElement(Ae,{component:"th",scope:"row",onClick:function(){return e.gotoDetail(a.id)}},a.email?a.email:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoDetail(a.id)}},a.address?a.address.name:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoDetail(a.id)}},a.address?a.address.street:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoDetail(a.id)}},a.address?a.address.city:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoDetail(a.id)}},a.address?a.address.phone:"N/A"),r.a.createElement(Ae,{align:"center",onClick:function(){return e.gotoDetail(a.id)}},a.status?a.status:"N/A"),r.a.createElement(Ae,{align:"center"},r.a.createElement(F.a,{className:t.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.delete(a.id)}},r.a.createElement(Da.a,null))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:a.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.changePage,onChangeRowsPerPage:this.changeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:function(){return e.setState({showMessage:!1})}}),this.state.isBusy&&r.a.createElement(U.a,{className:t.busy})):r.a.createElement(U.a,{className:t.waitingSpin})}}]),t}(r.a.Component),li={getContractors:Mt,deleteContractor:function(e){return function(t){return bt.deleteContractor(e)}},createContractor:function(e){return function(t){return bt.createContractor(e)}}},ii=Object(I.d)(Object(B.a)(ci),Object(s.b)(function(e){return{contractors:e.cont_data.contractors,userProfile:e.global_data.userProfile}},li))(si),ui=Object(Qe.a)(function(e){return{root:{flexGrow:1},contentWrapper:{height:"calc(100vh - 64px - 56px)",paddingTop:e.spacing(1),overflow:"auto"}}}),pi=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e){var t=ui({});return r.a.createElement(S.a,{className:t.root},r.a.createElement(A,{tabs:[{href:"/m_cont/all_contractors",label:"All Contractors",icon:Dl.a}]}),r.a.createElement(S.a,{component:"main",className:t.contentWrapper},r.a.createElement(j.d,null,r.a.createElement(L,{path:"/m_cont/all_contractors",component:ii}),r.a.createElement(L,{path:"/m_cont/contractor_detail/:id",component:Wc}),r.a.createElement(j.a,{path:"/m_cont",to:"/m_cont/all_contractors"}))))}),di=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChangePage=function(){var e=Object(f.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({currentPage:n}),e.next=3,a.props.getAllProjects(n,a.state.rowsPerPage);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChangeRowsPerPage=function(e){var t=a.props.projects,n=e.target.value,r=n>=t.totalElements?0:a.state.currentPage;a.setState({rowsPerPage:n,currentPage:r}),a.props.getAllProjects(r,n)},a.state={rowsPerPage:20,currentPage:0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getAllProjects(0,0);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.projects;return n?r.a.createElement(W.a,{square:!0,className:a.root},r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Project Title "),r.a.createElement(Ae,{align:"center"},"Budget"),r.a.createElement(Ae,{align:"center"},"Due Date"),r.a.createElement(Ae,{align:"center"},"Discription"))),r.a.createElement(Y.a,null,n.content.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0,onClick:function(){e.props.history.push("/projects/project_detail/"+t.id)}},r.a.createElement(Ae,{component:"th",scope:"row"},r.a.createElement(zc,null,t.title)),r.a.createElement(Ae,{align:"center"},t.budget),r.a.createElement(Ae,{align:"center"},t.due&&t.due.slice(0,10)),r.a.createElement(Ae,{align:"center"},r.a.createElement(zc,null,On()(t.description))))}))),r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:n.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),mi={getAllProjects:function(e,t){return function(a){return a(la()),Ht.getAll(e,t).then(function(e){a(sa(e))})}}},gi=Object(I.d)(Object(B.a)(function(e){return Object(z.a)({root:{flexGrow:1,height:"calc(100vh - 64px - 55px - 16px)",overflow:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"}})}),Object(s.b)(function(e){return{projects:e.gen_data.allprojects}},mi))(di),hi=Object(Qe.a)(function(e){return{root:{flexGrow:1,height:"calc(100vh - 64px)",overflow:"auto"},contentWrapper:{height:"calc(100vh - 64px - 56px)",paddingTop:e.spacing(1)},buttonAdditional:{position:"absolute",float:"right",right:0}}}),fi=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}})(function(e){var t=hi({}),a=e.userProfile,r=e.match;return a.user_metadata.roles.includes("Gen")||a.user_metadata.roles.includes("GenSub")||a.user_metadata.roles.includes("SuperAdmin")?n.createElement(S.a,{className:t.root},n.createElement(A,{tabs:[{href:"/projects/current",label:"New",icon:Dl.a}]}),n.createElement(S.a,{className:t.contentWrapper},n.createElement(j.d,null,n.createElement(L,{path:"".concat(r.url,"/current"),component:gi}),n.createElement(L,{path:"".concat(r.url,"/proposal_detail/:id"),component:Qo}),n.createElement(L,{path:"".concat(r.url,"/project_detail/:id"),component:ao}),n.createElement(L,{path:"".concat(r.url,"/contractor_detail/:id"),component:Wc}),n.createElement(j.a,{path:"/projects",to:"/projects/current"})))):n.createElement("div",null," Access Forbidden ")}),bi=a(81),vi=a(846),Ei=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).onTextChanges=function(e){var t=e.target.value;a.setState({term:t}),localStorage.setItem("specialitie",t.charAt(0).toUpperCase()+t.slice(1));var n=[];a.state.searchArray.forEach(function(e){n.push(e.name),a.setState({items:n});var r=[];if(t.length>0){var o=new RegExp("^".concat(t),"i");r=n.sort().filter(function(e){return o.test(e)})}a.setState(function(){return{suggestion:r}})})},a.items=[""],a.state={searchArray:[],suggestion:[],setError:"",term:""},a.getitem=a.getitem.bind(Object(bi.a)(a)),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"getitem",value:function(e){var t=e.target.textContent,a=document.getElementById("input");a.value=t;var n=document.getElementById("sug");localStorage.setItem("specialitie",t),a.value&&(n.style.display="none")}},{key:"componentDidMount",value:function(){var e=this;_.a.get("https://bcbe-service.herokuapp.com//specialties/").then(function(t){e.setState({searchArray:t.data.content})})}},{key:"renderSuggestions",value:function(){var e=this,t=this.state.suggestion;return 0===t.length?null:r.a.createElement("ul",{className:"myList",id:"test"},t.map(function(t){return r.a.createElement("li",{key:t,onClick:e.getitem,className:"sug-li",style:{cursor:"pointer"},value:t},t)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"suggestion-search"},r.a.createElement("div",{className:this.state.suggestion===[]?alert("hi"):"search-bar"},r.a.createElement(F.a,{"aria-label":"search"},r.a.createElement(os.a,null)),r.a.createElement(vi.a,{id:"input",className:"search",placeholder:"Search reviews",onChange:this.onTextChanges,autoComplete:"off"})),r.a.createElement("div",{className:"suggestions",id:"sug"},this.renderSuggestions()))}}]),t}(r.a.Component),yi=a(920),xi=a(922),ji=a(921),wi=a(128),Oi=a.n(wi),Si=(a(202),a(770),Object(Qe.a)({card:{maxWidth:179},media:{height:130},root:{maxWidth:1200,flexGrow:1}}));var Ci=function(){var e=Object(cs.a)(),t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(""),l=Object(O.a)(s,2),i=l[0],u=l[1],p=Object(n.useState)(!1),d=Object(O.a)(p,2),m=d[0],g=d[1],h=Object(n.useState)(""),f=Object(O.a)(h,2),b=f[0],v=f[1],E=Object(n.useState)(""),y=Object(O.a)(E,2),x=y[0],j=y[1],w=Object(n.useState)(""),S=Object(O.a)(w,2),C=S[0],k=S[1],P=Object(n.useState)(""),N=Object(O.a)(P,2),D=N[0],B=N[1],A=Object(n.useState)(""),M=Object(O.a)(A,2),T=M[0],L=M[1],I=Object(n.useState)(""),F=Object(O.a)(I,2),W=F[0],z=F[1],U=Object(n.useState)(""),H=Object(O.a)(U,2),V=H[0],G=H[1],J=Object(n.useState)(""),Y=Object(O.a)(J,2),$=Y[0],K=Y[1],X=Object(n.useState)([]),Z=Object(O.a)(X,1)[0],ee=[i,b,x,C,T,m],te={desktop:{breakpoint:{max:3e3,min:1024},items:6,slidesToSlide:1},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:1},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:1}},ae=r.a.useState(!1),ne=Object(O.a)(ae,2),re=ne[0],oe=ne[1],ce=Si(),le=r.a.useState(0),ie=Object(O.a)(le,2),ue=ie[0],pe=ie[1],de=function(){oe(!0)},me=function(){var e=[{modalTitle:o,getbudjet:C,getbudjetvalue:C,description:W,budgetCustomValue:D}];if(localStorage.setItem("modalData",JSON.stringify(e)),7===ue){R.signIn();var t="/contractors/".concat(localStorage.getItem("contractor_ID"),"/projects"),a={title:"A project",description:W,budget:Number(C),endDate:new Date};a&&_.a.post("https://bcbe-service.herokuapp.com/"+t,a,{headers:Ns.headers}).then(function(e){Z.push(e.data)})}pe(0),oe(!1)},ge=function(e){c(e.target.title)};return r.a.createElement("div",{className:"container home-mid-bg"},r.a.createElement("h2",{className:"font-color"},"Contact  Local Professional"),r.a.createElement(Oi.a,{swipeable:!1,draggable:!1,showDots:!0,responsive:te,ssr:!0,infinite:!0,autoPlaySpeed:5e3,keyBoardControl:!0,customTransition:"all .5",transitionDuration:100,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px"},r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Bathroom Remodeling"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2",id:"title"},"Bathroom Remodeling")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Home Remodeling"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Home Remodeling")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Kitchen Remodeling"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Kitchen Remodeling")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://freshome.com/wp-content/uploads/2015/07/online-virtual-room-programs-5d-render.jpg",title:"General Contracting"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"General Contracting")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6r-nFGkJjRU_X2dd-Lk4W7H-XetUL6PorttraCkS11brJsDfP",title:"New Home Construction"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"New Home Construction")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTM6k45BnwpjpY7DOBmu5dAYUbRG2e7GpXx7f2mBlkpCTQwRrtvqw",title:"Interior Design"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Interior Design"))))))),r.a.createElement("h2",{className:"font-color"},"Browse Ideas by Room"),r.a.createElement(Oi.a,{swipeable:!1,draggable:!1,showDots:!0,responsive:te,ssr:!0,infinite:!0,autoPlaySpeed:1e3,keyBoardControl:!0,customTransition:"all .5",transitionDuration:500,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px"},r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://www.cadsoftwaredirect.com/media/catalog/product/cache/3/thumbnail/9df78eab33525d08d6e5fb8d27136e95/v/-/v-ray_sketchup_interior_stairs_1.jpg",title:"Bathroom Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Bathroom Ideas")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Kitchen Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Kitchen Ideas")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Dinning Room Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Dinning Room Ideas")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Living Room Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Living Room Ideas")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Bedroom Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Bedroom Ideas")))))),r.a.createElement("div",null,r.a.createElement(q.a,{className:ce.card,onClick:ge},r.a.createElement("div",{className:"popUpModal",onClick:de},r.a.createElement(yi.a,null,r.a.createElement(ji.a,{className:ce.media,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_1AtyXV3mqWkTsUBxWTS82EPp8t0Jb4fPgkiauR6Sx4Ba4tBo3g",title:"Exterior Ideas"}),r.a.createElement(xi.a,null,r.a.createElement(Q.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Exterior Ideas"))))))),r.a.createElement(it.a,{container:!0,spacing:0},r.a.createElement(it.a,{item:!0,xs:10},r.a.createElement(Q.a,{variant:"h6"}),r.a.createElement(ss.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:re,onClose:me},r.a.createElement("div",{className:"service-modal"},r.a.createElement(Bc.a,{onClick:me,className:"modal-close"}),r.a.createElement(it.a,{className:"modal-page-col",item:!0,xs:10},r.a.createElement(Q.a,{variant:"subtitle2",color:"textSecondary"},0===ue?1:1===ue?2:2===ue?3:3===ue?4:4===ue?5:5===ue?6:6===ue?7:""," of 7")),r.a.createElement(it.a,{container:!0,spacing:2},0===ue?r.a.createElement(Ss,{parentCallback:function(e){u(e)},errorMessage:V}):1===ue?r.a.createElement(bs,{data:ee,serviceCallback:function(e){g(e)},errorMessage:V}):2===ue?r.a.createElement(Cs,{data:ee,propertyCallback:function(e){v(e),""!==e&&pe(function(e){return e+1})},errorMessage:V}):3===ue?r.a.createElement(hs,{data:ee,areaCallback:function(e){j(e),""!==e&&pe(function(e){return e+1})},errorMessage:V}):4===ue?r.a.createElement(ys,{data:ee,budjetCallbackvalue:function(e){B(e)},budjetCallback:function(e){k(e),""!==e&&pe(function(e){return e+1})},errorMessage:V}):5===ue?r.a.createElement(Ps,{data:ee,MaterialCallback:function(e){L(e),""!==e&&pe(function(e){return e+1})},errorMessage:V}):6===ue?r.a.createElement(Os,{charCountback:function(e){K(e)},discCallback:function(e){z(e)},errorMessage:V}):me()),r.a.createElement(ls.a,{variant:"progress",steps:7,position:"static",activeStep:ue,className:ce.root}),r.a.createElement(it.a,{container:!0,spacing:0},r.a.createElement(it.a,{item:!0,xs:12,style:{textAlign:"center",margin:"20px 0px"}},r.a.createElement(se.a,{variant:"contained",className:"service-modal-prev",onClick:function(){pe(function(e){return e-1})},disabled:0===ue},"rtl"===e.direction?r.a.createElement(ds.a,null):r.a.createElement(us.a,null),"Prev"),r.a.createElement(se.a,{variant:"contained",className:"service-modal-next",onClick:function(){0===ue&&""===i||null===i||1===ue&&!1===m||2===ue&&""===b||3===ue&&""===x||4===ue&&""===C&&(""===D||null===D)||5===ue&&""===T||6===ue&&$<40?G("Please fill the field"):(G(""),pe(function(e){return e+1})),(7===ue&&""===W||null===W)&&(pe(function(e){return e+1}),me())}},6===ue?"Submit":"Next","rtl"===e.direction?r.a.createElement(us.a,null):r.a.createElement(ds.a,null)))))))))};var ki=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)([]),i=Object(O.a)(s,2),u=i[0],p=i[1],d=Object(n.useState)(""),m=Object(O.a)(d,2),g=m[0],b=m[1];function v(){return(v=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()("https://bcbe-service.herokuapp.com/specialties/cities");case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){c(""===g||null===g?"Please Submit the valid Form!":"")}return Object(n.useEffect)(function(){!function(){v.apply(this,arguments)}()},[]),r.a.createElement("div",null,r.a.createElement(Zl.a,null,r.a.createElement(it.a,{className:"text-center",item:!0,xs:6},r.a.createElement("h1",{className:"home-title",style:{textAlign:"center",fontFamily:"sans-serif",fontWeight:"normal"}},"Find local professionals for pretty much anything"),r.a.createElement("p",{className:"red"},o),r.a.createElement("div",{id:"search"},r.a.createElement(Ei,null),r.a.createElement("div",{className:"city-btn"},r.a.createElement("div",{className:"city"},r.a.createElement("select",{className:"city",onChange:function(e){return function(e){b(e.target.value)}(e)}},r.a.createElement("option",{value:" "},"City"),u.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"btn"},""!==g||null!==g?r.a.createElement(l.b,{onClick:E,className:"underlineNone",to:{pathname:"/contractorList",state:{cityName:g,specialty:[localStorage.getItem("specialitie")]}}},r.a.createElement(se.a,{onClick:E,className:"getstarted"},"Search")):2)))),r.a.createElement(it.a,{className:"text-center bg-image",item:!0,xs:12},r.a.createElement("div",{className:""})),r.a.createElement(Ci,null)))},Pi=a(937),Ni=a(234),Di=a.n(Ni),Bi=a(406),Ai=a.n(Bi),Mi=a(407),Ti=a.n(Mi),_i=a(408),Ri=a.n(_i),Li=a(235),Ii=a.n(Li),Fi=a(409),Wi=a.n(Fi),zi=a(410),Ui=a.n(zi),Hi=Object(Qe.a)(function(e){return Object(z.a)({iconBox:{display:"flex",flexDirection:"column",padding:e.spacing(1)},contentBox:{display:"flex",flexDirection:"column",flex:1},label:{fontWeight:600,color:"rgba(0,0,0,0.9)"},content:{color:"rgba(0,0,0,0.7)"}})}),Vi=function(e){var t=e.icon,a=e.label,n=e.content,o=Hi({});return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{className:o.iconBox},t),r.a.createElement(S.a,{className:o.contentBox},r.a.createElement(Q.a,{className:o.label},a),r.a.createElement(Q.a,{className:o.content},n)))},Gi=Object(Qe.a)(function(e){return Object(z.a)({container:{width:"100%",padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:"0"},marginRight:{marginRight:e.spacing(1)},row:{display:"flex",fontSize:"0.875rem",width:"100%"},avatar:Object(G.a)({width:60,height:60},e.breakpoints.up("sm"),{width:80,height:80}),company:{marginLeft:e.spacing(2),paddingTop:e.spacing(.5),flex:1,display:"flex",flexDirection:"column"},companyName:{fontSize:"1.2rem",fontWeight:600},rating:{marginTop:e.spacing(.5),display:"flex"},link:{fontSize:"0.875rem",fontWeight:600,color:"blue",cursor:"pointer"},divider:{marginLeft:16,width:"calc(100% - 32px)"},status:{position:"absolute",left:"20px",top:"10px",color:"blue",fontSize:"12px"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"}})}),qi=function(e){var t=Gi({}),a=e.profile,n=e.review,o=e.gotoEditView,c=e.gotoReview,s=[n.fiveStarRating,n.fourStarRating,n.threeStarRating,n.twoStarRating,n.oneStarRating],l=0;return n.reviews>0&&(l=s.reduce(function(e,t,a){return e+t*(5-a)},0)/n.reviews),r.a.createElement(q.a,{className:t.container},r.a.createElement(en.a,null,r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Eo.a,{alt:"Avatar",src:a.picture,className:t.avatar}),r.a.createElement(S.a,{className:t.company},r.a.createElement(Q.a,{className:t.companyName},a.address.company),r.a.createElement(S.a,{className:t.rating},r.a.createElement(Pi.a,{precision:.1,value:l,readOnly:!0,size:"small",style:{marginRight:16}}),r.a.createElement(Gr.a,{onClick:c,className:t.link},"Ask Review"))),r.a.createElement(S.a,null,r.a.createElement(Gr.a,{onClick:function(){o()},className:t.link},"Edit")))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Name",content:"".concat(a.firstname," ").concat(a.lastname),icon:r.a.createElement(Di.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Email",content:"".concat(a.email),icon:r.a.createElement(Ai.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Phone",content:"".concat(a.address.phone),icon:r.a.createElement(Ti.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Website",content:a.address.website,icon:r.a.createElement(Ri.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Address",content:"".concat(a.address.street," ").concat(a.address.city),icon:r.a.createElement(Ii.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Year founded",content:a.address.founded&&a.address.founded,icon:r.a.createElement(Wi.a,null)}))),r.a.createElement(an.a,{className:t.divider}),r.a.createElement(tn.a,{style:{width:"100%"}},r.a.createElement(S.a,{className:t.row},r.a.createElement(Vi,{label:"Number of employees",content:a.address.employees&&a.address.employees,icon:r.a.createElement(Ui.a,null)}))),r.a.createElement(an.a,{className:t.divider})))},Ji=function(e){var t=e.handleChange,a=e.filter,r=e.multiple,o=e.children,c=e.btnId,s=Object(ae.a)(e,["handleChange","filter","multiple","children","btnId"]);return n.createElement(S.a,{style:{display:"inline-block"}},n.createElement("input",{accept:a,id:c||"upload-file",multiple:r,type:"file",style:{display:"none"},onChange:function(e){var a=e.target.files,n=[],r=!0,o=!1,c=void 0;try{for(var s,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var i=s.value;n.push(i)}}catch(u){o=!0,c=u}finally{try{r||null==l.return||l.return()}finally{if(o)throw c}}t(n)}}),n.createElement("label",{htmlFor:c||"upload-file",style:{display:"inline"}},n.createElement(se.a,Object.assign({},s,{component:"span"}),o)))};function Yi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yi(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yi(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ki=Object(B.a)(function(e){var t;return Object(z.a)({container:{width:"100%",padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:"0"},marginRight:{marginRight:e.spacing(1)},row:{display:"flex"},avatar:Object(G.a)({margin:"auto",width:60,height:60},e.breakpoints.up("sm"),{width:80,height:80}),company:{marginLeft:e.spacing(2),flex:1,justifyContent:"center",display:"flex",flexDirection:"column"},companyName:{fontSize:"1.2rem",fontWeight:600},rating:{marginTop:e.spacing(2)},link:{fontSize:"0.875rem",fontWeight:600,color:"blue",cursor:"pointer"},status:{position:"absolute",left:"20px",top:"10px",color:"blue",fontSize:"12px"},btnBox:{margin:e.spacing(1)},submitButton:(t={width:120},Object(G.a)(t,e.breakpoints.up("xs"),{width:160}),Object(G.a)(t,"border","1px solid #4a148c"),Object(G.a)(t,"color","white"),Object(G.a)(t,"margin","auto"),Object(G.a)(t,"backgroundColor",e.palette.primary.light),Object(G.a)(t,"&:hover",{backgroundColor:e.palette.primary.dark}),Object(G.a)(t,"&:disabled",{backgroundColor:"#4a148c"}),t),cancelButton:Object(G.a)({border:"1px solid #c7a4ff",width:120},e.breakpoints.up("xs"),{width:170}),waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{width:"400px",marginBottom:"10px"}})})(function(e){var t=e.classes,a=e.profile,n=e.handleChange,o=a.address,c=r.a.useState(0),s=Object(O.a)(c,2),l=s[0],i=s[1],u=function(){var t=Object(f.a)(h.a.mark(function t(a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1===a.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.uploadPicture(a[0]);case 4:t.sent&&i(Date.now());case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{noValidate:!0,autoComplete:"off",style:{overflow:"auto"}},r.a.createElement(q.a,{className:t.container},r.a.createElement(S.a,{className:t.row,style:{justifyContent:"flex-end"}},r.a.createElement(Gr.a,{onClick:function(){e.handleSave()},className:t.link},"Save"),r.a.createElement(Gr.a,{onClick:function(){e.gotoOverview()},className:t.link,style:{paddingLeft:12,color:"red"}},"Cancel")),r.a.createElement(S.a,{className:t.row,style:{flexDirection:"column",justifyContent:"center"}},r.a.createElement(Eo.a,{alt:"Avatar",src:"".concat(a.picture,"?").concat(l),className:t.avatar}),r.a.createElement(S.a,{style:{textAlign:"center"}},r.a.createElement(Ji,{className:t.submitButton,style:{marginTop:12},multiple:!1,filter:"image/*",handleChange:u},"Update Picture"))),r.a.createElement(it.a,{container:!0,className:t.row,style:{marginBottom:8}},r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Xe.a,{label:"company",fullWidth:!0,className:t.textFieldFull,value:o.company||"",onChange:function(e){n("address")($i({},o,{company:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(Xe.a,{label:"first name",fullWidth:!0,value:a.firstname,onChange:function(e){return n("firstname")(e.target.value)},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(Xe.a,{label:"last name",fullWidth:!0,value:a.lastname,onChange:function(e){return n("lastname")(e.target.value)},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Xe.a,{label:"Phone number",type:"phone",fullWidth:!0,value:o.phone||"",onChange:function(e){n("address")($i({},o,{phone:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Xe.a,{label:"Website",fullWidth:!0,value:o.website||"",onChange:function(e){n("address")($i({},o,{website:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(Xe.a,{label:"Year founded",type:"number",fullWidth:!0,value:o.founded||"",onChange:function(e){n("address")($i({},o,{founded:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(Xe.a,{label:"Number of employees",type:"number",fullWidth:!0,value:o.employees||"",onChange:function(e){n("address")($i({},o,{employees:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(Xe.a,{label:"Street",fullWidth:!0,value:o.street||"",onChange:function(e){n("address")($i({},o,{street:e.target.value}))},margin:"normal"})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(Xe.a,{label:"City",fullWidth:!0,value:o.city||"",onChange:function(e){n("address")($i({},o,{city:e.target.value}))},margin:"normal"}))))))}),Xi=a(411),Qi=a.n(Xi),Zi=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleAdd=function(){a.setState({dialog:!0,city:"",type:"",number:"",file:void 0,url:void 0,fileError:void 0,licInFocus:""})},a.handleCancel=function(){a.setState({dialog:!1})},a.handleSubmit=function(){var e,t=a.state,n=t.city,r=t.type,o=t.number,c=t.file;c||(e="File not attached"),e?a.setState({fileError:e}):(a.props.handleSubmit(n,r,o,c),a.setState({dialog:!1}))},a.handleUpload=function(e){return new Promise(function(t){if(1===e.length){var n=e[0],r=new FileReader;r.addEventListener("load",function(){a.setState({file:n,url:r.result,fileError:void 0}),t()}),r.readAsDataURL(n)}})},a.handleDelLicense=function(e,t){e.stopPropagation(),a.props.delete(t)},a.state={dialog:!1,city:"",type:"",number:"",licInFocus:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.licenses,o=t.contId,c=this.state,s=c.dialog,l=c.city,i=c.type,u=c.number,p=c.url,d=c.fileError,m=c.licInFocus,g="https://bcbe-service.herokuapp.com/"+"/contractors/".concat(o,"/files/"),h=n.map(function(e){if(!e.note||e.note.length<=6)return{id:e.id,name:e.name,url:g+e.name,city:"",type:"",number:""};var t=e.note.split("__");return{id:e.id,name:e.name,url:g+e.name,city:t[0],type:t[1],number:t[2]}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:a.container},r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(Q.a,{className:a.title},"Credentials")),r.a.createElement(tn.a,{id:"license-description"},r.a.createElement(S.a,{style:{width:"100%"}},r.a.createElement(S.a,{style:{display:"flex"}},r.a.createElement(Qi.a,{style:{marginRight:16,fontSize:24,padding:4}}),r.a.createElement(Q.a,{className:a.bold,style:{marginBottom:4}},"Professional Licenses")),r.a.createElement(S.a,{className:a.borderedBox},r.a.createElement(Q.a,{style:{fontSize:"0.875rem",flex:1,marginRight:16}},"Customers prefer to hire professionals who are licensed in their profession."),r.a.createElement(se.a,{onClick:this.handleAdd,variant:"outlined",className:a.button},"Add")))),r.a.createElement(tn.a,{id:"exiting-licenses"},r.a.createElement(S.a,{style:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"space-between"}},h.map(function(t,n){return r.a.createElement(q.a,{key:n,style:{width:256,height:256,boxShadow:"none",display:"flex"},onMouseEnter:function(){return e.setState({licInFocus:t.id})},onMouseLeave:function(){return e.setState({licInFocus:""})}},r.a.createElement(xi.a,{className:a.card},r.a.createElement(S.a,{className:a.addBox,style:{position:"relative"}},r.a.createElement("img",{alt:t.number,style:{width:256,height:188},src:t.url}),m===t.id&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(a){return e.handleDelLicense(a,t.id)}},r.a.createElement(Da.a,null))),r.a.createElement(Q.a,{style:{fontWeight:500,fontSize:"1rem",marginTop:8}},"City: ".concat(t.city)),r.a.createElement(Q.a,{style:{fontSize:"1rem"}},"Type. ".concat(t.type))))}))))),r.a.createElement(Sn.a,{open:s,onClose:this.handleCancel},r.a.createElement(Nn.a,{id:"review-dialog-title"},r.a.createElement(Q.a,{className:a.title},"Add a professional license"),r.a.createElement(Q.a,{style:{fontSize:"0.875rem"}},"Please provide your license information below for your profile.\r\n","If we are able to locate the license under your name and business, we will display the license information on your profile. If you need help uploading your license, please contact us at ",r.a.createElement(Gr.a,{target:"_blank",href:"https://google.com"},"here"))),r.a.createElement(kn.a,null,r.a.createElement(S.a,null,r.a.createElement(Xe.a,{label:"City",margin:"dense",fullWidth:!0,value:l,onChange:function(t){return e.setState({city:t.target.value})},required:!0}),r.a.createElement(Xe.a,{label:"License type",margin:"dense",fullWidth:!0,value:i,onChange:function(t){return e.setState({type:t.target.value})},required:!0}),r.a.createElement(Xe.a,{label:"License number",margin:"dense",fullWidth:!0,value:u,onChange:function(t){return e.setState({number:t.target.value})},required:!0}),r.a.createElement(S.a,{style:{display:"flex",margin:"8px 0 12px"}},r.a.createElement(S.a,{style:{flex:1,height:120,display:"flex"}},r.a.createElement(S.a,{style:{display:"inline-block"}},r.a.createElement(Ji,{multiple:!1,filter:"image/*",handleChange:this.handleUpload,variant:"outlined",style:{marginRight:16}},"Upload Picture"),d&&r.a.createElement(Q.a,{className:a.error},d)),p&&r.a.createElement("img",{src:p,alt:"license",style:{width:120,height:120}})),r.a.createElement(S.a,{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(se.a,{onClick:this.handleSubmit,autoFocus:!0,className:a.submit,variant:"outlined"},"Submit"),r.a.createElement(se.a,{onClick:this.handleCancel,variant:"outlined"},"Cancel"))))),r.a.createElement(kn.a,{style:{padding:"8px 24px 24px"}},r.a.createElement(Q.a,{style:{fontSize:"0.875rem",fontWeight:600,paddingTop:8}},"Why show your license?"),r.a.createElement(Q.a,{style:{fontSize:"0.875rem"}},"For certain services, customers prefer to hire professionals who are licensed in their profession. In other cases, licenses are required for the job."),r.a.createElement(Q.a,{style:{fontSize:"0.875rem",fontWeight:600,paddingTop:8}},"What kind of license can I upload to display on my profile?"),r.a.createElement(Q.a,{style:{fontSize:"0.875rem"}},"Occupational or professional licenses, as indicated by the options in the above dropdown menu. We do not display business licenses or registrations because those do not showcase occupational credentials."))))}}]),t}(r.a.Component),eu=Object(B.a)(function(e){return Object(z.a)({container:{width:"100%",borderRadius:"0",marginBottom:e.spacing(2),padding:e.spacing(2)},title:{fontSize:"1.2rem",fontWeight:600},borderedBox:{border:"1px dashed rgba(0, 0, 0, 0.5)",padding:e.spacing(1),display:"flex"},button:{margin:"4px"},submit:{width:120,border:"1px solid #4a148c",color:"white",marginRight:16,backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}},bold:{fontWeight:600},error:{color:"red",fontSize:"0.75rem",margin:e.spacing(.5,0)},addBox:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",flex:1},card:{padding:0,fontSize:"0.875rem",display:"flex",flex:1,flexDirection:"column",marginBottom:16},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}})})(Zi),tu=a(236),au=a.n(tu),nu=a(311),ru=a.n(nu),ou=["day(s)","week(s)","month(s)"],cu=function(e,t){var a=t-e;return Array.from({length:a},function(t,a){return e+a})},su=function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleAdd=function(){var e=a.props.specialties,t=(new Date).getFullYear();a.setState({dialog:!0,editing:"",title:"",price:0,projFiles:[],files:[],urls:[],location:"",duration:5,unit:ou[0],service:e.content.length>0?e.content[0].id:"",year:t,desc:""})},a.handleEdit=function(e){a.setState({dialog:!0,editing:e.id,title:e.title,price:e.budget,projFiles:Object(Ke.a)(e.projectFiles),location:"",duration:e.duration,unit:ou[0],service:e.projectSpecialties[0].specialty.id,year:e.year,desc:e.description})},a.handleCancel=function(){a.setState({dialog:!1}),a.props.refresh()},a.handleSubmit=function(){var e=a.state,t=e.title,n=e.price,r=e.location,o=e.service,c=e.duration,s=e.unit,l=e.year,i=e.desc,u=e.files,p=e.editing;p?(a.props.updateProject(p,t,n,r,o,c,s,l,i),a.setState({dialog:!1})):(a.props.addProject(t,n,r,o,c,s,l,i,u),a.setState({dialog:!1}))},a.handleUpload=function(e){if(0!==e.length){var t=a.state.editing;e.forEach(function(e){if(a.state.editing)a.props.addFile(t,e).then(function(e){a.setState({projFiles:e})});else{var n=new FileReader;n.addEventListener("load",function(){a.setState({files:[].concat(Object(Ke.a)(a.state.files),[e]),urls:[].concat(Object(Ke.a)(a.state.urls),[n.result])})}),n.readAsDataURL(e)}})}},a.handleDelete=function(e){var t=a.state,n=t.files,r=t.urls;n.splice(e,1),r.splice(e,1),console.log(e),a.setState({files:Object(Ke.a)(n),urls:Object(Ke.a)(r)})},a.handleDelFile=function(e){a.props.deleteFile(a.state.editing,e).then(function(e){a.setState({projFiles:e})})},a.handleDelProject=function(e,t){e.stopPropagation(),a.props.deleteProject(t)};var n=e.specialties&&e.specialties.content&&e.specialties.content[0]&&e.specialties.content[0].name;return a.state={dialog:!1,title:"",price:0,files:[],urls:[],projFiles:[],location:"",service:n||"",duration:5,unit:"day(s)",year:(new Date).getFullYear(),desc:"",hover:-1,projectInFocus:"",editing:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=t.pastProjects,c=this.state,s=c.dialog,l=c.title,i=c.price,u=c.files,p=c.service,d=c.location,m=c.duration,g=c.year,h=c.unit,f=c.desc,b=c.urls,v=c.hover,E=c.projFiles,y=c.projectInFocus,x=c.editing,j=(new Date).getFullYear(),w=4*parseInt(((u.length+3)/4).toFixed(1));return x&&(w=4*parseInt(((E.length+3)/4).toFixed(1))),w<4?w=4:(x&&(w-=E.length),!x&&(w-=u.length)),r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:a.contents},r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(Q.a,{className:a.title},"Past Projects")),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",width:"100%"}},o.content.map(function(t,n){return r.a.createElement(q.a,{key:n,style:{width:256,height:256,boxShadow:"none",display:"flex"},onMouseEnter:function(){return e.setState({projectInFocus:t.id})},onMouseLeave:function(){return e.setState({projectInFocus:""})},onClick:function(){return e.handleEdit(t)}},r.a.createElement(xi.a,{className:a.card},r.a.createElement(S.a,{className:a.addBox,style:{border:"none",position:"relative"}},r.a.createElement("img",{alt:t.title,style:{width:256,height:188},src:t.projectFiles.length>0?"https://bcbe-service.herokuapp.com//projects/"+t.id+"/files/"+t.projectFiles[0].name:""}),y===t.id&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(a){return e.handleDelProject(a,t.id)}},r.a.createElement(Da.a,null))),r.a.createElement(Q.a,{style:{fontWeight:500,fontSize:"1em",marginTop:8}},t.title),r.a.createElement(Q.a,{style:{fontSize:"1em"}},"Approx. $".concat(t.budget))))}),r.a.createElement(q.a,{style:{width:256,height:256,boxShadow:"none",display:"flex"}},r.a.createElement(xi.a,{style:{padding:0,fontSize:"0.875rem",display:"flex",flex:1,flexDirection:"column",marginBottom:16}},r.a.createElement(S.a,{className:a.addBox,onClick:this.handleAdd},r.a.createElement(au.a,{className:a.addBtn})),r.a.createElement(Q.a,{style:{fontWeight:500,fontSize:"1em",marginTop:8}},"Project title"),r.a.createElement(Q.a,{style:{fontSize:"1em"}},"Approximate price"))))))),r.a.createElement(Sn.a,{open:s,onClose:this.handleCancel},r.a.createElement(Nn.a,{id:"project-dialog-title"},r.a.createElement(Q.a,{className:a.title},"Past Project")),r.a.createElement(kn.a,null,r.a.createElement(it.a,{container:!0,style:{width:"100%"}},r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(at.a,{fullWidth:!0,style:{marginTop:5}},r.a.createElement(et.a,{htmlFor:"service-select"},"Service"),r.a.createElement(rt.a,{id:"service-select",fullWidth:!0,value:p,onChange:function(t){return e.setState({service:t.target.value})},name:"services"},n&&n.content&&n.content.map(function(e){return r.a.createElement(tt.a,{value:e.id,key:e.id},e.name)})))),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(Xe.a,{label:"Location(optional)",margin:"dense",fullWidth:!0,value:d,onChange:function(t){return e.setState({location:t.target.value})},InputProps:{startAdornment:r.a.createElement(Sr.a,{position:"start"},r.a.createElement(Ii.a,{style:{marginBottom:5}}))}})),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Q.a,{style:{fontSize:"0.75rem"}},"Photos"),!x&&r.a.createElement(S.a,{className:a.imageBox},b.map(function(t,n){return r.a.createElement(S.a,{key:n,className:a.imageItem,style:{position:"relative"},onMouseEnter:function(){return e.setState({hover:n})},onMouseLeave:function(){return e.setState({hover:-1})}},r.a.createElement("img",{src:t,alt:"project-snapshot",style:{width:128,height:128}}),v===n&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(){return e.handleDelete(v)}},r.a.createElement(Da.a,null)))}),cu(0,w).map(function(e){return r.a.createElement(S.a,{className:a.imageItem,key:e+u.length},r.a.createElement(ru.a,null))})),!!x&&r.a.createElement(S.a,{className:a.imageBox},E.map(function(t,n){return r.a.createElement(S.a,{key:n,className:a.imageItem,style:{position:"relative"},onMouseEnter:function(){return e.setState({hover:n})},onMouseLeave:function(){return e.setState({hover:-1})}},r.a.createElement("img",{src:"https://bcbe-service.herokuapp.com//projects/"+x+"/files/"+t.name,alt:"project-snapshot",style:{width:128,height:128}}),v===n&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(){return e.handleDelFile(t.name)}},r.a.createElement(Da.a,null)))}),cu(0,w).map(function(e){return r.a.createElement(S.a,{className:a.imageItem,key:e+u.length},r.a.createElement(ru.a,null))}))),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Q.a,{style:{fontSize:"0.875rem",marginBottom:4}},"Consider showing before and after photos, the work in progress, and you or your team at work(20 photos max)."),r.a.createElement(Ji,{multiple:!0,btnId:"project-upload-image",filter:"image/*",handleChange:this.handleUpload,variant:"outlined",className:a.submit,style:{padding:"4px 8px"}},"Add Photo")),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(Xe.a,{label:"Project title",margin:"dense",fullWidth:!0,value:l,onChange:function(t){return e.setState({title:t.target.value})},required:!0})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(Xe.a,{label:"Approximate totla price",margin:"dense",fullWidth:!0,value:i,onChange:function(t){return e.setState({price:parseInt(t.target.value)})},required:!0,InputProps:{startAdornment:r.a.createElement(Sr.a,{position:"start",style:{marginBottom:5}},"$")}})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingRight:8}},r.a.createElement(Xe.a,{label:"Duration (optional)",margin:"dense",fullWidth:!0,value:m,onChange:function(t){return e.setState({duration:parseInt(t.target.value)})},InputProps:{endAdornment:r.a.createElement(rt.a,{style:{width:160},value:h,onChange:function(t){return e.setState({unit:t.target.value})}},ou.map(function(e){return r.a.createElement(tt.a,{value:e,key:e},e)}))}})),r.a.createElement(it.a,{item:!0,xs:6,style:{paddingLeft:8}},r.a.createElement(at.a,{fullWidth:!0,style:{marginTop:5}},r.a.createElement(et.a,{htmlFor:"past-project-year-select"},"Year"),r.a.createElement(rt.a,{id:"past-project-year-select",fullWidth:!0,value:g,onChange:function(t){return e.setState({year:t.target.value})},name:"services"},cu(1970,j+1).map(function(e){return r.a.createElement(tt.a,{value:e,key:e},e)})))),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Xe.a,{label:"Description (optional)",margin:"dense",fullWidth:!0,multiline:!0,value:f,onChange:function(t){return e.setState({desc:t.target.value})},required:!0})),r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(Q.a,{style:{fontSize:"0.75rem",color:"rgba(0,0,0,0.5)"}},"You can describe the goal, process, materials, equipment, or final result(255 characters max).")))),r.a.createElement(Cn.a,{style:{display:"flex",padding:24}},r.a.createElement(se.a,{onClick:this.handleSubmit,autoFocus:!0,className:a.submit,variant:"outlined"},x?"Update":"Save"),r.a.createElement(se.a,{onClick:this.handleCancel,variant:"outlined"},"Cancel"))))}}]),t}(r.a.Component),lu=Object(B.a)(function(e){return Object(z.a)({contents:{width:"100%",padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:0},title:{fontSize:"1.2rem",fontWeight:600},borderedBox:{border:"1px dashed rgba(0, 0, 0, 0.5)",padding:e.spacing(1),display:"flex"},addBox:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",flex:1,cursor:"pointer",border:"dashed 1px rgba(0, 0, 0, 0.5)"},addBtn:{color:e.palette.primary.dark},card:{padding:0,fontSize:"0.875rem",display:"flex",flex:1,flexDirection:"column",marginBottom:16},imageBox:{display:"flex",width:"100%",justifyContent:"space-between",flexWrap:"wrap",minHeight:48},imageItem:{width:128,height:128,border:"solid 1px rgba(0, 0, 0, 0.2)",display:"flex",marginBottom:e.spacing(1),justifyContent:"center",alignItems:"center"},button:{margin:"4px"},submit:{width:120,border:"1px solid #4a148c",color:"white",backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}},bold:{fontWeight:600},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}})})(su),iu=a(412),uu=a.n(iu),pu=a(413),du=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleBlur=function(){var e=Object(f.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.updateTitle(t,a.state.title);case 2:a.setState({editing:""});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(e){a.props.delete(e)},a.handleUpdate=function(e){1===e.length&&a.props.uploadPhoto(e[0])},a.addVideo=function(e){e.length>0&&a.props.uploadVideo(e)},a.state={title:"",editing:"",hover:"",videoURL:""},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.photos,o=t.videos,c=t.contId,s=this.state,l=s.title,i=s.editing,u=s.hover,p=s.videoURL,d=o.filter(function(e){return e.name.startsWith("https")&&e.name.includes("youtube")});return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:a.contents},r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(Q.a,{className:a.title},"Photos and Videos")),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",width:"100%"}},r.a.createElement(S.a,{style:{flex:1,marginRight:8}},r.a.createElement(Q.a,{style:{fontWeight:600}},"Upload Photos"),r.a.createElement(Q.a,{style:{fontSize:"0.875rem"}},"Add photos of your work(before and after), team, workspace, or equipment")),r.a.createElement(S.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(Ji,{filter:"image/*",btnId:"photos-upload-image",multiple:!1,className:a.submit,handleChange:this.handleUpdate},"Upload")))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{width:"100%"}},r.a.createElement(Q.a,{style:{fontWeight:600}},"Embed videos from YouTube or Vimeo"),r.a.createElement(Q.a,{style:{fontSize:"0.875rem"}},"Upload your video to one of those sites and paste the link here"),r.a.createElement(S.a,{style:{display:"flex",width:"100%"}},r.a.createElement(Ze.a,{style:{flex:1,marginTop:4,marginRight:8},placeholder:"Enter URL or embed code",value:p,onChange:function(t){return e.setState({videoURL:t.target.value})}}),r.a.createElement(S.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(se.a,{className:a.submit,onClick:function(){return e.addVideo(p)}},"Add"))))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",width:"100%"}},n.map(function(t,a){return r.a.createElement(q.a,{key:a,onMouseEnter:function(){return e.setState({hover:t.id})},onMouseLeave:function(){return e.setState({hover:""})},style:{width:256,height:256,boxShadow:"none",display:"flex"}},r.a.createElement(xi.a,{style:{padding:0,fontSize:"0.875rem",display:"flex",flex:1,flexDirection:"column",marginBottom:16}},r.a.createElement(S.a,{style:{flex:1,position:"relative"}},r.a.createElement("img",{alt:t.name,style:{width:256,height:208},src:"".concat("https://bcbe-service.herokuapp.com/","/contractors/").concat(c,"/files/").concat(t.name)}),u===t.id&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(){return e.handleDelete(t.id)}},r.a.createElement(Da.a,null))),r.a.createElement(Ze.a,{placeholder:"Title here",style:{marginTop:8},value:i===t.id?l:t.note?decodeURIComponent(t.note).replace(/\+/g," "):"",onBlur:function(){return e.handleBlur(t.id)},onFocus:function(){return e.setState({title:t.note?decodeURIComponent(t.note).replace(/\+/g," "):"",editing:t.id})},onChange:function(t){return e.setState({title:t.target.value})}})))}),d.map(function(t,a){return r.a.createElement(q.a,{key:a,onMouseEnter:function(){return e.setState({hover:t.id})},onMouseLeave:function(){return e.setState({hover:""})},style:{width:256,height:256,boxShadow:"none",display:"flex"}},r.a.createElement(xi.a,{style:{padding:0,fontSize:"0.875rem",display:"flex",flex:1,flexDirection:"column",marginBottom:16}},r.a.createElement(S.a,{style:{flex:1,position:"relative"}},r.a.createElement(pu.a,{videoId:uu.a.parse(new URL(decodeURIComponent(t.name)).search).v,opts:{width:256,height:208}}),u===t.id&&r.a.createElement(F.a,{style:{position:"absolute",right:0,top:0},color:"primary",onClick:function(){return e.handleDelete(t.id)}},r.a.createElement(Da.a,null))),r.a.createElement(Ze.a,{placeholder:"Title here",style:{marginTop:8},value:i===t.id?l:t.note?decodeURIComponent(t.note).replace(/\+/g," "):"",onBlur:function(){return e.handleBlur(t.id)},onFocus:function(){return e.setState({title:t.note?decodeURIComponent(t.note).replace(/\+/g," "):"",editing:t.id})},onChange:function(t){return e.setState({title:t.target.value})}})))}))))))}}]),t}(r.a.Component),mu=Object(B.a)(function(e){return Object(z.a)({contents:{width:"100%",borderRadius:"0",marginBottom:e.spacing(2),padding:e.spacing(2)},title:{fontSize:"1.2rem",fontWeight:600},borderedBox:{border:"1px dashed rgba(0, 0, 0, 0.5)",padding:e.spacing(1),display:"flex"},addBox:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",flex:1,cursor:"pointer",border:"dashed 1px rgba(0, 0, 0, 0.5)"},addBtn:{color:e.palette.primary.dark},imageBox:{display:"flex",width:"100%",justifyContent:"space-between",flexWrap:"wrap",minHeight:48},imageItem:{width:128,height:128,border:"solid 1px rgba(0, 0, 0, 0.2)",display:"flex",marginBottom:e.spacing(1),justifyContent:"center",alignItems:"center"},button:{margin:"4px"},submit:{border:"1px solid #4a148c",color:"white",backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}},bold:{fontWeight:600},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}})})(du),gu=a(132),hu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).startEdit=function(){var e=a.props.links,t=e.filter(function(e){return"FACEBOOK"===e.type}),n=e.filter(function(e){return"INSTAGRAM"===e.type}),r=e.filter(function(e){return"TWITTER"===e.type}),o=t.length>0?decodeURIComponent(t[0].name):"",c=n.length>0?decodeURIComponent(n[0].name):"",s=r.length>0?decodeURIComponent(r[0].name):"";a.setState({edit:!0,facebook:o,instagram:c,twitter:s,fbError:void 0,insError:void 0,twError:void 0})},a.endEdit=function(){a.setState({edit:!1})},a.handleSubmit=function(){var e=a.state,t=e.facebook,n=e.instagram,r=e.twitter,o=void 0,c=void 0,s=void 0;t&&!t.includes("facebook.com/")&&(o="Invalid URL"),n&&!n.includes("instagram.com/")&&(c="Invalid URL"),r&&!r.includes("twitter.com/")&&(s="Invalid URL"),o||c||s?a.setState({fbError:o,insError:c,twError:s}):(a.props.handleSubmit(t,n,r),a.setState({edit:!1}))},a.goLink=function(e){e.length>0&&window.open(e,"_blank")},a.state={edit:!1,facebook:"",fbError:void 0,instagram:"",insError:void 0,twitter:"",twError:void 0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.links,o=this.state,c=o.facebook,s=o.instagram,l=o.twitter,i=o.edit,u=o.twError,p=o.insError,d=o.fbError,m=n.filter(function(e){return"FACEBOOK"===e.type}),g=n.filter(function(e){return"INSTAGRAM"===e.type}),h=n.filter(function(e){return"TWITTER"===e.type}),f=m.length>0?decodeURIComponent(m[0].name):"",b=g.length>0?decodeURIComponent(g[0].name):"",v=h.length>0?decodeURIComponent(h[0].name):"";return r.a.createElement(q.a,{className:a.container},!i&&r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",width:"100%",alignItems:"center"}},r.a.createElement(Q.a,{className:a.title,style:{flex:1}},"Social Media"),r.a.createElement(Gr.a,{onClick:this.startEdit,className:a.link},"Edit"))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{width:"100%",display:"flex",justifyContent:"space-between"}},r.a.createElement(se.a,{color:"primary",onClick:function(){return e.goLink(f)},disabled:0===f.length},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20},network:"facebook"}),"\xa0\xa0\xa0Facebook"),r.a.createElement(se.a,{color:"primary",onClick:function(){return e.goLink(b)},disabled:0===b.length},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20},network:"instagram"}),"\xa0\xa0\xa0Instagram"),r.a.createElement(se.a,{color:"primary",onClick:function(){return e.goLink(v)},disabled:0===v.length},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20},network:"twitter"}),"\xa0\xa0\xa0Twitter")))),i&&r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",alignItems:"center",width:"100%"}},r.a.createElement(Q.a,{className:a.title,style:{flex:1}},"Social Media"),r.a.createElement(Gr.a,{onClick:this.handleSubmit,className:a.link},"Save"),r.a.createElement(Gr.a,{onClick:this.endEdit,className:a.link,style:{paddingLeft:12,color:"red"}},"Cancel"))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{width:"100%"}},r.a.createElement(et.a,{style:{display:"block"}},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20,marginBottom:4,fontSize:"0.875rem"},network:"facebook"}),"\xa0\xa0\xa0Facebook"),r.a.createElement(Ze.a,{placeholder:"Enter Facebook URL",margin:"dense",fullWidth:!0,value:c,style:{marginBottom:16},onChange:function(t){return e.setState({facebook:t.target.value,fbError:void 0})}}),!!d&&r.a.createElement(et.a,{className:a.error},d))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{width:"100%"}},r.a.createElement(et.a,{style:{display:"block"}},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20,marginBottom:4,fontSize:"0.875rem"},network:"instagram"}),"\xa0\xa0\xa0Instagram"),r.a.createElement(Ze.a,{placeholder:"Enter Instagram URL",margin:"dense",fullWidth:!0,value:s,style:{marginBottom:16},onChange:function(t){return e.setState({instagram:t.target.value,insError:void 0})}}),!!p&&r.a.createElement(et.a,{className:a.error},p))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{width:"100%"}},r.a.createElement(et.a,{style:{display:"block"}},r.a.createElement(gu.SocialIcon,{style:{width:20,height:20,marginBottom:4,fontSize:"0.875rem"},network:"twitter"}),"\xa0\xa0\xa0Twitter"),r.a.createElement(Ze.a,{placeholder:"Enter Twitter URL",margin:"dense",fullWidth:!0,value:l,style:{marginBottom:16},onChange:function(t){return e.setState({twitter:t.target.value,twError:void 0})}}),!!u&&r.a.createElement(et.a,{className:a.error},u)))))}}]),t}(r.a.Component),fu=Object(B.a)(function(e){return Object(z.a)({container:{width:"100%",borderRadius:"0",marginBottom:e.spacing(2),padding:e.spacing(2)},title:{fontSize:"1.2rem",fontWeight:600},button:{margin:"4px"},link:{fontSize:"0.875rem",fontWeight:600,color:"blue",cursor:"pointer"},error:{color:"red",fontSize:"0.75rem",margin:e.spacing(-1.5,1,0)},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}})})(hu),bu=Object(B.a)({root:{backgroundColor:"white"}})($.a),vu=Object(B.a)({root:{fontSize:"0.875rem",color:"rgba(0,0,0,0.87)",fontWeight:500}})(Be.a),Eu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).closeConfirmDialog=function(){a.setState({showConfirmDlg:!1})},a.handleDelete=function(e){a.setState({showConfirmDlg:!0,idToDel:e,onYes:a.deleteSpecialty,confirmMessage:"Do you really want to delete specialty?"})},a.deleteSpecialty=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.handleDelete(a.state.idToDel);case 2:t=e.sent,a.setState({showConfirmDlg:!1,specs:t.contractorSpecialties.map(function(e){return e.specialty.name})});case 4:case"end":return e.stop()}},e)})),a.selectChange=function(e){a.setState({specs:e})},a.deleteSelect=function(e){var t=a.state.specs,n=t.indexOf(e);n>=0&&(t.splice(n,1),a.setState({specs:Object(Ke.a)(t)}))},a.saveSpecialty=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.handleSave(a.state.specs),a.setState({showConfirmDlg:!1});case 2:case"end":return e.stop()}},e)})),a.trySave=function(){a.setState({showConfirmDlg:!0,onYes:a.saveSpecialty,confirmMessage:"Do you really want to change your specialty?"})},a.state={showConfirmDlg:!1,confirmMessage:"",onYes:a.deleteSpecialty,idToDel:"",specs:e.contractor.contractorSpecialties.map(function(e){return e.specialty.name}),suggestions:e.specialties.content.map(function(e){return{id:e.id,name:e.name}})},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.contractor,o=this.state,c=o.suggestions,s=o.specs,l=o.confirmMessage,i=o.showConfirmDlg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:a.container},r.a.createElement(J.a,{className:a.relative},r.a.createElement(bu,null,r.a.createElement(X.a,null,r.a.createElement(vu,{align:"center"},"Name"),r.a.createElement(vu,{align:"center"},"Value"),r.a.createElement(vu,{align:"center"},"Description"),r.a.createElement(vu,{align:"center"},"Action"))),r.a.createElement(Y.a,null,n.contractorSpecialties.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0},r.a.createElement(Be.a,{component:"th",scope:"row",align:"center"},t.specialty.name),r.a.createElement(Be.a,{align:"center"},t.specialty.value),r.a.createElement(Be.a,{align:"center"},t.specialty.description),r.a.createElement(Be.a,{align:"center"},r.a.createElement(F.a,{className:a.button,"aria-label":"Delete",color:"primary",onClick:function(){return e.handleDelete(t.specialty.id)}},r.a.createElement(Da.a,{fontSize:"small"}))))}))),r.a.createElement(en.a,null,r.a.createElement(tn.a,null,r.a.createElement(Q.a,{className:a.title},"Select your specialties")),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex",width:"100%"}},r.a.createElement(S.a,{style:{flex:1,marginRight:16}},r.a.createElement(lt,{className:a.select,placeholder:"Select multiple specialties",suggestions:c,values:s,selectChange:this.selectChange})),r.a.createElement(S.a,{style:{display:"flex",justifyContent:"center",alignItems:"flex-end"}},r.a.createElement(De,{variant:"contained",color:"primary",className:a.button,onClick:this.saveSpecialty},"Save")))),r.a.createElement(tn.a,null,r.a.createElement(S.a,{style:{display:"flex"}},s.map(function(t,n){return r.a.createElement(ut.a,{key:n,label:t,className:a.chip,onDelete:function(){return e.deleteSelect(t)}})}))))),r.a.createElement(Sn.a,{open:i,onClose:this.closeConfirmDialog,"aria-labelledby":"alert-dialog-title"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},"Confirm"),r.a.createElement(kn.a,{className:a.relative},r.a.createElement(Pn.a,{id:"alert-dialog-description"},l)),r.a.createElement(Cn.a,null,r.a.createElement(De,{onClick:this.closeConfirmDialog,autoFocus:!0},"Cancel"),r.a.createElement(De,{onClick:this.state.onYes,color:"primary"},"Yes"))))}}]),t}(r.a.Component),yu=Object(B.a)(function(e){return Object(z.a)({container:{width:"100%",padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:"0"},subContents:{width:"100%",overflow:"auto",margin:e.spacing(1,0)},title:{fontSize:"1.2rem",fontWeight:600},select:{width:"100%"},chip:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}})})(Eu),xu=a(416),ju=a.n(xu),wu=Object(Qe.a)(function(e){return Object(z.a)({container:{width:"100%",padding:e.spacing(2),marginBottom:e.spacing(2),borderRadius:0},title:{fontSize:"1.2rem",fontWeight:600},flex:{display:"flex"},button:{width:160,border:"1px solid #4a148c",color:"white",margin:"auto",textDecoration:"underline",backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}},link:{fontSize:"0.875rem",fontWeight:600,color:"blue",cursor:"pointer"},add:{color:e.palette.primary.dark},bold:{fontWeight:600},avatar:{margin:"auto",width:48,height:48}})}),Ou=function(e){var t=wu({}),a=e.askReview,r=e.review,o=r.reviews,c=[5,4,3,2,1],s=[r.fiveStarRating,r.fourStarRating,r.threeStarRating,r.twoStarRating,r.oneStarRating],l=[0,0,0,0,0],i=0;return o>0&&(l=s.map(function(e){return 100*e/o}),i=s.reduce(function(e,t,a){return e+t*(5-a)},0)/o),n.createElement(q.a,{className:t.container},n.createElement(en.a,null,n.createElement(tn.a,null,n.createElement(S.a,{style:{display:"flex",width:"100%",alignItems:"center"}},n.createElement(Q.a,{className:t.title,style:{flex:1}},"Reviews"))),n.createElement(tn.a,null,n.createElement(S.a,{className:t.flex},n.createElement(S.a,{style:{display:"flex",flexDirection:"column",marginRight:32}},n.createElement(Q.a,{style:{fontSize:"1.125rem",fontWeight:600,padding:"8px 4px"}},i.toFixed(1)),n.createElement(Pi.a,{precision:.1,value:i,readOnly:!0,style:{padding:"0 0 8px"}}),n.createElement(Q.a,null,"".concat(o," reviews"))),n.createElement(S.a,{style:{display:"flex",flexDirection:"column"}},!!c&&c.map(function(e,t){return n.createElement(S.a,{style:{display:"flex"},key:t},n.createElement(Q.a,{component:"span",style:{marginRight:8}},e),n.createElement(Pi.a,{precision:.1,value:s[t],readOnly:!0,size:"small"}),n.createElement(Q.a,{component:"span",style:{marginLeft:8}},"".concat(l[t].toFixed(0)," %")))})))),n.createElement(an.a,null),n.createElement(tn.a,null,n.createElement(S.a,{className:t.flex},n.createElement(ju.a,{style:{padding:"16px 0",fontSize:64}}),n.createElement(S.a,{id:"review-description",style:{flex:1,padding:8}},n.createElement(Q.a,{style:{fontWeight:600}},"Get reviews from past customers, even if they're not on Thumbtack."),n.createElement(Q.a,{style:{fontSize:"0.875rem"}},"Tell us which customers to ask for a review, and we'll send the request for you.")),n.createElement(S.a,{id:"review-button"},n.createElement(se.a,{className:t.button,style:{marginTop:8},onClick:a},"Ask for Reviews"))))))},Su=Object(Qe.a)(function(e){return Object(z.a)({title:{fontSize:"1.2rem",fontWeight:600},flex:{display:"flex"},button:{width:160,border:"1px solid #4a148c",color:"white",margin:"auto",textDecoration:"underline",backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.primary.dark},"&:disabled":{backgroundColor:"#4a148c"}},link:{fontSize:"0.875rem",fontWeight:600,color:"blue",cursor:"pointer"},add:{color:e.palette.primary.dark},bold:{fontWeight:600},avatar:{margin:"auto",width:48,height:48}})}),Cu=function(e){var t=e.contId,a=e.company,r=e.show,o=e.hide,c=e.askReview,s=bt.getAvatar(t),l=n.useState([""]),i=Object(O.a)(l,2),u=i[0],p=i[1],d=n.useState(5),m=Object(O.a)(d,2),g=m[0],b=m[1],v=n.useState("Thanks for being a valued customer. I just signed up on find more excellent customers like you, and reviews are a big part of my profile. Can you take a moment to write a couple of sentences about working with me? I'd love if my future customers could hear about your experience firsthand. \r\nThanks, ".concat(a)),E=Object(O.a)(v,2),y=E[0],x=E[1],j=function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=u.filter(function(e){return e.length>0})).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c(t);case 5:e.sent&&p([""]);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(e,t){u[e]=t,p(Object(Ke.a)(u))},C=Su({});return n.createElement(Sn.a,{open:r,onClose:function(){p([""]),o()}},n.createElement(Nn.a,{id:"review-dialog-title"},n.createElement(Q.a,{className:C.title},"Get reviews from past customers"),n.createElement(Q.a,null,"Ask past customers for reviews, or add online reviews you already have.",n.createElement("br",null),"You can show up to 10 reviews from previous customers.")),n.createElement(kn.a,null,n.createElement(S.a,null,n.createElement(Q.a,{className:C.bold},"Send past customers an email"),n.createElement(Xe.a,{label:"Email 1",margin:"dense",fullWidth:!0,value:u[0],onChange:function(e){return w(0,e.target.value)},required:!0}),u.length>0&&u.slice(1).map(function(e,t){return n.createElement(S.a,{style:{display:"flex"},key:t},n.createElement(Xe.a,{label:"Email ".concat(t+2),margin:"dense",fullWidth:!0,value:u[t+1],onChange:function(e){return w(t+1,e.target.value)},required:!0}),n.createElement(F.a,{onClick:function(){return e=t+1,void p([].concat(Object(Ke.a)(u.slice(0,e)),Object(Ke.a)(u.slice(e+1))));var e},style:{height:37,margin:10}},n.createElement(Da.a,{fontSize:"small",color:"error"})))}),n.createElement(se.a,{onClick:function(){p([].concat(Object(Ke.a)(u),[""]))},className:C.add},n.createElement(au.a,null),"\xa0\xa0",n.createElement("span",null,"Add customer"))),n.createElement(S.a,{id:"email-preview",style:{padding:"16px 0"}},n.createElement(Q.a,{className:C.bold},"Email preview"),n.createElement(S.a,{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},n.createElement(Eo.a,{alt:"Avatar",src:s,className:C.avatar,style:{margin:"8px 0"}}),n.createElement(Q.a,{className:C.bold,style:{fontSize:"0.875rem"}},a),n.createElement(Pi.a,{precision:.1,value:g,size:"medium",onChange:function(e,t){return b(t)},style:{margin:8}}),n.createElement(Xe.a,{fullWidth:!0,multiline:!0,value:y,onChange:function(e){return x(e.target.value)},style:{textAlign:"left"}})))),n.createElement(Cn.a,{style:{display:"flex",padding:24}},n.createElement(S.a,{style:{flex:1}},n.createElement(se.a,{onClick:j,autoFocus:!0,className:C.button},"Send Request")),n.createElement(se.a,{onClick:function(){console.log("Get shareable link: ")},color:"primary"},"Get shareable link")))};function ku(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Pu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ku(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ku(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Nu=function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleSave=Object(f.a)(h.a.mark(function e(){var t,n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.userProfile,r=t.showMessage,a.setState({isBusy:!0}),e.prev=2,o=n.user_metadata.contractor_id,c=n.email,e.next=7,bt.update(o,c,c,a.state.profile.address);case 7:return s={user_metadata:{firstname:a.state.profile.firstname,lastname:a.state.profile.lastname}},e.next=10,R.updateProfile(s);case 10:l=e.sent,a.props.setUserProfile(l),r(!0,"Profile saved"),a.setState({isBusy:!1,editing:0}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),console.log("ProfileView.handleSave: ",e.t0),r(!1,"Profile save failed"),a.setState({isBusy:!1});case 21:case"end":return e.stop()}},e,null,[[2,16]])})),a.handleChange=function(e){return function(t){a.setState({profile:Pu({},a.state.profile,Object(G.a)({},e,t))})}},a.uploadPicture=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,a.setState({isBusy:!0}),e.prev=2,c=r.user_metadata.contractor_id,e.next=6,bt.uploadAvatar(c,t);case 6:return s=bt.getAvatar(c),a.setState({isBusy:!1}),e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(2),console.log("ProfileView.uploadPicture: ",e.t0),a.setState({isBusy:!1}),o(!1,"Upload avatar failed"),e.abrupt("return","");case 17:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),a.uploadLicense=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r,o){var c,s,l,i,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.props,s=c.userProfile,l=c.getLicenses,i=c.showMessage,a.setState({isBusy:!0}),e.prev=2,u=s.user_metadata.contractor_id,e.next=6,bt.uploadLicense(u,o,t,n,r);case 6:return e.next=8,l(u);case 8:i(!0,"License uploaded"),a.setState({isBusy:!1}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ProfileLicensesView.handleSubmit: ",e.t0),i(!1,"License upload failed"),a.setState({isBusy:!1});case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.deleteLicense=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.getLicenses,c=n.showMessage,a.setState({isBusy:!0}),e.prev=2,s=r.user_metadata.contractor_id,e.next=6,bt.deleteFile(s,t);case 6:return e.next=8,o(s);case 8:c(!0,"License deleted"),a.setState({isBusy:!1}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ProfileLicensesView.handleSubmit: ",e.t0),c(!1,"License delete failed"),a.setState({isBusy:!1});case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.uploadProject=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r,o,c,s,l,i,u){var p,d,m,g,f,b,v;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=0,p=s.startsWith("day")?c:s.startsWith("week")?7*c:30*c,d=a.props,m=d.userProfile,g=d.showMessage,f=d.getPastProjects,a.setState({isBusy:!0}),e.prev=4,b=m.user_metadata.contractor_id,e.next=8,bt.uploadPastProject(b,t,i,n,l,p,o);case 8:return v=e.sent,e.next=11,Ht.addFiles(v.id,u);case 11:return e.next=13,f(b);case 13:a.setState({isBusy:!1}),g(!0,"Project uploaded"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("ProfileView.uploadProject: ",e.t0),a.setState({isBusy:!1}),g(!1,"Project upload failed");case 22:case"end":return e.stop()}},e,null,[[4,17]])}));return function(t,a,n,r,o,c,s,l,i){return e.apply(this,arguments)}}(),a.refreshProject=Object(f.a)(h.a.mark(function e(){var t,n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.userProfile,r=t.getPastProjects,a.setState({isBusy:!0}),e.prev=2,o=n.user_metadata.contractor_id,e.next=6,r(o);case 6:a.setState({isBusy:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("ProfileView.uploadProject: ",e.t0),a.setState({isBusy:!1});case 13:case"end":return e.stop()}},e,null,[[2,9]])})),a.updateProject=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r,o,c,s,l,i,u){var p,d,m,g,f,b;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=0,p=l.startsWith("day")?s:l.startsWith("week")?7*s:30*s,d=a.props,m=d.userProfile,g=d.showMessage,f=d.getPastProjects,a.setState({isBusy:!0}),e.prev=4,b=m.user_metadata.contractor_id,e.next=8,Ht.update(t,{title:n,description:u,budget:r,year:i,duration:p});case 8:return e.next=10,f(b);case 10:a.setState({isBusy:!1}),g(!0,"Project updated"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("ProfileView.updateProject: ",e.t0),a.setState({isBusy:!1}),g(!1,"Project update failed");case 19:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,a,n,r,o,c,s,l,i){return e.apply(this,arguments)}}(),a.deleteProject=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,c=n.getPastProjects,a.setState({isBusy:!0}),e.prev=2,s=r.user_metadata.contractor_id,e.next=6,Ht.delete(t);case 6:return e.next=8,c(s);case 8:a.setState({isBusy:!1}),o(!0,"Project deleted"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ProfileView.deleteProject: ",e.t0),a.setState({isBusy:!1}),o(!1,"Project delete failed");case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.addFileToProject=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.showMessage,a.setState({isBusy:!0}),e.prev=2,e.next=5,Ht.addFiles(t,[n]);case 5:a.setState({isBusy:!1}),r(!0,"File added"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("ProfileView.addFileToProject: ",e.t0),a.setState({isBusy:!1}),r(!1,"File add failed");case 14:return o=Ht.getFiles(t),e.abrupt("return",o);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}(),a.deleteFileFromProject=function(){var e=Object(f.a)(h.a.mark(function e(t,n){var r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.showMessage,a.setState({isBusy:!0}),e.prev=2,e.next=5,Ht.deleteFile(t,n);case 5:a.setState({isBusy:!1}),r(!0,"File deleted"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("ProfileView.deleteFileFromProject: ",e.t0),a.setState({isBusy:!1}),r(!1,"File delete failed");case 14:return o=Ht.getFiles(t),e.abrupt("return",o);case 16:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}(),a.uploadPhoto=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,c=n.getPhotos,a.setState({isBusy:!0}),e.prev=2,s=r.user_metadata.contractor_id,e.next=6,bt.uploadPhoto(s,t);case 6:return e.next=8,c(s);case 8:o(!0,"Photo uploaded"),a.setState({isBusy:!1}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ProfileView.uploadPhoto: ",e.t0),o(!1,"Photo upload failed"),a.setState({isBusy:!1});case 17:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.uploadVideo=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ProfileView.uploadVideo: "),n=a.props,r=n.userProfile,o=n.showMessage,c=n.getLinks,a.setState({isBusy:!0}),e.prev=3,s=r.user_metadata.contractor_id,e.next=7,bt.addLink(s,t);case 7:return e.next=9,c(s);case 9:o(!0,"Link added"),a.setState({isBusy:!1}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("ProfileView.uploadVideo: ",e.t0),o(!1,"Add Link failed"),a.setState({isBusy:!1});case 18:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),a.updateTitle=function(){var e=Object(f.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&0!==n.length){e.next=2;break}return e.abrupt("return");case 2:return a.setState({isBusy:!0}),e.prev=3,e.next=6,bt.updateTitle(t,n);case 6:return e.next=8,a.props.getPhotos(a.props.userProfile.user_metadata.contractor_id);case 8:a.setState({isBusy:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("ProfileView.updateTitle: ",e.t0),a.setState({isBusy:!1});case 15:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}(),a.deletePV=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,c=n.getPhotos,s=n.getLinks,a.setState({isBusy:!0}),e.prev=2,l=r.user_metadata.contractor_id,e.next=6,bt.deleteFile(l,t);case 6:return e.next=8,c(l);case 8:return e.next=10,s(l);case 10:o(!0,"Photo deleted"),a.setState({isBusy:!1}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("ProfileView.deletePV: ",e.t0),o(!1,"Photo delete failed"),a.setState({isBusy:!1});case 19:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.saveSocial=function(){var e=Object(f.a)(h.a.mark(function e(t,n,r){var o,c,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.props,c=o.userProfile,s=o.showMessage,l=o.getLinks,a.setState({isBusy:!0}),e.prev=2,i=c.user_metadata.contractor_id,e.t0=!!t,!e.t0){e.next=8;break}return e.next=8,bt.addLink(i,t,"FACEBOOK");case 8:if(e.t1=!!n,!e.t1){e.next=12;break}return e.next=12,bt.addLink(i,n,"INSTAGRAM");case 12:if(e.t2=!!r,!e.t2){e.next=16;break}return e.next=16,bt.addLink(i,r,"TWITTER");case 16:return e.next=18,l(i);case 18:s(!0,"Link added"),a.setState({isBusy:!1}),e.next=27;break;case 22:e.prev=22,e.t3=e.catch(2),console.log("ProfileView.saveSocial: ",e.t3),s(!1,"Add Link failed"),a.setState({isBusy:!1});case 27:case"end":return e.stop()}},e,null,[[2,22]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.deleteSpecialty=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,c=n.selectContractor,a.setState({isBusy:!0}),e.prev=2,s=r.user_metadata.contractor_id,e.next=6,bt.deleteSpecialty(s,t);case 6:return e.next=8,c(s);case 8:return l=e.sent,a.setState({isBusy:!1}),o(!0,"Specialty deleted"),e.abrupt("return",l);case 14:e.prev=14,e.t0=e.catch(2),console.log("ProfileView.deleteSpecialty: ",e.t0),a.setState({isBusy:!1}),o(!1,"Specialty delete failed");case 19:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),a.saveSpecialty=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c,s,l,i,u,p,d,m,g,f,b;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.props,r=n.userProfile,o=n.showMessage,c=n.contractor,s=n.specialties,l=n.selectContractor,i=c.contractorSpecialties,u=r.user_metadata.contractor_id,a.setState({isBusy:!0}),e.prev=4,p=i.filter(function(e){return t.indexOf(e.specialty.name)<0}),d=s.content.filter(function(e){return t.indexOf(e.name)>=0&&i.every(function(t){return e.id!==t.specialty.id})}),m=[],g=0;g<p.length;g++)m.push(bt.deleteSpecialty(u,p[g].specialty.id));for(f=0;f<d.length;f++)m.push(bt.addSpecialty(u,d[f].id));b=0;case 11:if(!(b<m.length)){e.next=17;break}return e.next=14,m[b];case 14:b++,e.next=11;break;case 17:return e.next=19,l(u);case 19:a.setState({isBusy:!1}),o(!0,"Specialties saved"),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(4),console.log("ProfileView.saveSpecialty: ",e.t0),a.setState({isBusy:!1}),o(!1,"Specialties save failed");case 28:case"end":return e.stop()}},e,null,[[4,23]])}));return function(t){return e.apply(this,arguments)}}(),a.openReview=function(){a.setState({showReview:!0})},a.hideReview=function(){a.setState({showReview:!1})},a.reqReview=function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.userProfile,o=n.showMessage,c=r.user_metadata.contractor_id,a.setState({isBusy:!0}),e.prev=3,e.next=6,bt.requestReview(c,t);case 6:return a.setState({isBusy:!1,showReview:!1}),o(!0,"Request sent"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),console.log("ProfileView.reqReview: ",e.t0),a.setState({isBusy:!1}),o(!1,"Request failed"),e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}();var n=e.userProfile.user_metadata.contractor_id;return a.state={profile:{firstname:e.userProfile.user_metadata.firstname,lastname:e.userProfile.user_metadata.lastname,picture:bt.getAvatar(n),email:e.userProfile.email,status:e.contractor.status,address:e.contractor.address||{name:"",city:"",street:"",phone:"",company:"",website:"",founded:"",employees:""}},editing:0,isBusy:!1,showReview:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.profile,r=t.editing,o=t.isBusy,c=t.showReview,s=this.props,l=s.classes,i=s.userProfile,u=s.specialties,p=s.pastProjects,d=s.photos,m=s.links,g=s.license,h=s.contractor,f=s.review,b=i.user_metadata.contractor_id;return a?n.createElement(S.a,{className:l.root},n.createElement(S.a,{className:l.contents},0===r&&n.createElement(qi,{profile:a,review:f,gotoEditView:function(){return e.setState({editing:1})},gotoReview:this.openReview}),1===r&&n.createElement(Ki,{gotoOverview:function(){return e.setState({editing:0})},profile:a,handleSave:this.handleSave,handleChange:this.handleChange,uploadPicture:this.uploadPicture}),n.createElement(Ou,{review:f,askReview:this.openReview}),n.createElement(eu,{contId:b,licenses:g,handleSubmit:this.uploadLicense,delete:this.deleteLicense}),n.createElement(lu,{addProject:this.uploadProject,deleteProject:this.deleteProject,updateProject:this.updateProject,addFile:this.addFileToProject,deleteFile:this.deleteFileFromProject,refresh:this.refreshProject,specialties:u,pastProjects:p,contId:b}),n.createElement(mu,{contId:b,photos:d,videos:m,uploadPhoto:this.uploadPhoto,uploadVideo:this.uploadVideo,updateTitle:this.updateTitle,delete:this.deletePV}),n.createElement(fu,{handleSubmit:this.saveSocial,links:m}),n.createElement(yu,{handleDelete:this.deleteSpecialty,handleSave:this.saveSpecialty,contractor:h,specialties:u})),n.createElement(Cu,{contId:b,company:h.address?h.address.company:"",show:c,hide:this.hideReview,askReview:this.reqReview}),o&&n.createElement(U.a,{className:l.center})):n.createElement(S.a,{className:l.root},n.createElement(U.a,{className:l.center}))}}]),t}(n.Component),Du={setUserProfile:qa,selectContractor:Bt,getPastProjects:At,getPhotos:Tt,getLinks:_t,getLicenses:Rt,setSelectedContractor:Pt},Bu=Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,specialties:e.cont_data.specialties,pastProjects:e.cont_data.pastProjects,contractor:e.cont_data.selectedContractor,photos:e.cont_data.photos,links:e.cont_data.links,review:e.cont_data.review,license:e.cont_data.license}},Du)(Object(B.a)(function(e){return Object(z.a)({root:{position:"relative",height:"calc(100vh - 64px)",overflowY:"auto",padding:e.spacing(1,0)},contents:Object(G.a)({width:"400px",margin:"auto",display:"flex",flexDirection:"column",padding:e.spacing(2),borderRadius:0},e.breakpoints.up("xs"),{width:"640px"}),center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"fixed"}})})(Pr(Nu))),Au=Object(z.a)(function(e){return{root:{flex:1,flexDirection:"column",display:"flex",position:"relative",overflow:"auto"},contents:{display:"flex",flexDirection:"column",flex:1},center:{left:"calc(50% - 20px)",top:"calc(50% - 20px)",position:"absolute"}}}),Mu=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r,o,c,s,l,i,u,p,d;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.userProfile,n=t.selectContractor,r=t.contractor,o=t.getSpecialties,c=t.getPastProjects,s=t.getLinks,l=t.getPhotos,i=t.getReviews,u=t.getLicenses,p=a.user_metadata.contractor_id,!r){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,(d=[]).push(o(0,20)),d.push(n(p)),d.push(c(p)),d.push(l(p)),d.push(s(p)),d.push(i(p)),d.push(u(p)),e.next=15,Promise.all(d);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log("ProfileOverview.CDM: ",e.t0);case 20:case"end":return e.stop()}},e,this,[[4,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.contractor,n=e.specialties,o=e.pastProjects;return a&&n&&o?r.a.createElement(S.a,{className:t.root},r.a.createElement(j.d,null,r.a.createElement(L,{path:"/profile/review",component:Ou}),r.a.createElement(L,{exact:!0,path:"/profile",component:Bu}))):r.a.createElement(S.a,{className:t.root},r.a.createElement(U.a,{className:t.center}))}}]),t}(r.a.Component),Tu={setUserProfile:qa,selectContractor:Bt,getSpecialties:Lt,getPastProjects:At,getPhotos:Tt,getLinks:_t,getReviews:function(e){return function(t){return bt.getReviews(e).then(function(e){t(function(e){return{type:"PROFILE_REVIEW_LOADED",payload:e}}(e))})}},getLicenses:Rt},_u=Object(B.a)(Au)(Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractor:e.cont_data.selectedContractor,specialties:e.cont_data.specialties,pastProjects:e.cont_data.pastProjects}},Tu)(Mu)),Ru=Object(z.a)(function(e){return{root:{flexGrow:1},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},cursor:"pointer"},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(1,2)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},btnSearchWrapper:{textAlign:"end",alignSelf:"center"}}}),Lu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectRef=void 0,a.handleChangePage=function(e,t){a.setState({currentPage1:t}),a.props.getContractors(t,a.state.rowsPerPage1)},a.handleChangeRowsPerPage=function(e){var t=a.props.contractors,n=e.target.value,r=n>=t.totalElements?0:a.state.currentPage;a.setState({rowsPerPage:n,currentPage:r}),a.props.getContractors(r,n)},a.handleSearch=function(e,t,n){n&&n.length>0?a.props.searchContractors(e,t,n):a.props.getContractors(0,20)},a.rowSelected=function(e){a.props.history.push("/b_list/contractor_detail/"+e)},a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",order:"desc",rowsPerPage1:null,currentPage1:null,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a.selectRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getContractors(0,20);case 2:this.props.getSpecialties();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.specialties,o=t.contractors,c=n?n.content.map(function(e){return{id:e.id,name:e.name}}):[];return o?r.a.createElement(S.a,{className:a.root},r.a.createElement(dt,{search:this.handleSearch,suggestions:c||[]}),r.a.createElement(J.a,null,r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,null," Logo "),r.a.createElement(Ae,{align:"center"},"Name"),r.a.createElement(Ae,{align:"center"},"Email"),r.a.createElement(Ae,{align:"center"},"Rating"),r.a.createElement(Ae,{align:"center"},"Other"))),r.a.createElement(Y.a,null,o.content&&o.content.map(function(t){return r.a.createElement(X.a,{className:a.row,key:t.id,hover:!0,onClick:function(){return e.rowSelected(t.id)}},r.a.createElement(Ae,{component:"th",scope:"row"}),r.a.createElement(Ae,{align:"center"},t.address?t.address.name:"N/A"),r.a.createElement(Ae,{align:"center"},t.email?t.email:"N/A"),r.a.createElement(Ae,{align:"center"}),r.a.createElement(Ae,{align:"center"}))}))),o.content&&r.a.createElement(K.a,{style:{overflow:"auto"},rowsPerPageOptions:[5,10,20],component:"div",count:o.content.length,rowsPerPage:this.state.rowsPerPage,page:this.state.currentPage,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}),r.a.createElement($e,{open:this.state.showMessage,variant:this.state.variant,message:this.state.message,handleClose:this.state.handleClose})):r.a.createElement(U.a,{className:a.waitingSpin})}}]),t}(r.a.Component),Iu={getContractors:Mt,selectContractor:Bt,getSpecialties:Lt,searchContractors:It},Fu=Object(I.d)(Object(B.a)(Ru),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractors:e.cont_data.contractors,specialties:e.cont_data.specialties}},Iu))(Lu),Wu=Object(Qe.a)(function(e){return{root:{display:"block"},textField:{width:"100%"},select:{width:"100%"},control:{padding:e.spacing(0,1)},button:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)}}}),zu=function(e){var t=Wu({}),a=e.search,r=n.useState([]),o=Object(O.a)(r,2),c=o[0],s=o[1],l=n.useState(""),i=Object(O.a)(l,1)[0],u=n.useState(""),p=Object(O.a)(u,2),d=p[0],m=p[1];return n.createElement(S.a,{className:t.root},n.createElement(it.a,{container:!0},n.createElement(it.a,{item:!0,xs:6,md:3,className:t.control},n.createElement(Xe.a,{id:"city",label:"City",className:t.textField,value:d,onChange:function(e){m(e.target.value)},margin:"normal"})),n.createElement(it.a,{item:!0,xs:4,md:2,style:{display:"flex",alignItems:"flex-end",flexDirection:"row"}},n.createElement(se.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){a(i,d,c)}},"Search")),n.createElement(it.a,{item:!0,xs:12,className:t.control,style:{display:"flex"}},c.map(function(e,a){return n.createElement(ut.a,{key:a,label:e,className:t.chip,onDelete:function(){return function(e){var t=c.indexOf(e);t>=0&&s([].concat(Object(Ke.a)(c.slice(0,t)),Object(Ke.a)(c.slice(t+1))))}(e)}})}))))},Uu=Object(z.a)(function(e){return{root:{flexGrow:1},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},cursor:"pointer"},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(1,2)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},btnSearchWrapper:{textAlign:"end",alignSelf:"center"}}}),Hu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectRef=void 0,a.handleSearch=function(e,t,n){a.props.history.push("/search-service")},a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",order:"desc",rowsPerPage1:null,currentPage1:null,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a.selectRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.specialties,n=a?a.content.map(function(e){return{id:e.id,name:e.name}}):[];return r.a.createElement(S.a,{className:t.root},r.a.createElement(zu,{search:this.handleSearch,suggestions:n||[]}))}}]),t}(r.a.Component),Vu={getContractors:Mt,selectContractor:Bt,getSpecialties:Lt,searchContractors:It},Gu=Object(I.d)(Object(B.a)(Uu),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractors:e.cont_data.contractors,specialties:e.cont_data.specialties}},Vu))(Hu),qu=Object(Qe.a)(function(e){return{root:{display:"block"},textField:{width:"100%"},select:{width:"100%"},control:{padding:e.spacing(0,1)},button:{margin:e.spacing(1)},chip:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)}}}),Ju=function(e){var t=qu({}),a=e.suggestions,r=e.search,o=n.useState([]),c=Object(O.a)(o,2),s=c[0],l=c[1],i=n.useState(""),u=Object(O.a)(i,1)[0],p=n.useState(""),d=Object(O.a)(p,1)[0];return n.createElement(S.a,{className:t.root},n.createElement(it.a,{container:!0},n.createElement(it.a,{item:!0,xs:8,md:4,className:t.control},n.createElement(lt,{className:t.select,placeholder:"Select multiple specialties",suggestions:a,values:s,selectChange:function(e){l(e)}})),n.createElement(it.a,{item:!0,xs:4,md:2,style:{display:"flex",alignItems:"flex-end",flexDirection:"row"}},n.createElement(se.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){r(u,d,s)}},"Search")),n.createElement(it.a,{item:!0,xs:12,className:t.control,style:{display:"flex"}},s.map(function(e,a){return n.createElement(ut.a,{key:a,label:e,className:t.chip,onDelete:function(){return function(e){var t=s.indexOf(e);t>=0&&l([].concat(Object(Ke.a)(s.slice(0,t)),Object(Ke.a)(s.slice(t+1))))}(e)}})}))))},Yu=Object(z.a)(function(e){return{root:{flexGrow:1},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},cursor:"pointer"},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(1,2)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},btnSearchWrapper:{textAlign:"end",alignSelf:"center"}}}),$u=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectRef=void 0,a.handleSearch=function(e,t,n){a.props.history.push("/search-complete")},a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",order:"desc",rowsPerPage1:null,currentPage1:null,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a.selectRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.specialties,n=a?a.content.map(function(e){return{id:e.id,name:e.name}}):[];return r.a.createElement(S.a,{className:t.root},r.a.createElement(Ju,{search:this.handleSearch,suggestions:n||[]}))}}]),t}(r.a.Component),Ku={getContractors:Mt,selectContractor:Bt,getSpecialties:Lt,searchContractors:It},Xu=Object(I.d)(Object(B.a)(Yu),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractors:e.cont_data.contractors,specialties:e.cont_data.specialties}},Ku))($u),Qu=Object(z.a)(function(e){return{root:{flexGrow:1},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default},cursor:"pointer"},input:{display:"flex",padding:0,height:"auto"},waitingSpin:{position:"relative",left:"calc(50% - 10px)",top:"calc(40vh)"},successAlert:{marginBottom:"10px"},editField:{lineHeight:"1.5rem"},pos:{marginBottom:12},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(1,2)},chipFocused:{backgroundColor:Object(Z.c)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,fontSize:16},btnSearchWrapper:{textAlign:"end",alignSelf:"center"}}}),Zu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).selectRef=void 0,a.state={rowsPerPage:20,currentPage:0,isBusy:!1,name:"",description:"",order:"desc",rowsPerPage1:null,currentPage1:null,showMessage:!1,message:"",variant:"success",handleClose:function(){return a.setState({showMessage:!1})}},a.selectRef=r.a.createRef(),a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(S.a,{className:e.root},r.a.createElement("h1",null,"Thank You for your submission!"),r.a.createElement("h3",null,"Here are your results:"))}}]),t}(r.a.Component),ep={getContractors:Mt,selectContractor:Bt,getSpecialties:Lt,searchContractors:It},tp=Object(I.d)(Object(B.a)(Qu),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile,contractors:e.cont_data.contractors,specialties:e.cont_data.specialties}},ep))(Zu),ap=a(418),np=a.n(ap),rp=a(419),op=a.n(rp),cp=a(224),sp=a.n(cp),lp=a(417),ip=a.n(lp),up={success:Kc.a,warning:ip.a,error:np.a,info:op.a},pp=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,o=e.onClose,c=e.variant,s=Object(ae.a)(e,["classes","className","message","onClose","variant"]),l=up[c];return r.a.createElement(Re.a,Object.assign({className:re()(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:re()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(F.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(Bc.a,{className:t.icon}))]},s))}}]),t}(n.Component),dp=Object(B.a)(function(e){return{success:{backgroundColor:e.palette.primary.light},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:sp.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{marginBottom:10}}})(pp),mp=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(G.a)({},e,t.target.checked))}},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({isSuccess:!1})},a.handleSave=Object(f.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isSaving:!0}),t={user_metadata:{settings:{setting1:a.state.setting1,setting2:a.state.setting2,checkedA:a.state.checkedA,checkedB:a.state.checkedB,checkedC:a.state.checkedC}}},e.prev=2,e.next=5,R.updateSet(t);case 5:return e.next=7,R.getUserInfo();case 7:n=e.sent,a.props.setUserProfile(n),a.setState({isSuccess:!0,isSaving:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("UpdateSet: ",e.t0),a.setState({isSuccess:!1,isSaving:!1});case 16:case"end":return e.stop()}},e,null,[[2,12]])})),a.state={setting1:10,setting2:"a",checkedA:!1,checkedB:!1,checkedC:!1,isSaving:!1,isSuccess:!1},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.userProfile;this.setState({setting1:e.user_metadata.settings.setting1,setting2:e.user_metadata.settings.setting2,checkedA:e.user_metadata.settings.checkedA,checkedB:e.user_metadata.settings.checkedB,checkedC:e.user_metadata.settings.checkedC})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(q.a,{className:t.settingView},this.state.isSuccess?r.a.createElement("div",null,r.a.createElement(dp,{onClose:this.handleClose,variant:"success",message:"Your settings has been saved!"}),r.a.createElement(an.a,null)):r.a.createElement("div",null),r.a.createElement(J.a,{className:t.table},r.a.createElement($.a,null,r.a.createElement(X.a,null,r.a.createElement(Ae,{align:"center"},"Setting"),r.a.createElement(Ae,{align:"center"},"Value"))),r.a.createElement(Y.a,null,r.a.createElement(X.a,{className:t.row,hover:!0},r.a.createElement(Ae,{align:"center"},"Setting1"),r.a.createElement(Ae,{align:"center"},r.a.createElement(at.a,{className:t.formControl},r.a.createElement(rt.a,{value:this.state.setting1,onChange:function(t){e.setState({setting1:t.target.value})},inputProps:{name:"age",id:"age-simple"}},r.a.createElement(tt.a,{value:10},"s1v1"),r.a.createElement(tt.a,{value:20},"s1v2"),r.a.createElement(tt.a,{value:30},"s1v3"))))),r.a.createElement(X.a,{className:t.row,hover:!0},r.a.createElement(Ae,{align:"center"},"Setting2"),r.a.createElement(Ae,{align:"center"},r.a.createElement(Er.a,{checked:"a"===this.state.setting2,onChange:function(t){e.setState({setting2:t.target.value})},value:"a",name:"radio-button-demo","aria-label":"A"}),r.a.createElement(Er.a,{checked:"b"===this.state.setting2,onChange:function(t){e.setState({setting2:t.target.value})},value:"b",name:"radio-button-demo","aria-label":"B"}),r.a.createElement(Er.a,{checked:"c"===this.state.setting2,onChange:function(t){e.setState({setting2:t.target.value})},value:"c",name:"radio-button-demo","aria-label":"C"}))),r.a.createElement(X.a,{className:t.row,hover:!0},r.a.createElement(Ae,{align:"center"},"Setting3"),r.a.createElement(Ae,{align:"center"},r.a.createElement(ot.a,{checked:this.state.checkedA,onChange:this.handleChange("checkedA"),value:"checkedA"}),r.a.createElement(ot.a,{checked:this.state.checkedB,onChange:this.handleChange("checkedB"),value:"checkedB"}),r.a.createElement(ot.a,{checked:this.state.checkedC,onChange:this.handleChange("checkedC"),value:"checkedC"}))))),r.a.createElement("div",{className:t.buttonWrap},r.a.createElement(De,{variant:"contained",className:t.marginRight,onClick:function(){return e.props.history.replace("/")}},"Cancel"),r.a.createElement(De,{variant:"contained",color:"primary",disabled:this.state.isSaving,onClick:this.handleSave},"Save \xa0",this.state.isSaving&&r.a.createElement(U.a,{size:24,thickness:4})))))}}]),t}(r.a.Component),gp=Object(I.d)(Object(B.a)(function(e){return{root:{flexGrow:1,margin:e.spacing(1),height:"calc(100vh - 64px - 20px)",overflow:"auto",display:"flex",justifyContent:"center",alignItems:"center"},settingView:{width:500,padding:"5px"},marginRight:{marginRight:e.spacing(1)},buttonWrap:{display:"flex",justifyContent:"flex-end"},formControl:Object(G.a)({color:e.palette.primary.light,margin:e.spacing(1),minWidth:120},e.breakpoints.up("md"),{minWidth:240})}}),Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}},{setUserProfile:qa}))(mp),hp=a(939),fp=a(901),bp=a(924),vp=a(425),Ep=a.n(vp),yp=a(422),xp=a.n(yp),jp=a(427),wp=a.n(jp),Op=a(424),Sp=a.n(Op),Cp=a(423),kp=a.n(Cp);function Pp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Np(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pp(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pp(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Dp=a(923),Bp=a(420),Ap=a.n(Bp),Mp=a(312),Tp=a.n(Mp),_p=a(313),Rp=a.n(_p),Lp=a(421),Ip=a.n(Lp),Fp=Object(z.a)(function(e){return{list:Object(G.a)({width:"60px",float:"left",borderRadius:"0",height:"calc(100vh - 64px)"},e.breakpoints.up("md"),{width:"15%"}),listItemText:Object(G.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),selectedStyle:{color:e.palette.common.black},activeIcon:{color:"#57e191",backgroundColor:"none",fontWeight:"700"},nonactiveIcon:{color:e.palette.primary.dark},nested:{paddingLeft:e.spacing(4)}}}),Wp=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e,t,a,n,o,c,s,i,u=this.props,p=u.classes,d=u.userProfile,m=u.location.pathname;if(!R.isAuthenticated())return r.a.createElement(en.a,null,r.a.createElement(tn.a,{button:!0,component:l.b,to:"/",className:"/"===m?p.selectedStyle:""},r.a.createElement(Dp.a,null,r.a.createElement(Tp.a,null)),r.a.createElement(nt.a,{primary:"Home",className:p.listItemText})));var g=d.user_metadata.roles;return r.a.createElement(en.a,{className:"menulist"},r.a.createElement(tn.a,{button:!0,component:l.b,to:"/",className:"/"===m?p.selectedStyle:""},r.a.createElement(Dp.a,null,r.a.createElement(Tp.a,{color:"secondary",className:Object(Me.default)((e={},Object(G.a)(e,p.activeIcon,"/"===m),Object(G.a)(e,p.nonactiveIcon,"/"!==m),e))})),r.a.createElement(nt.a,{primary:"Home",className:p.listItemText})),(g.includes("Gen")||g.includes("GenSub")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/gen-contractor",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/gen-contractor")))},r.a.createElement(Dp.a,null,r.a.createElement(ts.a,{color:"secondary",className:Object(Me.default)((t={},Object(G.a)(t,p.activeIcon,m.includes("/gen-contractor")),Object(G.a)(t,p.nonactiveIcon,!m.includes("/gen-contractor")),t))})),r.a.createElement(nt.a,{primary:"General Contractor",className:p.listItemText})),(g.includes("Sub")||g.includes("GenSub")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/s_cont",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/s_cont")))},r.a.createElement(Dp.a,null,r.a.createElement(Es.a,{color:"secondary",className:Object(Me.default)((a={},Object(G.a)(a,p.activeIcon,m.includes("/s_cont")),Object(G.a)(a,p.nonactiveIcon,!m.includes("/s_cont")),a))})),r.a.createElement(nt.a,{primary:"Sub Contractor",className:p.listItemText})),(g.includes("Gen")||g.includes("GenSub")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/b_list",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/b_list")))},r.a.createElement(Dp.a,null,r.a.createElement(Ap.a,{color:"secondary",className:Object(Me.default)((n={},Object(G.a)(n,p.activeIcon,m.includes("/b_list")),Object(G.a)(n,p.nonactiveIcon,!m.includes("/b_list")),n))})),r.a.createElement(nt.a,{primary:"Bidder Listing",className:p.listItemText})),(g.includes("Sub")||g.includes("GenSub")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/projects",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/projects")))},r.a.createElement(Dp.a,null,r.a.createElement(Ip.a,{color:"secondary",className:Object(Me.default)((o={},Object(G.a)(o,p.activeIcon,m.includes("/projects")),Object(G.a)(o,p.nonactiveIcon,!m.includes("/projects")),o))})),r.a.createElement(nt.a,{primary:"Projects",className:p.listItemText})),(g.includes("Admin")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/m_temp",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/m_temp")))},r.a.createElement(Dp.a,null,r.a.createElement(Rp.a,{color:"secondary",className:Object(Me.default)((c={},Object(G.a)(c,p.activeIcon,m.includes("/m_temp")),Object(G.a)(c,p.nonactiveIcon,!m.includes("/m_temp")),c))})),r.a.createElement(nt.a,{primary:"Manage Templates",className:p.listItemText})),(g.includes("Admin")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/m_cont",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/m_cont")))},r.a.createElement(Dp.a,null,r.a.createElement(Ms.a,{color:"secondary",className:Object(Me.default)((s={},Object(G.a)(s,p.activeIcon,m.includes("/m_cont")),Object(G.a)(s,p.nonactiveIcon,!m.includes("/m_cont")),s))})),r.a.createElement(nt.a,{primary:"Manage Contractor",className:p.listItemText})),(g.includes("Admin")||g.includes("SuperAdmin"))&&r.a.createElement(tn.a,{button:!0,component:l.b,to:"/m_spec",className:Object(Me.default)(Object(G.a)({},p.selectedStyle,m.includes("/m_spec")))},r.a.createElement(Dp.a,null,r.a.createElement(Rp.a,{color:"secondary",className:Object(Me.default)((i={},Object(G.a)(i,p.activeIcon,m.includes("/m_spec")),Object(G.a)(i,p.nonactiveIcon,!m.includes("/m_spec")),i))})),r.a.createElement(nt.a,{primary:"Manage Specialty",className:p.listItemText})))}}]),t}(r.a.Component),zp=Object(I.d)(j.g,Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}}),Object(B.a)(Fp))(Wp),Up=a(446),Hp=a(426),Vp=a.n(Hp),Gp=Object(B.a)({paper:{border:"1px solid #d3d4d5"}})(function(e){return r.a.createElement(Up.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}),qp=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).resizedWindow=function(){var e=window.innerWidth>960;e!==a.state.open&&a.setState({open:e})},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.handleUserLogIn=function(){R.signIn()},a.handleUserLogOut=function(){localStorage.clear(),R.signOut(),a.handleMenuClose()},a.handleDrawerOpen=function(){return a.setState({open:!0})},a.handleDrawerClose=function(){return a.setState({open:!1})},a.handleClose=function(){return a.setState({anchorEl:null})},a.state={anchorEl:null,mobileMoreAnchorEl:null,open:!0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=window.innerWidth>960;this.setState({open:e}),window.addEventListener("resize",this.resizedWindow)}},{key:"componentWillMount",value:function(){window.removeEventListener("resize",this.resizedWindow)}},{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.open,n=this.props.classes,o=Boolean(t),c=R.isAuthenticated()?r.a.createElement("div",{className:"rightmenu"},r.a.createElement("div",{className:n.sectionDesktop},r.a.createElement(F.a,{color:"inherit"},r.a.createElement(bp.a,{badgeContent:17,color:"secondary"},r.a.createElement(xp.a,{className:"notification"}))),r.a.createElement(Gp,{id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:this.handleClose},r.a.createElement(tt.a,{component:l.b,to:"/profile"},r.a.createElement(Dp.a,null,r.a.createElement(kp.a,null)),r.a.createElement(nt.a,{primary:"Profile"})),r.a.createElement(tt.a,{component:l.b,to:"/settings"},r.a.createElement(Dp.a,null,r.a.createElement(Ms.a,null)),r.a.createElement(nt.a,{primary:"Settings"})),r.a.createElement(tt.a,{onClick:this.handleUserLogOut},r.a.createElement(Dp.a,null,r.a.createElement(Sp.a,null)),r.a.createElement(nt.a,{primary:"Logout"}))),r.a.createElement(Ep.a,{className:"userprofile"}),r.a.createElement(Q.a,{className:"righttitle",variant:"h6",noWrap:!0},"Account"),r.a.createElement(F.a,{"aria-owns":o?"material-appbar":void 0,"aria-haspopup":"true","aria-controls":"simple-menu",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(Vp.a,{className:"profiledropdown"}))),r.a.createElement("div",{className:n.sectionMobile},r.a.createElement(F.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(wp.a,null)))):r.a.createElement(se.a,{color:"inherit",onClick:this.handleUserLogIn},"Login");return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{position:"absolute",className:Object(Me.default)(n.appBar,a&&n.appBarShift),style:{boxShadow:"none",backgroundColor:"white"}},r.a.createElement(fp.a,{className:"myheader"},r.a.createElement(Q.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title},"LOGO NAME"),c)),r.a.createElement("div",{className:"drawer",onMouseOver:this.handleDrawerOpen,onMouseLeave:this.handleDrawerClose},r.a.createElement(hp.a,{variant:"permanent",classes:{root:n.drawerPaperRoot,paper:Object(Me.default)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},r.a.createElement(zp,null))))}}]),t}(r.a.Component),Jp=Object(I.d)(Object(B.a)(function(e){return Object(z.a)({grow:{flexGrow:1,fontWeight:600,fontSize:"2.1rem"},title:Object(G.a)({display:"none",padding:e.spacing(0,2),flexGrow:1},e.breakpoints.up("sm"),{display:"block"}),menuButton:{marginRight:36},menuButtonHidden:{display:"none"},toolbar:{paddingRight:24},toolbarIcon:Np({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},sectionDesktop:Object(G.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(G.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),profilemenu:{top:"50px"},drawerPaperRoot:{display:"flex",flexDirection:"column",backgroundColor:" #E9EDF5"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(G.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:"50px"})})}),j.g,Object(s.b)(function(e){return{profile:e.global_data.userProfile}}))(qp),Yp=a(927),$p=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.handleAuthentication();case 2:return e.next=4,R.getUserInfo();case 4:t=e.sent,this.props.setUserProfileAction(t),localStorage.setItem("User_Id",t.user_id),localStorage.setItem("contractor_ID",t.user_metadata.contractor_id),localStorage.getItem("modalData")?JSON.parse(localStorage.getItem("modalData")).forEach(function(e){var n="/contractors/".concat(t.user_metadata.contractor_id,"/projects"),r={title:e.modalTitle,description:e.description,budget:Number(e.getbudjetvalue)|Number(e.budgetCustomValue),endDate:new Date};r&&_.a.post("https://bcbe-service.herokuapp.com/"+n,r,{headers:Ns.headers}).then(function(e){a.props.history.replace("/gen-contractor")})}):this.props.history.replace("/");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(Yp.a,null)}}]),t}(n.Component),Kp=Object(s.b)(void 0,function(e){return{setUserProfileAction:function(t){return e(qa(t))}}})($p),Xp=Object(j.g)(Kp),Qp=a(925);var Zp=function(){return r.a.createElement("div",{style:{marginBottom:"-4%"}},r.a.createElement(P.a,{position:"static",className:"beforeloginheader"},r.a.createElement(fp.a,{style:{position:"unset"}},r.a.createElement(se.a,{className:"btn default",color:"inherit"},"Logo Placeholder"),r.a.createElement(se.a,{color:"inherit",onClick:function(){R.signIn()}},r.a.createElement(Qp.a,null,r.a.createElement(Di.a,{className:"person",style:{color:"black"}})),r.a.createElement(Q.a,{className:"signin",style:{textTransform:"capitalize"}},"Sign In")))))},ed=a(430),td=a.n(ed),ad=a(429),nd=a.n(ad),rd=a(431),od=a.n(rd),cd=a(432),sd=a.n(cd),ld=a(428),id=a.n(ld);var ud=function(){return r.a.createElement(it.a,{container:!0,spacing:0,className:"footer-bg"},r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement(an.a,{className:"footer-divider",variant:"middle"})),r.a.createElement(it.a,{item:!0,xs:2}),r.a.createElement(it.a,{item:!0,xs:2},r.a.createElement(Q.a,{component:"div",className:"footer-head-text",variant:"h6"},"Company"),r.a.createElement(Q.a,{component:"p",variant:"subtitle1",color:"textSecondary"},"About"),r.a.createElement(Q.a,{component:"p",variant:"subtitle1",color:"textSecondary"},"Contact Us")),r.a.createElement(it.a,{item:!0,xs:5},r.a.createElement(Q.a,{component:"div",className:"footer-head-text",variant:"h6"},"Connect with us"),r.a.createElement(Q.a,{component:"div",className:"footerText"},r.a.createElement(id.a,{className:"footer-icon"}),r.a.createElement(Q.a,{component:"p",color:"textSecondary",className:"icon-text"},"Houzz Blog")),r.a.createElement(Q.a,{component:"div",className:"footerText"},r.a.createElement(nd.a,{className:"footer-icon"}),r.a.createElement(Q.a,{component:"p",color:"textSecondary",className:"icon-text"},"Twitter")),r.a.createElement(Q.a,{component:"div",className:"footerText"},r.a.createElement(td.a,{className:"footer-icon"}),r.a.createElement(Q.a,{component:"p",color:"textSecondary",className:"icon-text"},"Facebook")),r.a.createElement(Q.a,{component:"div",className:"footerText"},r.a.createElement(od.a,{className:"footer-icon"}),r.a.createElement(Q.a,{component:"p",color:"textSecondary",className:"icon-text"},"YouTube")),r.a.createElement(Q.a,{component:"div",className:"footerText"},r.a.createElement(sd.a,{className:"footer-icon"}),r.a.createElement(Q.a,{component:"p",color:"textSecondary",className:"icon-text"},"Rss"))))},pd=Object(z.a)(function(e){return{root:{display:"flex"},viewarea:Object(G.a)({width:"calc(100% - 60px)",float:"left",borderRadius:"0",height:"calc(100vh - 64px)"},e.breakpoints.up("md"),{width:"85%"}),waitingSpin:{position:"relative",left:"calc(50vw - 10px)",top:"calc(50vh - 10px)"},content:{flex:1,flexDirection:"column",display:"flex"},container:{padding:e.spacing(0,0),flexDirection:"column",display:"flex",flex:1},fixedHeight:{height:240},appBarSpacer:e.mixins.toolbar}}),dd=a(433),md=a.n(dd);a(798),a(799);var gd=function(e){var t="/contractors/search",a=Object(n.useState)([]),o=Object(O.a)(a,2),c=o[0],s=o[1],i=Object(n.useState)((new Date).getFullYear()),u=Object(O.a)(i,1)[0];function p(){return(p=Object(f.a)(h.a.mark(function a(){var n;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(n={city:e.location.state.cityName,specialty:e.location.state.specialty})){a.next=4;break}return a.next=4,_.a.post("https://bcbe-service.herokuapp.com/"+t,n,{headers:Ns.headers}).then(function(e){s(e.data)});case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){p.apply(this,arguments)}()},[]),r.a.createElement("div",{style:{marginTop:"-30px"}},r.a.createElement(Zl.a,{className:"contractor-list"},r.a.createElement(en.a,{className:"list"},c.map(function(e,t){var a;return r.a.createElement("div",{key:t},r.a.createElement(l.b,{className:"underlineNone",to:"/contractordetails/".concat(e.contractor.id)},r.a.createElement(tn.a,{className:"list-item"},r.a.createElement(it.a,{container:!0,spacing:3},r.a.createElement(it.a,{item:!0,xs:12,lg:2},e.contractor.contractorFiles.map(function(t,a){return r.a.createElement("div",{key:a},"AVATAR"===t.type?r.a.createElement("img",{className:"myAvatar",alt:"image",src:"".concat(Ns.BASE_URL,"/contractors/").concat(e.contractor.id,"/files/").concat(t.name)}):" ")}),0===e.contractor.contractorFiles.length?r.a.createElement("img",(a={className:"myAvatar",alt:"image1"},Object(G.a)(a,"className","displayNone"),Object(G.a)(a,"src","".concat(Ns.Image_URL,"/api/?name=").concat(e.contractor.address.company)),a)):""),r.a.createElement(it.a,{item:!0,xs:12,lg:10},r.a.createElement(it.a,{className:"row"},r.a.createElement(it.a,{item:!0,xs:12,lg:9},r.a.createElement(nt.a,{primary:e.contractor.address.company}),r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"rate"},e.reviewSummary.rating),r.a.createElement("div",{className:"stars"},r.a.createElement(Pi.a,{name:"size-medium",className:"rating r-star",value:e.reviewSummary.rating,max:5,readOnly:!0})),r.a.createElement("span",{className:"views"},e.reviewSummary.totalReviews,"\xa0reviews"))),r.a.createElement(it.a,{item:!0,xs:12,lg:3},r.a.createElement("h3",{className:"no-margin"},r.a.createElement("i",{className:"fa fa-comment-o","aria-hidden":"true"})),r.a.createElement("span",{style:{fontSize:"13px",color:"rgba(0, 0, 0, 0.54)"}},"contact for price"))),r.a.createElement(it.a,{item:!0,xs:12,lg:12,className:"mtmb"},r.a.createElement("span",{className:"watch-icon"}," ",r.a.createElement(md.a,{style:{color:"#817c7c"}})," "),r.a.createElement("span",{className:"years"},u-e.contractor.address.founded,"\xa0years in business")),r.a.createElement(it.a,{container:!0,className:"row fullwidth"},r.a.createElement(it.a,{item:!0,xs:12,lg:9},r.a.createElement("div",{className:"details"},'"',e.reviewSummary.areview,'"')),r.a.createElement(it.a,{item:!0,xs:12,lg:3},r.a.createElement(se.a,{variant:"contained",color:"primary"},"View Profile"))))))),r.a.createElement(an.a,null))}))))},hd=a(435),fd=a.n(hd),bd=(a(800),a(436)),vd=a.n(bd),Ed=a(437),yd=a.n(Ed),xd=a(438),jd=a.n(xd),wd=a(439),Od=a.n(wd),Sd=a(314),Cd=a.n(Sd),kd=a(440),Pd=a.n(kd),Nd=a(855),Dd=a(157),Bd=a.n(Dd),Ad=a(237),Md=a(238),Td=a.n(Md),_d=Object(Ad.autoPlay)(Td.a);var Rd=function(e){var t=Object(n.useState)(e.Idprops),a=Object(O.a)(t,1)[0],o=Object(n.useState)([]),c=Object(O.a)(o,2),s=c[0],l=c[1],i=r.a.useState(0),u=Object(O.a)(i,2),p=u[0],d=u[1],m=Object(n.useState)(""),g=Object(O.a)(m,2),h=g[0],f=g[1],b=r.a.useState(!1),v=Object(O.a)(b,2),E=v[0],y=v[1];Object(n.useEffect)(function(){_.a.get("".concat(Ns.BASE_URL,"/contractors/").concat(a,"/projects/past")).then(function(e){l(e.data.content)})},[]);var x=function(e){f(e.target.id),y(!0)},j=function(){y(!1)};return r.a.createElement("div",null,r.a.createElement(Oi.a,{swipeable:!1,draggable:!1,showDots:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:2,slidesToSlide:1},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},ssr:!0,infinite:!0,keyBoardControl:!0,customTransition:"all .5",transitionDuration:1e3,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px"},s.map(function(e,t){return r.a.createElement("div",{key:t,style:{display:"flex"}},r.a.createElement("div",{className:"pastproject"},r.a.createElement("div",{className:"pastprojectimg"},e.projectFiles.map(function(a,n){return r.a.createElement("img",{key:n,id:t,className:0===n?"pastprojectimg":"none",src:"".concat(Ns.BASE_URL,"/projects/").concat(e.id,"/files/").concat(a.name),onClick:x})})),r.a.createElement("div",{className:"pastprojectdetails"},r.a.createElement("h3",null,e.title))),r.a.createElement("div",null,"  ",r.a.createElement(an.a,{orientation:"vertical"})))})),r.a.createElement(ss.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:E,onClose:j},r.a.createElement("div",{className:"moda-pastproject"},r.a.createElement("div",{className:"myRoot"},r.a.createElement(_d,{index:p,onChangeIndex:function(e){},className:"post-img-height",enableMouseEvents:!0},h?s[h].projectFiles.map(function(e,t){return r.a.createElement("div",{className:"post-height",key:t},Math.abs(p-t)<=2?r.a.createElement("img",{className:"post-slider-img",src:"".concat(Ns.BASE_URL,"/projects/").concat(s[h].id,"/files/").concat(e.name),alt:e.label}):null)}):""),r.a.createElement(ls.a,{className:"stepper-divider",steps:h?s[h].projectFiles.length:"",position:"static",variant:"text",activeStep:p,nextButton:r.a.createElement(se.a,{size:"small",className:"myNextButton",onClick:function(){d(function(e){return e+1})},disabled:h?p===s[h].projectFiles.length-1:""},r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})),backButton:r.a.createElement(se.a,{size:"small",className:"myBackButton",onClick:function(){d(function(e){return e-1})},disabled:0===p},r.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}))})),r.a.createElement("div",{className:"whiteBackground"},h?r.a.createElement(it.a,{item:!0,lg:12,xs:12,className:"details"},r.a.createElement(it.a,{container:!0,className:"slider-container"},r.a.createElement(it.a,{item:!0,lg:12,xs:12},r.a.createElement("div",{className:"close-icon"}," ",r.a.createElement(Bc.a,{onClick:j})),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("h4",null,s[h].title)," "),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:"text-bold"},"Job type")," ",r.a.createElement("p",null,s[h].type)),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:"text-bold"},"Location")," ",r.a.createElement("p",null,"Minneapolis,MN")),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:"text-bold"},"Coast")," ",r.a.createElement("p",null,"Approx. $",s[h].budget)),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:"text-bold"},"Duration")," ",r.a.createElement("p",null,s[h].duration," Days")),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:"text-bold"},"year")," ",r.a.createElement("p",null,s[h].year)),r.a.createElement("div",{className:"slider-post-txt"},r.a.createElement("p",{className:" "}," Client was looking for a new,cedar,6'hgt privacy fense for her property"))))):""))))},Ld=Object(Ad.autoPlay)(Td.a);var Id=function(e){Object(n.useEffect)(function(){_.a.get("https://bcbe-service.herokuapp.com/contractors/"+a).then(function(e){l(e.data.contractorFiles),e.data.contractorFiles.map(function(e){p.push(e.name),d(p)})})},[]);var t=Object(n.useState)(e.Idprops),a=Object(O.a)(t,1)[0],o=Object(n.useState)([]),c=Object(O.a)(o,2),s=c[0],l=c[1],i=Object(n.useState)([]),u=Object(O.a)(i,2),p=u[0],d=u[1],m=r.a.useState(!1),g=Object(O.a)(m,2),h=g[0],f=g[1],b=function(){f(!0)},v=Object(cs.a)(),E=r.a.useState(0),y=Object(O.a)(E,2),x=y[0],j=y[1],w=s.length;return r.a.createElement("div",null,r.a.createElement(Oi.a,{swipeable:!1,draggable:!1,showDots:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:3,slidesToSlide:1},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},ssr:!0,infinite:!0,autoPlaySpeed:1e3,keyBoardControl:!0,customTransition:"all .5",transitionDuration:500,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px"},s.map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"slider-gallery-img",onClick:b},r.a.createElement("img",Object(G.a)({alt:"no",src:"https://bcbe-service.herokuapp.com/contractors/"+a+"/files/"+e.name},"alt","past-project")))))})),r.a.createElement(ss.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:h,onClose:function(){f(!1)}},r.a.createElement("div",{className:"modal-gallery"},r.a.createElement("div",{className:"rootclass"},r.a.createElement("img",{className:"imageclass",src:"https://bcbe-service.herokuapp.com/contractors/"+a+"/files/"+p[x]}),r.a.createElement(Ld,{axis:"rtl"===v.direction?"x-reverse":"x",index:x,onChangeIndex:function(e){j(e)},enableMouseEvents:!0},s.map(function(e,t){return r.a.createElement("div",{key:t,className:"steeper"},Math.abs(x-t)<=2?r.a.createElement("img",{className:"",src:e.imgPath,alt:e.label}):null)})),r.a.createElement(ls.a,{className:"stepper-divider",steps:w,position:"static",variant:"text",activeStep:x,nextButton:r.a.createElement(se.a,{className:"myNextButton",size:"small",onClick:function(){j(function(e){return e+1})},disabled:x===w-1},r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})),backButton:r.a.createElement(se.a,{size:"small",className:"myBackButton",onClick:function(){j(function(e){return e-1})},disabled:0===x},r.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}))})))))},Fd=a(441),Wd=a.n(Fd),zd=a(434);console.clear();var Ud,Hd=Object(j.g)(function(e){var t=Object(cs.a)(),a=Object(n.useState)("contractors/"),o=Object(O.a)(a,1)[0],c=Object(n.useState)(e.match.params.Id),s=Object(O.a)(c,1)[0],l=Object(n.useState)([]),i=Object(O.a)(l,2),u=i[0],p=i[1],d=Object(n.useState)([]),m=Object(O.a)(d,2),g=m[0],h=m[1],f=Object(n.useState)(""),b=Object(O.a)(f,2),v=b[0],E=b[1],y=Object(n.useState)([]),x=Object(O.a)(y,2),j=x[0],w=x[1],S=Object(n.useState)((new Date).getFullYear()),C=Object(O.a)(S,1)[0],k=Object(n.useState)(1),P=Object(O.a)(k,2),N=P[0],D=P[1],B=Object(n.useState)(2),A=Object(O.a)(B,1)[0],M=Object(n.useState)(!1),T=Object(O.a)(M,2),L=T[0],I=T[1],z=Object(n.useState)(""),U=Object(O.a)(z,2),H=U[0],V=U[1],G=Object(n.useState)(!1),q=Object(O.a)(G,2),J=q[0],Y=q[1],$=Object(n.useState)(""),K=Object(O.a)($,2),X=K[0],Q=K[1],Z=Object(n.useState)(""),ee=Object(O.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(O.a)(ne,2),oe=re[0],ce=re[1],le=Object(n.useState)(""),ie=Object(O.a)(le,2),ue=ie[0],pe=ie[1],de=Object(n.useState)(""),me=Object(O.a)(de,2),ge=me[0],he=me[1],fe=Object(n.useState)(""),be=Object(O.a)(fe,2),ve=be[0],Ee=be[1],ye=Object(n.useState)(""),xe=Object(O.a)(ye,2),je=xe[0],we=xe[1],Oe=Object(n.useState)(""),Se=Object(O.a)(Oe,2),Ce=Se[0],ke=(Se[1],Object(n.useState)("")),Pe=Object(O.a)(ke,2),Ne=Pe[0],De=(Pe[1],Object(n.useState)("")),Be=Object(O.a)(De,2),Ae=Be[0],Me=(Be[1],r.a.useState(0)),Te=Object(O.a)(Me,2),_e=Te[0],Re=Te[1],Le=Object(n.useState)(""),Ie=Object(O.a)(Le,2),Fe=Ie[0],We=Ie[1],ze=Object(n.useState)(""),Ue=Object(O.a)(ze,2),He=Ue[0],Ve=Ue[1],Ge=[H,X,te,oe,ge,J],qe=Object(zd.useStyles)();Object(n.useEffect)(function(){_.a.get("".concat(Ns.BASE_URL,"/contractors/").concat(s,"/avatar")).then(function(e){200===e.status&&We("".concat(Ns.BASE_URL,"/contractors/").concat(s,"/avatar"))}),(""===!Ce&&2===_e||""===!Ne&&3===_e||""===!Ae&&5===_e)&&Ye()});var Je=function(){var e="/contractors/".concat(s,"/projects");if(localStorage.getItem("User_Id")||7!==_e){var t={title:"hello",description:"description"};t&&_.a.post("https://bcbe-service.herokuapp.com/"+e,t,{headers:Ns.headers}).then(function(e){})}else R.signIn();Re(0),vt(!1)},Ye=function(){0===_e&&""===H||null===H||1===_e&&!1===J||2===_e&&""===X||3===_e&&""===te||4===_e&&""===oe&&(""===ue||null===ue)||5===_e&&""===ge||6===_e&&He<40?we("Please fill the field"):(we(""),Re(function(e){return e+1})),(7===_e&&""===ve||null===ve)&&(Re(function(e){return e+1}),Je())},$e=function(e){return window.scrollTo(0,e.current.offsetTop)},Xe=Object(n.useRef)(null),Qe=function(){return $e(Xe)},Ze=Object(n.useRef)(null),et=function(){return $e(Ze)},tt=Object(n.useRef)(null),at=function(){return $e(tt)},nt=Object(n.useRef)(null),rt=function(){return $e(nt)},ot=Object(n.useRef)(null),ct=function(){return $e(ot)};function st(e){D(Number(e.target.id)),I(!0)}Object(n.useEffect)(function(){(""!==Ce&&2===_e||""!==Ne&&3===_e||""!==Ae&&5===_e)&&Ye(),_.a.get("https://bcbe-service.herokuapp.com/"+o+s).then(function(e){var t=[].concat(Object(Ke.a)(u),[e.data]);p(t)}),_.a.get("https://bcbe-service.herokuapp.com/"+o+s+"/reviews").then(function(e){h(e.data)}),_.a.get("https://bcbe-service.herokuapp.com/"+o+s+"/get_reviews").then(function(e){E(e.data)}),_.a.get("https://bcbe-service.herokuapp.com/"+o+s+"/faq").then(function(e){w(e.data)})},[]);for(var lt=[],ut=1;ut<=Math.ceil(g.length/A);ut++)lt.push(ut);var pt=lt.map(function(e){return r.a.createElement("li",{className:N===e?"active":"pagenumbers",key:e,id:e,onClick:st},e)}),dt=N*A,mt=dt-A,gt=g.slice(mt,dt),ht=r.a.useState(!1),ft=Object(O.a)(ht,2),bt=ft[0],vt=ft[1];return r.a.createElement("div",{style:{width:"1290px",marginTop:"-30px"},className:"full-width"},u.map(function(t){return r.a.createElement("div",{key:t.address.id,className:"contractor-details"},r.a.createElement("div",{className:"see pros",onClick:e.history.goBack,style:{cursor:"pointer"}},r.a.createElement(fd.a,{className:"arrow-left"}),r.a.createElement("span",null,"See pros")),r.a.createElement("div",{className:"list-menu"},r.a.createElement(en.a,{className:"details-ul"},r.a.createElement(tn.a,{onClick:et,className:"details-list",key:1},"About"),r.a.createElement(tn.a,{onClick:at,className:"details-list",key:2},"Photos"),r.a.createElement(tn.a,{onClick:rt,className:"details-list",key:3},"Review"),r.a.createElement(tn.a,{onClick:Qe,className:"details-list",key:4},"Credentials"),r.a.createElement(tn.a,{onClick:ct,className:"details-list",key:5},"FAQs"))),r.a.createElement(an.a,null),L,r.a.createElement(it.a,{container:!0,spacing:3,style:{marginTop:"10px",marginBottom:"10px",marginLeft:"0px"}},r.a.createElement(it.a,{item:!0,xs:12,md:2,lg:2,className:"details-info"},r.a.createElement(vo.a,{className:"details-photo"},Fe?r.a.createElement("div",{key:t.id},r.a.createElement("img",{alt:"image",className:"displayNone",src:"https://bcbe-service.herokuapp.com/contractors/"+s+"/avatar"})):r.a.createElement("div",{key:t.id},r.a.createElement("img",{alt:"image",className:"displayNone",src:"".concat(Ns.Image_URL,"/api/?name=").concat(t.address.company)})))),r.a.createElement(it.a,{item:!0,xs:12,lg:4,className:"details-name"},r.a.createElement("div",{className:"details-person"},r.a.createElement("h3",{className:"name"},t.address.company),r.a.createElement("div",{className:"details-rating"},r.a.createElement("span",{className:"details-rate"},t.reviewSummary.rating),r.a.createElement("span",{className:"details-stars"},r.a.createElement(Pi.a,{className:"details-ratings",name:"size-medium",value:t.reviewSummary.rating,readOnly:!0})),r.a.createElement("span",{className:"details-views"},"(",t.reviewSummary.totalReviews,")"))))),r.a.createElement("div",{className:"introduction",ref:Ze},r.a.createElement("p",{className:"intro"}," ",r.a.createElement("strong",null," Introduction: ")," Ben Erickson, Ownar, has haan practicing Landscape Architecture in the Twin Cities for over'. years, first learning the ropes at the office of CLOSE Landscape Architecture until opening lose landscape designs in MU. We do commercial aswellas residential projects and as of 20, Ea. landscape designs offers installation as part of scope of services, so give us a call and let us know how wa can help outwith your nert Project. "),r.a.createElement("p",{className:"intro"},'Most did a great job at installing a Jack shaft "opener" on my garage door. I appreciate his hard work."I had a garage door installed with very convinient Wi-Fi capabilities! John was very punctual and professional. He...')),r.a.createElement("div",{className:"business-details"},r.a.createElement(it.a,{container:!0,spacing:3},r.a.createElement(it.a,{item:!0,lg:6,className:"overview"},r.a.createElement("h3",{className:"Introduction-title"}," Overview"),r.a.createElement(en.a,null,r.a.createElement(tn.a,{className:"icons-overview"},r.a.createElement("span",{className:"icons"},r.a.createElement("i",{className:"fa fa-trophy","aria-hidden":"true"})),r.a.createElement("span",{className:"icon-text"},"Hired ",t.numberOfHires," times")),t.address.backgroundChecked?r.a.createElement("div",null,r.a.createElement(tn.a,{className:"icons-overview"},r.a.createElement("span",{className:"icons"},r.a.createElement(vd.a,{id:"matrial-icon"})),r.a.createElement("span",{className:"icon-text"},"Background Checked"))):"",t.licenseVerified?r.a.createElement("div",null,r.a.createElement(tn.a,{className:"icons-overview"},r.a.createElement("span",{className:"icons"},r.a.createElement(yd.a,{id:"matrial-icon"})),r.a.createElement("span",{className:"icon-text"},"License Verified"))):"",r.a.createElement(tn.a,{className:"icons-overview",key:4},r.a.createElement("span",{className:"icons"},r.a.createElement(jd.a,{id:"matrial-icon"})," "),r.a.createElement("span",{className:"icon-text"},t.address.employees," employees")),r.a.createElement(tn.a,{className:"icons-overview",key:5},r.a.createElement("span",{className:"icons"},r.a.createElement(Od.a,{id:"matrial-icon"})," "),r.a.createElement("span",{className:"icon-text"},C-t.address.founded,"  years in business")))),r.a.createElement(it.a,{item:!0,lg:6,className:"hours"},r.a.createElement("h3",{className:"Introduction-title"}," Business hours"),r.a.createElement(en.a,null,r.a.createElement(tn.a,{className:"businesshours"},r.a.createElement("span",{className:"time-zone"},"(Pacific Time Zone)"),r.a.createElement("p",{className:"time"},"Daily ",t.businessHourFrom," to ",t.businessHourTo," ")),r.a.createElement(tn.a,{className:"payment-method"},r.a.createElement("h3",{className:"Introduction-title"},"Payment Methods"),r.a.createElement("div",{className:"type"},t.paymentMethods.map(function(e,t){return r.a.createElement("div",{key:t},(t?", ":"")+e)}))),r.a.createElement(tn.a,{className:"social-media",key:3},r.a.createElement("h3",{className:"Introduction-title"},"Social media"),r.a.createElement("p",{className:"instagram"},t.contractorFiles.map(function(e){return r.a.createElement(r.a.Fragment,null,"TWITTER"===e.type?"Twitter":"","INSTAGRAM"===e.type?"Instagram":"","FACEBOOK"===e.type?"Facebook":"","LINKEDIN"===e.type?"LinkedIn":"")}))))))),r.a.createElement(an.a,null),r.a.createElement("div",{className:"past-project"},r.a.createElement("h3",{className:"past-project"},"Past Project"),r.a.createElement("div",{className:"modal-slider"},r.a.createElement(Rd,{Idprops:s})),r.a.createElement("div",{className:"show-more"},r.a.createElement("span",null,"Show more"))),r.a.createElement(an.a,null),r.a.createElement("div",{className:"gallery",ref:tt},r.a.createElement("h3",{className:"photos"},"Photos and Videos"),r.a.createElement("span",{style:{color:"#878c90",fontSize:"15px"}},"15 photos"),r.a.createElement("div",{className:"gallery-slider"},r.a.createElement(Id,{Idprops:s}))),r.a.createElement(an.a,null),r.a.createElement("div",{className:"Reviews",ref:nt},r.a.createElement("h3",{className:"reviews"},"Reviews"),r.a.createElement("span",{className:"main-review"},t.reviewSummary.areview),r.a.createElement(it.a,{container:!0,className:"review-stars"},r.a.createElement(it.a,{item:!0,lg:2,xs:12,className:"left-review"},r.a.createElement("h3",{className:"rate"},t.reviewSummary.rating),r.a.createElement("span",{className:"stars"},r.a.createElement(Pi.a,{name:"size-medium",className:"lg-stars",value:t.reviewSummary.rating,readOnly:!0})),r.a.createElement("p",{className:"views"},t.reviewSummary.totalReviews," Reviews")),r.a.createElement(an.a,{orientation:"vertical",className:"sm-divider"}),r.a.createElement(it.a,{item:!0,lg:2,xs:12,className:"right-review"},r.a.createElement("div",{className:"value"},r.a.createElement("span",{className:"numbers-rate"},"5 "),r.a.createElement("span",null,r.a.createElement(Bd.a,{className:"single-star"})),r.a.createElement(Nd.a,{variant:"determinate",color:"secondary",value:v.fiveStarRating}),r.a.createElement("span",{className:"numbers-rate"},v.fiveStarRating,"%")),r.a.createElement("div",{className:"value"},r.a.createElement("span",{className:"numbers-rate"},"4"),r.a.createElement("span",null,r.a.createElement(Bd.a,{className:"single-star"})),r.a.createElement(Nd.a,{variant:"determinate",color:"secondary",value:v.fourStarRating}),r.a.createElement("span",{className:"numbers-rate"},v.fourStarRating,"%")),r.a.createElement("div",{className:"value"},r.a.createElement("span",{className:"numbers-rate"},"3"),r.a.createElement("span",null,r.a.createElement(Bd.a,{className:"single-star"})),r.a.createElement(Nd.a,{variant:"determinate",color:"secondary",value:v.threeStarRating}),r.a.createElement("span",{className:"numbers-rate"},v.threeStarRating,"%")),r.a.createElement("div",{className:"value"},r.a.createElement("span",{className:"numbers-rate"},"2"),r.a.createElement("span",null,r.a.createElement(Bd.a,{className:"single-star"})),r.a.createElement(Nd.a,{variant:"determinate",color:"secondary",value:v.twoStarRating}),r.a.createElement("span",{className:"numbers-rate"},v.twoStarRating,"%")),r.a.createElement("div",{className:"value"},r.a.createElement("span",{className:"numbers-rate"},"1"),r.a.createElement("span",null,r.a.createElement(Bd.a,{className:"single-star"})),r.a.createElement(Nd.a,{variant:"determinate",color:"secondary",value:v.oneStarRating}),r.a.createElement("span",{className:"numbers-rate"},v.oneStarRating,"%")))),r.a.createElement(it.a,{container:!0,className:"search-bar-details"},r.a.createElement(it.a,{item:!0,lg:7,xs:12},r.a.createElement(F.a,{"aria-label":"search"},r.a.createElement(os.a,{className:"searchicon"})),r.a.createElement(vi.a,{placeholder:"Search reviews",inputProps:{"aria-label":"search google maps"}})),r.a.createElement(it.a,{item:!0,lg:3,xs:12},r.a.createElement("select",{className:"dropdown"},r.a.createElement("option",{value:""},"Most relevant"),r.a.createElement("option",{value:""},"A"),r.a.createElement("option",{value:""},"B"),r.a.createElement("option",{value:""},"C"),r.a.createElement("option",{value:""},"D"))))),r.a.createElement(an.a,null),r.a.createElement("div",{className:"reviews-person"},gt.map(function(e){return r.a.createElement(it.a,{container:!0,key:e.review,spacing:3},r.a.createElement(an.a,null),r.a.createElement(it.a,{item:!0,lg:12,xs:12},r.a.createElement("h3",{className:"person-name"},"Jim C."),r.a.createElement("span",{className:"Address"},"Patio Remodel or Addition")),r.a.createElement(it.a,{item:!0,lg:12,xs:12},r.a.createElement(Pi.a,{name:"size-medium",className:"lg-stars top-margin",value:e.rating,readOnly:!0})),r.a.createElement(it.a,{item:!0,lg:12,xs:12,className:"margintopbot"},r.a.createElement("span",{className:"person-review"},e.review)),r.a.createElement(it.a,{item:!0,lg:12,xs:12,className:"margintopbot"},r.a.createElement("span",{className:"verified-date"},"Sep 25, 2018 . Verified")),r.a.createElement(it.a,{item:!0,lg:12,xs:12,className:"Reply"},r.a.createElement("h4",{className:"company-name"},t.address.company," reply"),r.a.createElement("span",{className:"Reply-Review"},"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.")))})),r.a.createElement("div",{className:"pagination"},pt),r.a.createElement(an.a,null),r.a.createElement("div",{className:"credential",ref:Xe},r.a.createElement(it.a,{item:!0,xs:12},r.a.createElement("h3",{className:"reviews"},"Credentials",r.a.createElement(Pd.a,{className:"info-icon"}))),r.a.createElement(it.a,{container:!0,spacing:3},r.a.createElement(it.a,{item:!0,lg:5,xs:12,style:{paddingLeft:"0px",textAlign:"left"}},r.a.createElement("h3",{className:"credential"},"License ",r.a.createElement(Cd.a,{className:"tick-mark"})),r.a.createElement("span",{className:"license-type"},"License Type: Landscape Architecture(MN)")),r.a.createElement(it.a,{item:!0,lg:3,xs:12,style:{paddingLeft:"0px",textAlign:"left"}},r.a.createElement("h3",{className:"credential"},"Background Check ",r.a.createElement(Cd.a,{className:"tick-mark"})),r.a.createElement("span",{className:"license-type"},"Benjamin Erickson"))),r.a.createElement(it.a,{item:!0,lg:12,xs:12,className:"paddingtopbottom"},r.a.createElement("span",{className:"view"},"View credential details"))),r.a.createElement(an.a,null),r.a.createElement("div",{className:"FAQs",ref:ot},r.a.createElement(it.a,{container:!0,className:"que-ans"},r.a.createElement(it.a,{item:!0,lg:12,xs:12},r.a.createElement("h3",{className:"reviews"},"FAQs")),j.map(function(e){return r.a.createElement(it.a,{key:e.question,item:!0,lg:12,xs:12},r.a.createElement("h3",{className:"question"},e.question),r.a.createElement("p",{className:"ans"},e.answer),r.a.createElement(an.a,null))})),r.a.createElement("div",{className:"show-less"},r.a.createElement("span",null,"Show less"))))}),r.a.createElement("div",{className:"message-box"},r.a.createElement(W.a,{className:"msg-box-align"},r.a.createElement(se.a,{variant:"contained",onClick:function(){vt(!0)},color:"primary",className:"msg-box-btn"},r.a.createElement(Wd.a,{className:"message-box-icon"})," Message Pro")),r.a.createElement(ss.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:bt,onClose:Je},r.a.createElement("div",{className:"service-modal"},r.a.createElement(Bc.a,{onClick:Je,className:"modal-close"}),r.a.createElement(it.a,{className:"modal-page-col",item:!0,xs:10},r.a.createElement("span",{variant:"subtitle2",color:"textSecondary"},0===_e?1:1===_e?2:2===_e?3:3===_e?4:4===_e?5:5===_e?6:6===_e?7:""," of 7")),r.a.createElement(it.a,{container:!0,spacing:2},0===_e?r.a.createElement(Ss,{parentCallback:function(e){V(e)},errorMessage:je}):1===_e?r.a.createElement(bs,{data:Ge,serviceCallback:function(e){Y(e)},errorMessage:je}):2===_e?r.a.createElement(Cs,{data:Ge,propertyCallback:function(e){Q(e),""!==e&&Re(function(e){return e+1})},errorMessage:je}):3===_e?r.a.createElement(hs,{data:Ge,areaCallback:function(e){ae(e),""!==e&&Re(function(e){return e+1})},errorMessage:je}):4===_e?r.a.createElement(ys,{data:Ge,budjetCallbackvalue:function(e){pe(e)},budjetCallback:function(e){ce(e),""!==e&&Re(function(e){return e+1})},errorMessage:je}):5===_e?r.a.createElement(Ps,{data:Ge,MaterialCallback:function(e){he(e),""!==e&&Re(function(e){return e+1})},errorMessage:je}):6===_e?r.a.createElement(Os,{charCountback:function(e){Ve(e)},discCallback:function(e){Ee(e)},errorMessage:je}):Je()),r.a.createElement(ls.a,{variant:"progress",steps:7,position:"static",activeStep:_e,className:qe.root}),r.a.createElement(it.a,{container:!0,spacing:0},r.a.createElement(it.a,{item:!0,xs:12,style:{textAlign:"center",margin:"20px 0px"}},r.a.createElement(se.a,{variant:"contained",className:"service-modal-prev",onClick:function(){Re(function(e){return e-1})},disabled:0===_e},"rtl"===t.direction?r.a.createElement(ds.a,null):r.a.createElement(us.a,null),"Prev"),r.a.createElement(se.a,{variant:"contained",className:"service-modal-next",onClick:Ye,disabled:7===_e},6===_e?"Submit":"Next","rtl"===t.direction?r.a.createElement(us.a,null):r.a.createElement(ds.a,null))))))))}),Vd=a(39),Gd=Object(Vd.a)(),qd=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={checkingSession:!0},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t,a,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.location,n=t.setUserProfile,"/callback"!==a.pathname&&!R.isAuthenticated()){e.next=4;break}return this.setState({checkingSession:!1}),e.abrupt("return");case 4:return e.prev=4,e.next=7,R.silentAuth();case 7:return e.next=9,R.getUserInfo();case 9:r=e.sent,n(r),this.setState({checkingSession:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),"login_required"!==e.t0.error&&console.log(e.t0.error),this.setState({checkingSession:!1});case 18:case"end":return e.stop()}},e,this,[[4,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.userProfile,a=e.classes;return this.state.checkingSession||R.isAuthenticated()&&!t?r.a.createElement(Yp.a,{className:a.waitingSpin}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:!0===R.isAuthenticated()?a.root:"beforeLogin"},!1===R.isAuthenticated()?r.a.createElement(Zp,null):r.a.createElement(Jp,null),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(Zl.a,{className:a.container,maxWidth:!1},r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:ki}),r.a.createElement(j.b,{path:"/contractorList",component:gd}),r.a.createElement(j.b,{path:"/contractordetails/:Id",component:Hd,history:Gd}),r.a.createElement(L,{path:"/gen-contractor",component:Ds}),r.a.createElement(L,{path:"/s_cont",component:jl}),r.a.createElement(L,{path:"/b_list",component:Pl}),r.a.createElement(L,{path:"/projects",component:fi}),r.a.createElement(L,{path:"/m_temp",component:Il}),r.a.createElement(L,{path:"/m_spec",component:oi}),r.a.createElement(L,{path:"/m_cont",component:pi}),r.a.createElement(L,{path:"/profile",component:_u}),r.a.createElement(L,{path:"/settings",component:gp}),r.a.createElement(j.b,{exact:!0,path:"/search-city",component:Gu}),r.a.createElement(j.b,{exact:!0,path:"/search-service",component:Xu}),r.a.createElement(j.b,{exact:!0,path:"/search-complete",component:tp}),r.a.createElement(j.b,{exact:!0,path:"/search-contractor",component:Fu}),r.a.createElement(j.b,{exact:!0,path:"/callback",component:Xp}),r.a.createElement(j.a,{to:"/"}))))),!0===R.isAuthenticated()?"":r.a.createElement(ud,null))}}]),t}(r.a.Component),Jd=Object(I.d)(j.g,Object(s.b)(function(e){return{userProfile:e.global_data.userProfile}},{setUserProfile:qa}),Object(w.a)(pd))(qd),Yd=function(){return r.a.createElement(p.a,{theme:m},r.a.createElement(Jd,null))},$d=a(442),Kd=a(930);function Xd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Qd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xd(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xd(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Zd,em=Object(Kd.a)((Ud={},Object(G.a)(Ud,"SET_USER_PROFILE",function(e,t){return Qd({},e,{userProfile:t.payload})}),Object(G.a)(Ud,"SET_DETAIL_PROPOSAL",function(e,t){return Qd({},e,{proposalDetail:t.payload})}),Object(G.a)(Ud,"SET_SELECTED_PROPOSAL",function(e,t){return Qd({},e,{proposal:t.payload})}),Object(G.a)(Ud,"PROPOSALS_LOADED",function(e,t){return Qd({},e,{proposals:t.payload})}),Object(G.a)(Ud,"PROJECT_DETAIL_LOADED",function(e,t){return Qd({},e,{project:t.payload})}),Object(G.a)(Ud,"SET_CURRENT_PROJECT",function(e,t){return Qd({},e,{currentProjectId:t.payload})}),Object(G.a)(Ud,"PROPOSAL_MESSAGES_LOADED",function(e,t){return Qd({},e,{proposalMessages:t.payload})}),Object(G.a)(Ud,"CLEAR_SELECTED_PROJECT",function(e,t){return Qd({},e,{project:t.payload})}),Object(G.a)(Ud,"CLEAR_SELECTED_PROPOSAL",function(e,t){return Qd({},e,{proposal:t.payload})}),Object(G.a)(Ud,"CLEAR_PROPOSAL_MESSAGES",function(e,t){return Qd({},e,{proposalMessages:t.payload})}),Object(G.a)(Ud,"SET_PROPOSALS_COMPARE",function(e,t){return Qd({},e,{compareProps:Object(Ke.a)(t.payload)})}),Object(G.a)(Ud,"SET_HISTORY_ITEM",function(e,t){return Qd({},e,{history:t.payload})}),Ud),{userProfile:null,proposals:null,proposalMessages:null,proposal:null,project:null,proposalDetail:null,compareProps:null,currentProjectId:null,history:null});function tm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function am(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tm(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tm(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var nm=Object(Kd.a)((Zd={},Object(G.a)(Zd,"ALL_PROJECT_LOADED",function(e,t){return am({},e,{allprojects:t.payload})}),Object(G.a)(Zd,"CLEAR_ALL_PROJECTS",function(e,t){return am({},e,{allprojects:t.payload})}),Object(G.a)(Zd,"PROJECT_LOADED",function(e,t){return am({},e,{projects:t.payload})}),Object(G.a)(Zd,"TEMPLATES_LOADED",function(e,t){return am({},e,{templates:t.payload})}),Object(G.a)(Zd,"CLEAR_PROJECTS",function(e,t){return am({},e,{projects:t.payload})}),Object(G.a)(Zd,"CLEAR_TEMPLATES",function(e,t){return am({},e,{templates:t.payload})}),Object(G.a)(Zd,"CLEAR_MESSAGES",function(e,t){return am({},e,{messages:[]})}),Object(G.a)(Zd,"PROJECT_INVITED_LOADED",function(e,t){return am({},e,{invited:t.payload})}),Object(G.a)(Zd,"LEVELS_LOADED",function(e,t){return am({},e,{levels:t.payload})}),Zd),{messages:[],projects:null,allprojects:null,templates:null,invited:null,levels:null});function rm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function om(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rm(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rm(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var cm={templates:void 0,selectedTemplate:void 0,categories:void 0,selectedCategory:void 0,selectedOption:void 0,roots:void 0,currentNode:void 0,nodeTree:void 0};var sm,lm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qn:return Object.assign({},e,{templates:t.payload});case Jn:return Object.assign({},e,{selectedTemplate:t.payload});case $n:return Object.assign({},e,{selectedCategory:Object.assign({},t.payload,{tem_name:e.selectedTemplate})});case Kn:return Object.assign({},e,{selectedOption:Object.assign({},t.payload,{tem_name:e.selectedCategory.tem_name,cat_name:e.selectedCategory})});case Yn:return Object.assign({},e,{templates:null});case gt:return Object.assign({},e,{selectedCategory:{isLoading:!0}});case ht:return Object.assign({},e,{selectedOption:{isLoading:!0}});case Xn:return Object.assign({},e,{selectedTemplate:{isLoading:!0}});case Qn:return om({},e,{roots:t.payload});case Zn:return om({},e,{currentNode:t.payload});case er:return om({},e,{roots:void 0});case tr:return om({},e,{nodeTree:e.nodeTree?[].concat(Object(Ke.a)(e.nodeTree),[t.payload]):[t.payload]});case ar:if(!e.nodeTree)return e;for(var a=e.nodeTree.length-1;a>=0&&e.nodeTree[a].id!==t.payload;a--)e.nodeTree.splice(a,1);return om({},e,{nodeTree:Object(Ke.a)(e.nodeTree)});case nr:return om({},e,{nodeTree:void 0});default:return e}};function im(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function um(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?im(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):im(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var pm,dm=Object(Kd.a)((sm={},Object(G.a)(sm,"ALL_CONTRACTORS_LOADED",function(e,t){return um({},e,{contractors:t.payload})}),Object(G.a)(sm,"CLEAR_ALL_CONTRACTORS",function(e,t){return um({},e,{contractors:t.payload})}),Object(G.a)(sm,gt,function(e,t){return um({},e,{selectedCategory:{isLoading:!0}})}),Object(G.a)(sm,"CLEAR_SELECTED_CONTRACTOR",function(e,t){return um({},e,{selectedContractor:t.payload})}),Object(G.a)(sm,ht,function(e,t){return um({},e,{selectedOption:t.payload})}),Object(G.a)(sm,"CLEAR_SPECIALTIES",function(e,t){return um({},e,{specialties:t.payload})}),Object(G.a)(sm,"CONTRACTOR_DETAIL_LOADED",function(e,t){return console.log("#xxx",t.payload)||um({},e,{selectedProject:t.payload.selectedProject,files:Object(Ke.a)(t.payload.contractorFiles)})}),Object(G.a)(sm,"SET_SELECTED_CATEGORY",function(e,t){return um({},e,{selectedCategory:Object.assign({},t.payload,{tem_name:e.selectedContractor})})}),Object(G.a)(sm,"SET_SELECTED_CONTRACTOR",function(e,t){return um({},e,{selectedContractor:t.payload})}),Object(G.a)(sm,"SET_SELECTED_OPTION",function(e,t){return um({},e,{selectedOption:Object.assign({},t.payload,{tem_name:e.selectedCategory.tem_name,cat_name:e.selectedCategory})})}),Object(G.a)(sm,"SPECIALTIES_LOADED",function(e,t){return um({},e,{specialties:t.payload})}),Object(G.a)(sm,"PAST_PROJECTS_LOADED",function(e,t){return um({},e,{pastProjects:t.payload})}),Object(G.a)(sm,"PROFILE_LINKS_LOADED",function(e,t){return um({},e,{links:t.payload})}),Object(G.a)(sm,"PROFILE_PHOTOS_LOADED",function(e,t){return um({},e,{photos:t.payload})}),Object(G.a)(sm,"PROFILE_REVIEW_LOADED",function(e,t){return um({},e,{review:t.payload})}),Object(G.a)(sm,"PROFILE_LICENSE_LOADED",function(e,t){return um({},e,{license:t.payload})}),sm),{contractors:null,selectedContractor:null,categories:null,selectedCategory:null,selectedOption:null,specialties:null,files:[],pastProjects:null,photos:[],links:[],review:{},license:[]});function mm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function gm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mm(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mm(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var hm,fm={specialties:void 0,specialty:void 0,currentSpecId:"",dirty:!0},bm=Object(Kd.a)((pm={},Object(G.a)(pm,"SPEC_CREATED",function(e,t){return gm({},e,{dirty:t.payload})}),Object(G.a)(pm,"SPEC_DELETED",function(e,t){return gm({},e,{dirty:t.payload})}),Object(G.a)(pm,"SPEC_LOADED",function(e,t){return gm({},e,{specialty:t.payload})}),Object(G.a)(pm,"SPECS_LOADED",function(e,t){return gm({},e,{specialties:t.payload,dirty:!1})}),Object(G.a)(pm,"SPEC_SELECTED",function(e,t){return gm({},e,{specialty:t.payload})}),Object(G.a)(pm,"SPEC_SET_PAGEINFO",function(e,t){return gm({},e,{},t.payload)}),Object(G.a)(pm,"SPEC_UPDATED",function(e,t){return gm({},e,{dirty:t.payload})}),pm),fm);function vm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Em(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vm(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vm(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ym=Object(Kd.a)((hm={},Object(G.a)(hm,"CLEAR_PROPOSALS",function(e,t){return Em({},e,{proposals:t.payload})}),Object(G.a)(hm,"INVITED_PROJECT_LOADED",function(e,t){return Em({},e,{projects:t.payload})}),Object(G.a)(hm,"PROPOSALS_LOADED",function(e,t){return Em({},e,{proposals:t.payload})}),hm),{proposals:null,projects:null}),xm=Object(I.c)({global_data:em,gen_data:nm,tem_data:lm,cont_data:dm,spec_data:bm,sub_data:ym}),jm=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,wm=Object(I.e)(xm,jm(Object(I.a)($d.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.load({google:{families:["Roboto:300,400,500,600,700","sans-serif"]}}),c.a.render(r.a.createElement(s.a,{store:wm},r.a.createElement(l.a,null,r.a.createElement(Yd,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[468,1,2]]]);
//# sourceMappingURL=main.0fe65ae7.chunk.js.map